"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var t,n,i=require("ethers"),a=e(require("tiny-invariant")),r=(e(require("tiny-warning")),require("@ethersproject/address")),u=e(require("decimal.js-light")),o=e(require("big.js")),f=e(require("toformat")),s=require("@ethersproject/bignumber"),d=require("@ethersproject/solidity"),p=require("@ethersproject/contracts");(n=exports.TradeType||(exports.TradeType={}))[n.EXACT_INPUT=0]="EXACT_INPUT",n[n.EXACT_OUTPUT=1]="EXACT_OUTPUT";var m,l={56:"0xcA143Ce32Fe78f1f7019d7d551a6402fC5350c73",97:"0xcA143Ce32Fe78f1f7019d7d551a6402fC5350c73",80001:"0xf10Bd0dA1f0e69c3334D7F8116C9082746EBC1B4",43113:"0xC07098cdCf93b2dc5c20E749cDd1ba69cB9AcEBe"},c={43113:"0x0Be60C571BdA7841D8F6eE68afDBa648EC710fD7",42261:"0x2a90276992ddC21C3585FE50f5B43D0Cf62aDe03",110001:"0x211F00f4071A4af8f0cC289d9853d778047DB8Ba"},y={43113:"0x3372de341a07418765ae12f77aee9029eaa4442a",42261:"0x9364E91ca784ca51f88dE2a76a35Ba2665bdad04",110001:"0x029f9f8e2c27627341824120ee814F31a1551256"},b=i.BigNumber.from(1e3),h=i.BigNumber.from(0),T=i.BigNumber.from(1),v=i.BigNumber.from(2),g=i.BigNumber.from(3),x=i.BigNumber.from(5),w=i.BigNumber.from(10),B=i.BigNumber.from(100);!function(e){e.uint8="uint8",e.uint256="uint256"}(m||(m={}));var k=((t={})[m.uint8]=i.BigNumber.from("0xff"),t[m.uint256]=i.BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),t);function N(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function A(e,t,n){return t&&N(e.prototype,t),n&&N(e,n),e}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function S(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,C(e,t)}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function O(e,t,n){return(O=_()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&C(a,n.prototype),a}).apply(null,arguments)}function M(e){var t="function"==typeof Map?new Map:void 0;return(M=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return O(e,arguments,E(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),C(n,e)})(e)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function D(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return F(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var q,P="setPrototypeOf"in Object,U=function(e){function t(){var n;return(n=e.call(this)||this).isInsufficientReservesError=!0,n.name=n.constructor.name,P&&Object.setPrototypeOf(R(n),(this instanceof t?this.constructor:void 0).prototype),n}return S(t,e),t}(M(Error)),W=function(e){function t(){var n;return(n=e.call(this)||this).isInsufficientInputAmountError=!0,n.name=n.constructor.name,P&&Object.setPrototypeOf(R(n),(this instanceof t?this.constructor:void 0).prototype),n}return S(t,e),t}(M(Error));function L(e,t){e.gte(h)||a(!1),e.lte(k[t])||a(!1)}function V(e){try{return r.getAddress(e)}catch(e){a(!1)}}function X(e){return e instanceof i.BigNumber?e:i.BigNumber.from("bigint"==typeof e?e.toString():e)}function G(e){L(e,m.uint256);var t,n=h;if(e.gt(g))for(n=e,t=e.div(v).add(T);t.lt(n);)n=t,t=e.div(t).add(t).div(v);else e.eq(h)||(n=T);return n}var H,j=function(e,t,n,i){this.decimals=t,this.symbol=n,this.name=i,this.chainId=e};(H=exports.ChainId||(exports.ChainId={}))[H.BSC_MAINNET=56]="BSC_MAINNET",H[H.BSC_TESTNET=97]="BSC_TESTNET",H[H.AVAX_MAINNET=43114]="AVAX_MAINNET",H[H.AVAX_TESTNET=43113]="AVAX_TESTNET",H[H.ARBITRUM_MAINNET=42161]="ARBITRUM_MAINNET",H[H.ARBITRUM_TETSNET_RINKEBY=421611]="ARBITRUM_TETSNET_RINKEBY",H[H.MATIC_MAINNET=137]="MATIC_MAINNET",H[H.MATIC_TESTNET=80001]="MATIC_TESTNET",H[H.OASIS_TESTNET=42261]="OASIS_TESTNET",H[H.OASIS_MAINNET=42262]="OASIS_MAINNET",H[H.QUARKCHAIN_DEV_S0=110001]="QUARKCHAIN_DEV_S0";var K,Y,z=((q={})[exports.ChainId.BSC_MAINNET]=new j(exports.ChainId.BSC_MAINNET,18,"BNB","BNB"),q[exports.ChainId.BSC_TESTNET]=new j(exports.ChainId.BSC_TESTNET,18,"BNB","BNB"),q[exports.ChainId.ARBITRUM_MAINNET]=new j(exports.ChainId.ARBITRUM_MAINNET,18,"ETH","ETH"),q[exports.ChainId.ARBITRUM_TETSNET_RINKEBY]=new j(exports.ChainId.ARBITRUM_TETSNET_RINKEBY,18,"ETH","ETH"),q[exports.ChainId.AVAX_MAINNET]=new j(exports.ChainId.AVAX_MAINNET,18,"AVAX","AVAX"),q[exports.ChainId.AVAX_TESTNET]=new j(exports.ChainId.AVAX_TESTNET,18,"AVAX","AVAX"),q[exports.ChainId.MATIC_MAINNET]=new j(exports.ChainId.MATIC_MAINNET,18,"MATIC","MATIC"),q[exports.ChainId.MATIC_TESTNET]=new j(exports.ChainId.MATIC_TESTNET,18,"MATIC","MATIC"),q[exports.ChainId.OASIS_MAINNET]=new j(exports.ChainId.OASIS_MAINNET,18,"ROSE","ROSE"),q[exports.ChainId.OASIS_TESTNET]=new j(exports.ChainId.OASIS_TESTNET,18,"ROSE","ROSE"),q[exports.ChainId.QUARKCHAIN_DEV_S0]=new j(exports.ChainId.QUARKCHAIN_DEV_S0,18,"QKC","QKC"),q),Q=function(e){function t(t,n,i,a,r,u){var o;return(o=e.call(this,t,i,a,r)||this).address=V(n),o.projectLink=u,o}S(t,e);var n=t.prototype;return n.equals=function(e){return this===e||this.chainId===e.chainId&&this.address===e.address},n.sortsBefore=function(e){return this.chainId!==e.chainId&&a(!1),this.address===e.address&&a(!1),this.address.toLowerCase()<e.address.toLowerCase()},t}(j);function Z(e,t){return e instanceof Q&&t instanceof Q?e.equals(t):!(e instanceof Q||t instanceof Q||e!==t)}var J,$,ee,te=((K={})[exports.ChainId.BSC_MAINNET]=new Q(exports.ChainId.BSC_MAINNET,"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",18,"WBNB","Wrapped BNB","https://www.binance.org"),K[exports.ChainId.BSC_TESTNET]=new Q(exports.ChainId.BSC_TESTNET,"0xaE8E19eFB41e7b96815649A6a60785e1fbA84C1e",18,"WBNB","Wrapped BNB","https://www.binance.org"),K[exports.ChainId.ARBITRUM_MAINNET]=new Q(exports.ChainId.ARBITRUM_MAINNET,"0xc778417E063141139Fce010982780140Aa0cD5Ab",18,"WETH","Wrapped ETH","https://www.binance.org"),K[exports.ChainId.ARBITRUM_TETSNET_RINKEBY]=new Q(exports.ChainId.ARBITRUM_TETSNET_RINKEBY,"0xaE8E19eFB41e7b96815649A6a60785e1fbA84C1e",18,"WBNB","Wrapped BNB","https://www.binance.org"),K[exports.ChainId.AVAX_MAINNET]=new Q(exports.ChainId.AVAX_MAINNET,"0xB31f66AA3C1e785363F0875A1B74E27b85FD66c7",18,"WAVAX","Wrapped AVAX","https://www.binance.org"),K[exports.ChainId.AVAX_TESTNET]=new Q(exports.ChainId.AVAX_TESTNET,"0xd00ae08403B9bbb9124bB305C09058E32C39A48c",18,"WAVAX","Wrapped AVAX","https://www.binance.org"),K[exports.ChainId.MATIC_MAINNET]=new Q(exports.ChainId.MATIC_MAINNET,"0x0d500b1d8e8ef31e21c99d1db9a6444d3adf1270",18,"WMATIC","Wrapped MATIC","https://www.binance.org"),K[exports.ChainId.MATIC_TESTNET]=new Q(exports.ChainId.MATIC_TESTNET,"0x9c3C9283D3e44854697Cd22D3Faa240Cfb032889",18,"WMATIC","Wrapped MATIC","https://www.binance.org"),K),ne=((Y={})[exports.ChainId.BSC_MAINNET]=new Q(exports.ChainId.BSC_MAINNET,"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",18,"WBNB","Wrapped BNB","https://www.binance.org"),Y[exports.ChainId.BSC_TESTNET]=new Q(exports.ChainId.BSC_TESTNET,"0xaE8E19eFB41e7b96815649A6a60785e1fbA84C1e",18,"WBNB","Wrapped BNB","https://www.binance.org"),Y[exports.ChainId.ARBITRUM_MAINNET]=new Q(exports.ChainId.ARBITRUM_MAINNET,"0xc778417E063141139Fce010982780140Aa0cD5Ab",18,"WETH","Wrapped ETH","https://www.binance.org"),Y[exports.ChainId.ARBITRUM_TETSNET_RINKEBY]=new Q(exports.ChainId.ARBITRUM_TETSNET_RINKEBY,"0xaE8E19eFB41e7b96815649A6a60785e1fbA84C1e",18,"WBNB","Wrapped BNB","https://www.binance.org"),Y[exports.ChainId.AVAX_MAINNET]=new Q(exports.ChainId.AVAX_MAINNET,"0xB31f66AA3C1e785363F0875A1B74E27b85FD66c7",18,"WAVAX","Wrapped AVAX","https://www.binance.org"),Y[exports.ChainId.AVAX_TESTNET]=new Q(exports.ChainId.AVAX_TESTNET,"0xd00ae08403B9bbb9124bB305C09058E32C39A48c",18,"WAVAX","Wrapped AVAX","https://www.binance.org"),Y[exports.ChainId.MATIC_MAINNET]=new Q(exports.ChainId.MATIC_MAINNET,"0x0d500b1d8e8ef31e21c99d1db9a6444d3adf1270",18,"WMATIC","Wrapped MATIC","https://www.binance.org"),Y[exports.ChainId.MATIC_TESTNET]=new Q(exports.ChainId.MATIC_TESTNET,"0x9c3C9283D3e44854697Cd22D3Faa240Cfb032889",18,"WMATIC","Wrapped MATIC","https://www.binance.org"),Y[exports.ChainId.OASIS_TESTNET]=new Q(exports.ChainId.OASIS_TESTNET,"0x792296e2a15e6Ceb5f5039DecaE7A1f25b00B0B0",18,"wROSE","Wrapped ROSE","https://docs.oasis.dev/"),Y[exports.ChainId.OASIS_MAINNET]=new Q(exports.ChainId.OASIS_MAINNET,"0xfb40cd35C0cF322fA3cfB8D67b533Bd9ad7df056",18,"wROSE","Wrapped ROSE","https://docs.oasis.dev/"),Y[exports.ChainId.QUARKCHAIN_DEV_S0]=new Q(exports.ChainId.OASIS_MAINNET,"0x56fB4da0E246003DEc7dD108e47f5d8e8F4cC493",18,"wQKC","Wrapped QKC","https://docs.oasis.dev/"),Y),ie={43113:[new Q(exports.ChainId.AVAX_TESTNET,"0xca9ec7085ed564154a9233e1e7d8fef460438eea",6,"USDC","USD Coin"),new Q(exports.ChainId.AVAX_TESTNET,"0xffb3ed4960cac85372e6838fbc9ce47bcf2d073e",6,"USDT","Tether USD"),new Q(exports.ChainId.AVAX_TESTNET,"0xaea51e4fee50a980928b4353e852797b54deacd8",18,"DAI","Dai Stablecoin"),new Q(exports.ChainId.AVAX_TESTNET,"0xccf7ed44c5a0f3cb5c9a9b9f765f8d836fb93ba1",18,"TUSD","True USD")],42261:[new Q(exports.ChainId.OASIS_TESTNET,"0x9aEeeD65aE87e3b28793aefAeED59c3f10ef956b",6,"USDC","USD Coin"),new Q(exports.ChainId.OASIS_TESTNET,"0xfA0D8065755Fb3b6520149e86Ac5A3Dc3ee5Dc92",6,"USDT","Tether USD"),new Q(exports.ChainId.OASIS_TESTNET,"0xf10Bd0dA1f0e69c3334D7F8116C9082746EBC1B4",18,"DAI","Dai Stablecoin"),new Q(exports.ChainId.OASIS_TESTNET,"0x4e8848da06E40E866b82f6b52417494936c9509b",18,"TUSD","True USD")],110001:[new Q(exports.ChainId.QUARKCHAIN_DEV_S0,"0xE59c1Ddf4fAAC4Fa7C8c93d9392d4bBa55383268",6,"USDC","USD Coin"),new Q(exports.ChainId.QUARKCHAIN_DEV_S0,"0x1a69a6e206c680A8559c59b951527437CBCe6Ed7",6,"USDT","Tether USD"),new Q(exports.ChainId.QUARKCHAIN_DEV_S0,"0x51b90a5Bc99B7c76EDf3863E1d61ca6197a6e542",18,"DAI","Dai Stablecoin"),new Q(exports.ChainId.QUARKCHAIN_DEV_S0,"0xD71C821a373E16D607277DB6C1356c1209C7d866",18,"TUSD","True USD")],0:[new Q(-1,"0xCa9eC7085Ed564154a9233e1e7D8fEF460438EEA",6,"USDC","USD Coin")]},ae={43113:{0:ie[43113][0],1:ie[43113][1],2:ie[43113][2],3:ie[43113][3]},42261:{0:ie[42261][0],1:ie[42261][1],2:ie[42261][2],3:ie[42261][3]},110001:{0:ie[110001][0],1:ie[110001][1],2:ie[110001][2],3:ie[110001][3]}},re={43113:{0:ie[43113][0],1:ie[43113][1],2:ie[43113][2],3:ie[43113][3]}};(ee=exports.Rounding||(exports.Rounding={}))[ee.ROUND_DOWN=0]="ROUND_DOWN",ee[ee.ROUND_HALF_UP=1]="ROUND_HALF_UP",ee[ee.ROUND_UP=2]="ROUND_UP";var ue=f(u),oe=f(o),fe=((J={})[exports.Rounding.ROUND_DOWN]=ue.ROUND_DOWN,J[exports.Rounding.ROUND_HALF_UP]=ue.ROUND_HALF_UP,J[exports.Rounding.ROUND_UP]=ue.ROUND_UP,J),se=(($={})[exports.Rounding.ROUND_DOWN]=0,$[exports.Rounding.ROUND_HALF_UP]=1,$[exports.Rounding.ROUND_UP]=3,$),de=function(){function e(e,t){void 0===t&&(t=T),this.numerator=X(e),this.denominator=X(t)}var t=e.prototype;return t.invert=function(){return new e(this.denominator,this.numerator)},t.add=function(t){var n=t instanceof e?t:new e(X(t));return this.denominator.eq(n.denominator)?new e(this.numerator.add(n.numerator),this.denominator):new e(this.numerator.mul(n.denominator).add(n.numerator.mul(this.denominator)),this.denominator.mul(n.denominator))},t.subtract=function(t){var n=t instanceof e?t:new e(X(t));return this.denominator.eq(n.denominator)?new e(this.numerator.sub(n.numerator),this.denominator):new e(this.numerator.mul(n.denominator).sub(n.numerator.mul(this.denominator)),this.denominator.mul(n.denominator))},t.lessThan=function(t){var n=t instanceof e?t:new e(X(t));return this.numerator.mul(n.denominator).lt(n.numerator.mul(this.denominator))},t.equalTo=function(t){var n=t instanceof e?t:new e(X(t));return this.numerator.mul(n.denominator).eq(n.numerator.mul(this.denominator))},t.greaterThan=function(t){var n=t instanceof e?t:new e(X(t));return this.numerator.mul(n.denominator).gt(n.numerator.mul(this.denominator))},t.multiply=function(t){var n=t instanceof e?t:new e(X(t));return new e(this.numerator.mul(n.numerator),this.denominator.mul(n.denominator))},t.divide=function(t){var n=t instanceof e?t:new e(X(t));return new e(this.numerator.mul(n.denominator),this.denominator.mul(n.numerator))},t.toSignificant=function(e,t,n){void 0===t&&(t={groupSeparator:""}),void 0===n&&(n=exports.Rounding.ROUND_HALF_UP),Number.isInteger(e)||a(!1),e>0||a(!1),ue.set({precision:e+1,rounding:fe[n]});var i=new ue(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return i.toFormat(i.decimalPlaces(),t)},t.toFixed=function(e,t,n){return void 0===t&&(t={groupSeparator:""}),void 0===n&&(n=exports.Rounding.ROUND_HALF_UP),Number.isInteger(e)||a(!1),e>=0||a(!1),oe.DP=e,oe.RM=se[n],new oe(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,t)},A(e,[{key:"quotient",get:function(){return this.numerator.div(this.denominator)}},{key:"remainder",get:function(){return new e(this.numerator.mod(this.denominator),this.denominator)}}]),e}(),pe=new de(B),me=function(e){function t(){return e.apply(this,arguments)||this}S(t,e);var n=t.prototype;return n.toSignificant=function(e,t,n){return void 0===e&&(e=5),this.multiply(pe).toSignificant(e,t,n)},n.toFixed=function(e,t,n){return void 0===e&&(e=2),this.multiply(pe).toFixed(e,t,n)},t}(de),le=f(o),ce=function(e){function t(t,n){var i,a=X(n);return L(a,m.uint256),(i=e.call(this,a,w.pow(t.decimals))||this).currency=t,i}S(t,e),t.networkCCYAmount=function(e,n){return new t(z[e],n)};var n=t.prototype;return n.add=function(e){return Z(this.currency,e.currency)||a(!1),new t(this.currency,this.raw.add(e.raw))},n.subtract=function(e){return Z(this.currency,e.currency)||a(!1),new t(this.currency,this.raw.sub(e.raw))},n.toSignificant=function(t,n,i){return void 0===t&&(t=6),void 0===i&&(i=exports.Rounding.ROUND_DOWN),e.prototype.toSignificant.call(this,t,n,i)},n.toFixed=function(t,n,i){return void 0===t&&(t=this.currency.decimals),void 0===i&&(i=exports.Rounding.ROUND_DOWN),t<=this.currency.decimals||a(!1),e.prototype.toFixed.call(this,t,n,i)},n.toExact=function(e){return void 0===e&&(e={groupSeparator:""}),le.DP=this.currency.decimals,new le(this.numerator.toString()).div(this.denominator.toString()).toFormat(e)},n.toBigNumber=function(){return s.BigNumber.from(this.numerator.toString())},A(t,[{key:"raw",get:function(){return this.numerator}}]),t}(de),ye=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).token=t,i}S(t,e);var n=t.prototype;return n.add=function(e){return this.token.equals(e.token)||a(!1),new t(this.token,this.raw.add(e.raw))},n.subtract=function(e){return this.token.equals(e.token)||a(!1),new t(this.token,this.raw.sub(e.raw))},t}(ce),be=function(e){function t(t,n,i,a){var r;return(r=e.call(this,a,i)||this).baseCurrency=t,r.quoteCurrency=n,r.scalar=new de(w.pow(t.decimals),w.pow(n.decimals)),r}S(t,e),t.fromRoute=function(e,t){for(var n,i=[],a=D(e.pairData.entries());!(n=a()).done;){var r=n.value,u=r[0],o=r[1].poolPrice(e.path[u],e.path[u+1],t);i.push(o)}return i.slice(1).reduce((function(e,t){return e.multiply(t)}),i[0])};var n=t.prototype;return n.invert=function(){return new t(this.quoteCurrency,this.baseCurrency,this.numerator,this.denominator)},n.multiply=function(n){Z(this.quoteCurrency,n.baseCurrency)||a(!1);var i=e.prototype.multiply.call(this,n);return new t(this.baseCurrency,n.quoteCurrency,i.denominator,i.numerator)},n.quote=function(t,n){return Z(n.currency,this.baseCurrency)||a(!1),this.quoteCurrency instanceof Q?new ye(this.quoteCurrency,e.prototype.multiply.call(this,n.raw).quotient):ce.networkCCYAmount(t,e.prototype.multiply.call(this,n.raw).quotient)},n.toSignificant=function(e,t,n){return void 0===e&&(e=6),this.adjusted.toSignificant(e,t,n)},n.toFixed=function(e,t,n){return void 0===e&&(e=4),this.adjusted.toFixed(e,t,n)},A(t,[{key:"raw",get:function(){return new de(this.numerator,this.denominator)}},{key:"adjusted",get:function(){return e.prototype.multiply.call(this,this.scalar)}}]),t}(de),he=s.BigNumber.from(0),Te=s.BigNumber.from("1000000000000000000"),ve=s.BigNumber.from("100000000000000000000"),ge=s.BigNumber.from("1000000000000000000000000000000000000"),xe=Te.sub(s.BigNumber.from("100000000000000000")),we=Te.add(s.BigNumber.from("100000000000000000")),Be=s.BigNumber.from("128000000000000000000"),ke=s.BigNumber.from("38877084059945950922200000000000000000000000000000000000"),Ne=s.BigNumber.from("64000000000000000000"),Ae=s.BigNumber.from("6235149080811616882910000000"),Ie=s.BigNumber.from("3200000000000000000000"),Se=s.BigNumber.from("7896296018268069516100000000000000"),Ee=s.BigNumber.from("1600000000000000000000"),Ce=s.BigNumber.from("888611052050787263676000000"),_e=s.BigNumber.from("800000000000000000000"),Oe=s.BigNumber.from("298095798704172827474000"),Me=s.BigNumber.from("400000000000000000000"),Re=s.BigNumber.from("5459815003314423907810"),Fe=s.BigNumber.from("200000000000000000000"),De=s.BigNumber.from("738905609893065022723"),qe=s.BigNumber.from("100000000000000000000"),Pe=s.BigNumber.from("271828182845904523536"),Ue=s.BigNumber.from("50000000000000000000"),We=s.BigNumber.from("164872127070012814685"),Le=s.BigNumber.from("25000000000000000000"),Ve=s.BigNumber.from("128402541668774148407"),Xe=s.BigNumber.from("12500000000000000000"),Ge=s.BigNumber.from("113314845306682631683"),He=s.BigNumber.from("6250000000000000000"),je=s.BigNumber.from("106449445891785942956");function Ke(e,t){if(t.eq(0))return Te;if(e.eq(0))return he;var n,i=e,a=t;if(xe.lt(i)&&i.lt(we)){var r=Qe(i);n=r.div(Te).mul(a).add(r.mod(Te).mul(a).div(Te))}else n=ze(i).mul(a);return Ye(n=n.div(Te))}function Ye(e){if(e.lt(he))return Te.mul(Te).div(Ye(e.mul(-1)));var t;e.gte(Be)?(e=e.sub(Be),t=ke):e.gte(Ne)?(e=e.sub(Ne),t=Ae):t=s.BigNumber.from(1),e=e.mul(100);var n=ve;e.gte(Ie)&&(e=e.sub(Ie),n=n.mul(Se).div(ve)),e.gte(Ee)&&(e=e.sub(Ee),n=n.mul(Ce).div(ve)),e.gte(_e)&&(e=e.sub(_e),n=n.mul(Oe).div(ve)),e.gte(Me)&&(e=e.sub(Me),n=n.mul(Re).div(ve)),e.gte(Fe)&&(e=e.sub(Fe),n=n.mul(De).div(ve)),e.gte(qe)&&(e=e.sub(qe),n=n.mul(Pe).div(ve)),e.gte(Ue)&&(e=e.sub(Ue),n=n.mul(We).div(ve)),e.gte(Le)&&(e=e.sub(Le),n=n.mul(Ve).div(ve));var i,a=ve;return a=a.add(i=e),i=i.mul(e).div(ve).div(2),a=a.add(i),i=i.mul(e).div(ve).div(3),a=a.add(i),i=i.mul(e).div(ve).div(4),a=a.add(i),i=i.mul(e).div(ve).div(5),a=a.add(i),i=i.mul(e).div(ve).div(6),a=a.add(i),i=i.mul(e).div(ve).div(7),a=a.add(i),i=i.mul(e).div(ve).div(8),a=a.add(i),i=i.mul(e).div(ve).div(9),a=a.add(i),i=i.mul(e).div(ve).div(10),a=a.add(i),i=i.mul(e).div(ve).div(11),a=a.add(i),i=i.mul(e).div(ve).div(12),a=a.add(i),n.mul(a).div(ve).mul(t).div(100)}function ze(e){if(e.lt(Te))return ze(Te.mul(Te).div(e)).mul(-1);var t=he;e.gte(ke.mul(Te))&&(e=e.div(ke),t=t.add(Be)),e.gte(Ae.mul(Te))&&(e=e.div(Ae),t=t.add(Ne)),t=t.mul(100),(e=e.mul(100)).gte(Se)&&(e=e.mul(ve).div(Se),t=t.add(Ie)),e.gte(Ce)&&(e=e.mul(ve).div(Ce),t=t.add(Ee)),e.gte(Oe)&&(e=e.mul(ve).div(Oe),t=t.add(_e)),e.gte(Re)&&(e=e.mul(ve).div(Re),t=t.add(Me)),e.gte(De)&&(e=e.mul(ve).div(De),t=t.add(Fe)),e.gte(Pe)&&(e=e.mul(ve).div(Pe),t=t.add(qe)),e.gte(We)&&(e=e.mul(ve).div(We),t=t.add(Ue)),e.gte(Ve)&&(e=e.mul(ve).div(Ve),t=t.add(Le)),e.gte(Ge)&&(e=e.mul(ve).div(Ge),t=t.add(Xe)),e.gte(je)&&(e=e.mul(ve).div(je),t=t.add(He));var n=e.sub(ve).mul(ve).div(e.add(ve)),i=n.mul(n).div(ve),a=n,r=a;return a=a.mul(i).div(ve),r=r.add(a.div(3)),a=a.mul(i).div(ve),r=r.add(a.div(5)),a=a.mul(i).div(ve),r=r.add(a.div(7)),a=a.mul(i).div(ve),r=r.add(a.div(9)),a=a.mul(i).div(ve),r=(r=r.add(a.div(11))).mul(2),t.add(r).div(100)}function Qe(e){var t=(e=e.mul(Te)).sub(ge).mul(ge).div(e.add(ge)),n=t.mul(t).div(ge),i=t,a=i;return i=i.mul(n).div(ge),a=a.add(i.div(3)),i=i.mul(n).div(ge),a=a.add(i.div(5)),i=i.mul(n).div(ge),a=a.add(i.div(7)),i=i.mul(n).div(ge),a=a.add(i.div(9)),i=i.mul(n).div(ge),a=a.add(i.div(11)),i=i.mul(n).div(ge),a=a.add(i.div(13)),i=i.mul(n).div(ge),(a=a.add(i.div(15))).mul(2)}var Ze=Te,Je=s.BigNumber.from(1e4),$e=s.BigNumber.from("700000000000000000");function et(e,t){return e.mul(t).div(Ze)}function tt(e,t){var n=e.mul(t);return n.eq(0)?s.BigNumber.from(0):n.sub(1).div(Ze).add(1)}function nt(e,t){return e.eq(he)?he:e.mul(Ze).div(t)}function it(e,t){return e.eq(he)?he:e.mul(Ze).sub(1).div(t).add(1)}function at(e,t){var n=Ke(e,t),i=tt(n,Je).add(1);return n.lt(i)?he:n.sub(i)}function rt(e,t){var n=Ke(e,t),i=tt(n,Je).add(1);return n.add(i)}function ut(e){return e.lt(Ze)?Ze.sub(e):he}function ot(e,t){return e.gte(t)?e:t}var ft=s.BigNumber.from("300000000000000000"),st=s.BigNumber.from("300000000000000000"),dt=s.BigNumber.from("3000000000000000000"),pt=s.BigNumber.from("700000000000000000");function mt(e,t,n,i,r){r.lte(et(e,ft))||a(!1);var u=e.add(r);return et(n,ut(rt(it(e,u),nt(t,i))))}function lt(e,t,n,i,r){return r.lte(et(n,st))||a(!1),tt(e,rt(it(n,n.sub(r)),it(i,t)).sub(Ze))}function ct(e,t,n,i,a){for(var r=[],u=he,o=0;o<e.length;o++)r.push(nt(e[o].add(n[o]),e[o])),u=u.add(et(r[o],t[o]));var f=yt(e,t,n,r,u,a),s=f.invariantRatio,d=f.swapFees;return{lpOut:s.gt(Ze)?et(i,s.sub(Ze)):he,swapFees:d}}function yt(e,t,n,i,a,r){for(var u=[],o=Ze,f=0;f<e.length;f++){var s=void 0;if(i[f].gt(a)){var d=et(e[f],a.sub(Ze)),p=n[f].sub(d),m=tt(p,r);s=d.add(p.sub(m)),u[f]=m}else s=n[f];o=et(o,at(nt(e[f].add(s),e[f]),t[f]))}return{invariantRatio:o,swapFees:u}}function bt(e,t,n){for(var i=it(t,n),a=[],r=0;r<e.length;r++)a.push(tt(e[r],i));return a}function ht(e,t,n,i,a){for(var r=Array(e.length),u=he,o=0;o<e.length;o++)r[o]=it(e[o].sub(n[o]),e[o]),u=u.add(tt(r[o],t[o]));var f=Tt(e,t,n,r,u,a),s=f.swapFees;return{lpIn:tt(i,ut(f.invariantRatio)),swapFees:s}}function Tt(e,t,n,i,a,r){for(var u=Array(e.length),o=Ze,f=0;f<e.length;f++){var s=void 0;if(a.gt(i[f])){var d=et(e[f],ut(a)),p=n[f].sub(d),m=it(p,Ze.sub(r));u[f]=m.sub(p),s=d.add(m)}else s=n[f];o=et(o,at(nt(e[f].sub(s),e[f]),t[f]))}return{invariantRatio:o,swapFees:u}}function vt(e,t,n,i,r){var u=it(i.sub(n),i);u>=pt||a(!1);var o=et(e,ut(rt(u,nt(Ze,t)))),f=tt(o,ut(t)),s=o.sub(f),d=tt(f,r);return{swapFee:d,amountOut:s.add(f.sub(d))}}var gt=s.BigNumber.from(1e10);function xt(e,t,n,i,a){return vt(a[t].mul(e.tokenMultipliers[t]),e.normalizedWeights[t],n,i,e.fee)}function wt(e,t,n,i){return bt(At(i,e.tokenMultipliers),t,n)}function Bt(e,t,n,i,a){return i?ct(At(a,e.tokenMultipliers),e.normalizedWeights,At(t,e.tokenMultipliers),n,e.fee.mul(1e8)).lpOut:ht(At(a,e.tokenMultipliers),e.normalizedWeights,At(t,e.tokenMultipliers),n,e.fee.mul(1e8)).lpIn}function kt(e,t,n,i,a){var r=i.mul(e.tokenMultipliers[t]).mul(gt.sub(e.fee));return mt(a[t].mul(e.tokenMultipliers[t]).mul(gt),e.normalizedWeights[t],a[n].mul(e.tokenMultipliers[n]).mul(gt),e.normalizedWeights[n],r).div(gt).div(e.tokenMultipliers[n])}function Nt(e,t,n,i,a){return lt(a[t].mul(e.tokenMultipliers[t]).mul(gt),e.normalizedWeights[t],a[n].mul(e.tokenMultipliers[n]).mul(gt),e.normalizedWeights[n],i.mul(e.tokenMultipliers[n]).mul(gt)).div(gt.sub(e.fee)).div(e.tokenMultipliers[t]).add(1)}function At(e,t){for(var n=[],i=0;i<e.length;i++)n.push(t[i].mul(e[i]));return n}var It=s.BigNumber.from(0),St=s.BigNumber.from(1),Et=s.BigNumber.from(2),Ct=s.BigNumber.from(1e4),_t=s.BigNumber.from("256"),Ot=s.BigNumber.from("128"),Mt=s.BigNumber.from("0x080000000000000000000000000000000"),Rt=s.BigNumber.from("0x100000000000000000000000000000000"),Ft=s.BigNumber.from("0x200000000000000000000000000000000"),Dt=s.BigNumber.from("0x3f80fe03f80fe03f80fe03f80fe03f8"),qt=s.BigNumber.from("0x5b9de1d10bf4103d647b0955897ba80"),Pt=s.BigNumber.from("0x15bf0a8b1457695355fb8ac404e7a79e3"),Ut=s.BigNumber.from("0x800000000000000000000000000000000"),Wt=new Array(128);function Lt(e,t){return e.mul(Et.pow(t))}function Vt(e,t){return e.div(Et.pow(t))}function Xt(e,t,n,i){e.gt(t)||a(!1),e.lt(Ft)||a(!1);var r=e.mul(Mt).div(t),u=(r.lt(Pt)?Ht(r):Gt(r)).mul(n).div(i);if(u.lt(Ut))return[jt(u),127];var o=Yt(u);return[Kt(Vt(u,s.BigNumber.from(127-o)),s.BigNumber.from(o)),o]}function Gt(e){var t=It;if(e.gte(Rt)){var n=function(e){var t=It;if(e.lt(_t))for(;e.gt(St);)e=Vt(e,St),t=t.add(St);else for(var n=Ot;n.gt(It);n=Vt(n,St))e.gt(Lt(St,n))&&(e=Vt(e,n),t=t.or(n));return t}(e.div(Mt));e=Vt(e,n),t=n.mul(Mt)}if(e.gt(Mt))for(var i=127;i>0;--i)(e=e.mul(e).div(Mt)).gte(Rt)&&(e=Vt(e,St),t=t.add(Lt(St,s.BigNumber.from(i-1))));return t.mul(Dt).div(qt)}function Ht(e){var t,n,i,a=It;return e.gte("0xd3094c70f034de4b96ff7d5b6f99fcd8")&&(a=a.add(s.BigNumber.from("0x40000000000000000000000000000000")),e=e.mul(Mt).div(s.BigNumber.from("0xd3094c70f034de4b96ff7d5b6f99fcd8"))),e.gte("0xa45af1e1f40c333b3de1db4dd55f29a7")&&(a=a.add(s.BigNumber.from("0x20000000000000000000000000000000")),e=e.mul(Mt).div(s.BigNumber.from("0xa45af1e1f40c333b3de1db4dd55f29a7"))),e.gte("0x910b022db7ae67ce76b441c27035c6a1")&&(a=a.add(s.BigNumber.from("0x10000000000000000000000000000000")),e=e.mul(Mt).div(s.BigNumber.from("0x910b022db7ae67ce76b441c27035c6a1"))),e.gte("0x88415abbe9a76bead8d00cf112e4d4a8")&&(a=a.add(s.BigNumber.from("0x08000000000000000000000000000000")),e=e.mul(Mt).div(s.BigNumber.from("0x88415abbe9a76bead8d00cf112e4d4a8"))),e.gte("0x84102b00893f64c705e841d5d4064bd3")&&(a=a.add(s.BigNumber.from("0x04000000000000000000000000000000")),e=e.mul(Mt).div(s.BigNumber.from("0x84102b00893f64c705e841d5d4064bd3"))),e.gte("0x8204055aaef1c8bd5c3259f4822735a2")&&(a=a.add(s.BigNumber.from("0x02000000000000000000000000000000")),e=e.mul(Mt).div(s.BigNumber.from("0x8204055aaef1c8bd5c3259f4822735a2"))),e.gte("0x810100ab00222d861931c15e39b44e99")&&(a=a.add(s.BigNumber.from("0x01000000000000000000000000000000")),e=e.mul(Mt).div(s.BigNumber.from("0x810100ab00222d861931c15e39b44e99"))),e.gte("0x808040155aabbbe9451521693554f733")&&(a=a.add(s.BigNumber.from("0x00800000000000000000000000000000")),e=e.mul(Mt).div(s.BigNumber.from("0x808040155aabbbe9451521693554f733"))),n=t=e.sub(Mt),i=t.mul(t).div(Mt),a=a.add(n.mul(s.BigNumber.from("0x100000000000000000000000000000000").sub(t)).div(s.BigNumber.from("0x100000000000000000000000000000000"))),n=n.mul(i).div(Mt),a=a.add(n.mul(s.BigNumber.from("0x0aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa").sub(t)).div(s.BigNumber.from("0x200000000000000000000000000000000"))),n=n.mul(i).div(Mt),a=a.add(n.mul(s.BigNumber.from("0x099999999999999999999999999999999").sub(t)).div(s.BigNumber.from("0x300000000000000000000000000000000"))),n=n.mul(i).div(Mt),a=a.add(n.mul(s.BigNumber.from("0x092492492492492492492492492492492").sub(t)).div(s.BigNumber.from("0x400000000000000000000000000000000"))),n=n.mul(i).div(Mt),a=a.add(n.mul(s.BigNumber.from("0x08e38e38e38e38e38e38e38e38e38e38e").sub(t)).div(s.BigNumber.from("0x500000000000000000000000000000000"))),n=n.mul(i).div(Mt),a=a.add(n.mul(s.BigNumber.from("0x08ba2e8ba2e8ba2e8ba2e8ba2e8ba2e8b").sub(t)).div(s.BigNumber.from("0x600000000000000000000000000000000"))),n=n.mul(i).div(Mt),a=a.add(n.mul(s.BigNumber.from("0x089d89d89d89d89d89d89d89d89d89d89").sub(t)).div(s.BigNumber.from("0x700000000000000000000000000000000"))),n=n.mul(i).div(Mt),a.add(n.mul(s.BigNumber.from("0x088888888888888888888888888888888").sub(t)).div(s.BigNumber.from("0x800000000000000000000000000000000")))}function jt(e){var t,n,i=It;return n=(n=t=e.mod(s.BigNumber.from("0x10000000000000000000000000000000"))).mul(t).div(Mt),i=i.add(n.mul(s.BigNumber.from("0x10e1b3be415a0000"))),n=n.mul(t).div(Mt),i=i.add(n.mul(s.BigNumber.from("0x05a0913f6b1e0000"))),n=n.mul(t).div(Mt),i=i.add(n.mul(s.BigNumber.from("0x0168244fdac78000"))),n=n.mul(t).div(Mt),i=i.add(n.mul(s.BigNumber.from("0x004807432bc18000"))),n=n.mul(t).div(Mt),i=i.add(n.mul(s.BigNumber.from("0x000c0135dca04000"))),n=n.mul(t).div(Mt),i=i.add(n.mul(s.BigNumber.from("0x0001b707b1cdc000"))),n=n.mul(t).div(Mt),i=i.add(n.mul(s.BigNumber.from("0x000036e0f639b800"))),n=n.mul(t).div(Mt),i=i.add(n.mul(s.BigNumber.from("0x00000618fee9f800"))),n=n.mul(t).div(Mt),i=i.add(n.mul(s.BigNumber.from("0x0000009c197dcc00"))),n=n.mul(t).div(Mt),i=i.add(n.mul(s.BigNumber.from("0x0000000e30dce400"))),n=n.mul(t).div(Mt),i=i.add(n.mul(s.BigNumber.from("0x000000012ebd1300"))),n=n.mul(t).div(Mt),i=i.add(n.mul(s.BigNumber.from("0x0000000017499f00"))),n=n.mul(t).div(Mt),i=i.add(n.mul(s.BigNumber.from("0x0000000001a9d480"))),n=n.mul(t).div(Mt),i=i.add(n.mul(s.BigNumber.from("0x00000000001c6380"))),n=n.mul(t).div(Mt),i=i.add(n.mul(s.BigNumber.from("0x000000000001c638"))),n=n.mul(t).div(Mt),i=i.add(n.mul(s.BigNumber.from("0x0000000000001ab8"))),n=n.mul(t).div(Mt),i=i.add(n.mul(s.BigNumber.from("0x000000000000017c"))),n=n.mul(t).div(Mt),i=i.add(n.mul(s.BigNumber.from("0x0000000000000014"))),n=n.mul(t).div(Mt),i=(i=i.add(n.mul(s.BigNumber.from("0x0000000000000001")))).div(s.BigNumber.from("0x21c3677c82b40000")).add(t).add(Mt),e.and(s.BigNumber.from("0x010000000000000000000000000000000")).isZero()||(i=i.mul(s.BigNumber.from("0x1c3d6a24ed82218787d624d3e5eba95f9")).div(s.BigNumber.from("0x18ebef9eac820ae8682b9793ac6d1e776"))),e.and(s.BigNumber.from("0x020000000000000000000000000000000")).isZero()||(i=i.mul(s.BigNumber.from("0x18ebef9eac820ae8682b9793ac6d1e778")).div(s.BigNumber.from("0x1368b2fc6f9609fe7aceb46aa619baed4"))),e.and(s.BigNumber.from("0x040000000000000000000000000000000")).isZero()||(i=i.mul(s.BigNumber.from("0x1368b2fc6f9609fe7aceb46aa619baed5")).div(s.BigNumber.from("0x0bc5ab1b16779be3575bd8f0520a9f21f"))),e.and(s.BigNumber.from("0x080000000000000000000000000000000")).isZero()||(i=i.mul(s.BigNumber.from("0x0bc5ab1b16779be3575bd8f0520a9f21e")).div(s.BigNumber.from("0x0454aaa8efe072e7f6ddbab84b40a55c9"))),e.and(s.BigNumber.from("0x100000000000000000000000000000000")).isZero()||(i=i.mul(s.BigNumber.from("0x0454aaa8efe072e7f6ddbab84b40a55c5")).div(s.BigNumber.from("0x00960aadc109e7a3bf4578099615711ea"))),e.and(s.BigNumber.from("0x200000000000000000000000000000000")).isZero()||(i=i.mul(s.BigNumber.from("0x00960aadc109e7a3bf4578099615711d7")).div(s.BigNumber.from("0x0002bf84208204f5977f9a8cf01fdce3d"))),e.and(s.BigNumber.from("0x400000000000000000000000000000000")).isZero()||(i=i.mul(s.BigNumber.from("0x0002bf84208204f5977f9a8cf01fdc307")).div(s.BigNumber.from("0x0000003c6ab775dd0b95b4cbee7e65d11"))),i}function Kt(e,t){var n=e,i=It;return n=Vt(n.mul(e),t),i=i.add(n.mul("0x3442c4e6074a82f1797f72ac0000000")),n=Vt(n.mul(e),t),i=i.add(n.mul("0x116b96f757c380fb287fd0e40000000")),n=Vt(n.mul(e),t),i=i.add(n.mul("0x045ae5bdd5f0e03eca1ff4390000000")),n=Vt(n.mul(e),t),i=i.add(n.mul("0x00defabf91302cd95b9ffda50000000")),n=Vt(n.mul(e),t),i=i.add(n.mul("0x002529ca9832b22439efff9b8000000")),n=Vt(n.mul(e),t),i=i.add(n.mul("0x00054f1cf12bd04e516b6da88000000")),n=Vt(n.mul(e),t),i=i.add(n.mul("0x0000a9e39e257a09ca2d6db51000000")),n=Vt(n.mul(e),t),i=i.add(n.mul("0x000012e066e7b839fa050c309000000")),n=Vt(n.mul(e),t),i=i.add(n.mul("0x000001e33d7d926c329a1ad1a800000")),n=Vt(n.mul(e),t),i=i.add(n.mul("0x0000002bee513bdb4a6b19b5f800000")),n=Vt(n.mul(e),t),i=i.add(n.mul("0x00000003a9316fa79b88eccf2a00000")),n=Vt(n.mul(e),t),i=i.add(n.mul("0x0000000048177ebe1fa812375200000")),n=Vt(n.mul(e),t),i=i.add(n.mul("0x0000000005263fe90242dcbacf00000")),n=Vt(n.mul(e),t),i=i.add(n.mul("0x000000000057e22099c030d94100000")),n=Vt(n.mul(e),t),i=i.add(n.mul("0x0000000000057e22099c030d9410000")),n=Vt(n.mul(e),t),i=i.add(n.mul("0x00000000000052b6b54569976310000")),n=Vt(n.mul(e),t),i=i.add(n.mul("0x00000000000004985f67696bf748000")),n=Vt(n.mul(e),t),i=i.add(n.mul("0x000000000000003dea12ea99e498000")),n=Vt(n.mul(e),t),i=i.add(n.mul("0x00000000000000031880f2214b6e000")),n=Vt(n.mul(e),t),i=i.add(n.mul("0x000000000000000025bcff56eb36000")),n=Vt(n.mul(e),t),i=i.add(n.mul("0x000000000000000001b722e10ab1000")),n=Vt(n.mul(e),t),i=i.add(n.mul("0x0000000000000000001317c70077000")),n=Vt(n.mul(e),t),i=i.add(n.mul("0x00000000000000000000cba84aafa00")),n=Vt(n.mul(e),t),i=i.add(n.mul("0x00000000000000000000082573a0a00")),n=Vt(n.mul(e),t),i=i.add(n.mul("0x00000000000000000000005035ad900")),n=Vt(n.mul(e),t),i=i.add(n.mul("0x000000000000000000000002f881b00")),n=Vt(n.mul(e),t),i=i.add(n.mul("0x0000000000000000000000001b29340")),n=Vt(n.mul(e),t),i=i.add(n.mul("0x00000000000000000000000000efc40")),n=Vt(n.mul(e),t),i=i.add(n.mul("0x0000000000000000000000000007fe0")),n=Vt(n.mul(e),t),i=i.add(n.mul("0x0000000000000000000000000000420")),n=Vt(n.mul(e),t),i=i.add(n.mul("0x0000000000000000000000000000021")),n=Vt(n.mul(e),t),(i=i.add(n.mul("0x0000000000000000000000000000001"))).div(s.BigNumber.from("0x688589cc0e9505e2f2fee5580000000")).add(e).add(Lt(St,t))}function Yt(e){for(var t=32,n=127;t+1<n;){var i=(t+n)/2;Wt[i].gte(e)?t=i:n=i}return Wt[n].gte(e)?n:Wt[t].gte(e)?t:void a(!1)}function zt(e,t,n,i,r,u){e.gt(It)||a(!1),t.gt(It)&&n.gt(It)||a(!1);var o=e.mul(Ct.sub(u));if(i.eq(r))return n.mul(o).div(t.mul(Ct).add(o));var f=Xt(t.mul(Ct).add(o),t.mul(Ct),i,r),d=f[0],p=f[1],m=n.mul(d),l=Lt(n,s.BigNumber.from(p));return m.sub(l).div(d)}function Qt(e,t,n,i,r,u){if(e.gt(It)||a(!1),t.gt(It)&&n.gt(It)||a(!1),i.eq(r)){var o=t.mul(e).mul(Ct),f=n.sub(e).mul(Ct.sub(u));return o.div(f).add(1)}var d=n.sub(e),p=Xt(n,d,r,i),m=p[0],l=p[1],c=t.mul(Ct),y=c.mul(m),b=Lt(c,s.BigNumber.from(l));return Vt(y.sub(b),s.BigNumber.from(l)).div(Ct.sub(u)).add(1)}Wt[32]=s.BigNumber.from("0x1c35fedd14ffffffffffffffffffffffff"),Wt[33]=s.BigNumber.from("0x1b0ce43b323fffffffffffffffffffffff"),Wt[34]=s.BigNumber.from("0x19f0028ec1ffffffffffffffffffffffff"),Wt[35]=s.BigNumber.from("0x18ded91f0e7fffffffffffffffffffffff"),Wt[36]=s.BigNumber.from("0x17d8ec7f0417ffffffffffffffffffffff"),Wt[37]=s.BigNumber.from("0x16ddc6556cdbffffffffffffffffffffff"),Wt[38]=s.BigNumber.from("0x15ecf52776a1ffffffffffffffffffffff"),Wt[39]=s.BigNumber.from("0x15060c256cb2ffffffffffffffffffffff"),Wt[40]=s.BigNumber.from("0x1428a2f98d72ffffffffffffffffffffff"),Wt[41]=s.BigNumber.from("0x13545598e5c23fffffffffffffffffffff"),Wt[42]=s.BigNumber.from("0x1288c4161ce1dfffffffffffffffffffff"),Wt[43]=s.BigNumber.from("0x11c592761c666fffffffffffffffffffff"),Wt[44]=s.BigNumber.from("0x110a688680a757ffffffffffffffffffff"),Wt[45]=s.BigNumber.from("0x1056f1b5bedf77ffffffffffffffffffff"),Wt[46]=s.BigNumber.from("0x0faadceceeff8bffffffffffffffffffff"),Wt[47]=s.BigNumber.from("0x0f05dc6b27edadffffffffffffffffffff"),Wt[48]=s.BigNumber.from("0x0e67a5a25da4107fffffffffffffffffff"),Wt[49]=s.BigNumber.from("0x0dcff115b14eedffffffffffffffffffff"),Wt[50]=s.BigNumber.from("0x0d3e7a392431239fffffffffffffffffff"),Wt[51]=s.BigNumber.from("0x0cb2ff529eb71e4fffffffffffffffffff"),Wt[52]=s.BigNumber.from("0x0c2d415c3db974afffffffffffffffffff"),Wt[53]=s.BigNumber.from("0x0bad03e7d883f69bffffffffffffffffff"),Wt[54]=s.BigNumber.from("0x0b320d03b2c343d5ffffffffffffffffff"),Wt[55]=s.BigNumber.from("0x0abc25204e02828dffffffffffffffffff"),Wt[56]=s.BigNumber.from("0x0a4b16f74ee4bb207fffffffffffffffff"),Wt[57]=s.BigNumber.from("0x09deaf736ac1f569ffffffffffffffffff"),Wt[58]=s.BigNumber.from("0x0976bd9952c7aa957fffffffffffffffff"),Wt[59]=s.BigNumber.from("0x09131271922eaa606fffffffffffffffff"),Wt[60]=s.BigNumber.from("0x08b380f3558668c46fffffffffffffffff"),Wt[61]=s.BigNumber.from("0x0857ddf0117efa215bffffffffffffffff"),Wt[62]=s.BigNumber.from("0x07ffffffffffffffffffffffffffffffff"),Wt[63]=s.BigNumber.from("0x07abbf6f6abb9d087fffffffffffffffff"),Wt[64]=s.BigNumber.from("0x075af62cbac95f7dfa7fffffffffffffff"),Wt[65]=s.BigNumber.from("0x070d7fb7452e187ac13fffffffffffffff"),Wt[66]=s.BigNumber.from("0x06c3390ecc8af379295fffffffffffffff"),Wt[67]=s.BigNumber.from("0x067c00a3b07ffc01fd6fffffffffffffff"),Wt[68]=s.BigNumber.from("0x0637b647c39cbb9d3d27ffffffffffffff"),Wt[69]=s.BigNumber.from("0x05f63b1fc104dbd39587ffffffffffffff"),Wt[70]=s.BigNumber.from("0x05b771955b36e12f7235ffffffffffffff"),Wt[71]=s.BigNumber.from("0x057b3d49dda84556d6f6ffffffffffffff"),Wt[72]=s.BigNumber.from("0x054183095b2c8ececf30ffffffffffffff"),Wt[73]=s.BigNumber.from("0x050a28be635ca2b888f77fffffffffffff"),Wt[74]=s.BigNumber.from("0x04d5156639708c9db33c3fffffffffffff"),Wt[75]=s.BigNumber.from("0x04a23105873875bd52dfdfffffffffffff"),Wt[76]=s.BigNumber.from("0x0471649d87199aa990756fffffffffffff"),Wt[77]=s.BigNumber.from("0x04429a21a029d4c1457cfbffffffffffff"),Wt[78]=s.BigNumber.from("0x0415bc6d6fb7dd71af2cb3ffffffffffff"),Wt[79]=s.BigNumber.from("0x03eab73b3bbfe282243ce1ffffffffffff"),Wt[80]=s.BigNumber.from("0x03c1771ac9fb6b4c18e229ffffffffffff"),Wt[81]=s.BigNumber.from("0x0399e96897690418f785257fffffffffff"),Wt[82]=s.BigNumber.from("0x0373fc456c53bb779bf0ea9fffffffffff"),Wt[83]=s.BigNumber.from("0x034f9e8e490c48e67e6ab8bfffffffffff"),Wt[84]=s.BigNumber.from("0x032cbfd4a7adc790560b3337ffffffffff"),Wt[85]=s.BigNumber.from("0x030b50570f6e5d2acca94613ffffffffff"),Wt[86]=s.BigNumber.from("0x02eb40f9f620fda6b56c2861ffffffffff"),Wt[87]=s.BigNumber.from("0x02cc8340ecb0d0f520a6af58ffffffffff"),Wt[88]=s.BigNumber.from("0x02af09481380a0a35cf1ba02ffffffffff"),Wt[89]=s.BigNumber.from("0x0292c5bdd3b92ec810287b1b3fffffffff"),Wt[90]=s.BigNumber.from("0x0277abdcdab07d5a77ac6d6b9fffffffff"),Wt[91]=s.BigNumber.from("0x025daf6654b1eaa55fd64df5efffffffff"),Wt[92]=s.BigNumber.from("0x0244c49c648baa98192dce88b7ffffffff"),Wt[93]=s.BigNumber.from("0x022ce03cd5619a311b2471268bffffffff"),Wt[94]=s.BigNumber.from("0x0215f77c045fbe885654a44a0fffffffff"),Wt[95]=s.BigNumber.from("0x01ffffffffffffffffffffffffffffffff"),Wt[96]=s.BigNumber.from("0x01eaefdbdaaee7421fc4d3ede5ffffffff"),Wt[97]=s.BigNumber.from("0x01d6bd8b2eb257df7e8ca57b09bfffffff"),Wt[98]=s.BigNumber.from("0x01c35fedd14b861eb0443f7f133fffffff"),Wt[99]=s.BigNumber.from("0x01b0ce43b322bcde4a56e8ada5afffffff"),Wt[100]=s.BigNumber.from("0x019f0028ec1fff007f5a195a39dfffffff"),Wt[101]=s.BigNumber.from("0x018ded91f0e72ee74f49b15ba527ffffff"),Wt[102]=s.BigNumber.from("0x017d8ec7f04136f4e5615fd41a63ffffff"),Wt[103]=s.BigNumber.from("0x016ddc6556cdb84bdc8d12d22e6fffffff"),Wt[104]=s.BigNumber.from("0x015ecf52776a1155b5bd8395814f7fffff"),Wt[105]=s.BigNumber.from("0x015060c256cb23b3b3cc3754cf40ffffff"),Wt[106]=s.BigNumber.from("0x01428a2f98d728ae223ddab715be3fffff"),Wt[107]=s.BigNumber.from("0x013545598e5c23276ccf0ede68034fffff"),Wt[108]=s.BigNumber.from("0x01288c4161ce1d6f54b7f61081194fffff"),Wt[109]=s.BigNumber.from("0x011c592761c666aa641d5a01a40f17ffff"),Wt[110]=s.BigNumber.from("0x0110a688680a7530515f3e6e6cfdcdffff"),Wt[111]=s.BigNumber.from("0x01056f1b5bedf75c6bcb2ce8aed428ffff"),Wt[112]=s.BigNumber.from("0x00faadceceeff8a0890f3875f008277fff"),Wt[113]=s.BigNumber.from("0x00f05dc6b27edad306388a600f6ba0bfff"),Wt[114]=s.BigNumber.from("0x00e67a5a25da41063de1495d5b18cdbfff"),Wt[115]=s.BigNumber.from("0x00dcff115b14eedde6fc3aa5353f2e4fff"),Wt[116]=s.BigNumber.from("0x00d3e7a3924312399f9aae2e0f868f8fff"),Wt[117]=s.BigNumber.from("0x00cb2ff529eb71e41582cccd5a1ee26fff"),Wt[118]=s.BigNumber.from("0x00c2d415c3db974ab32a51840c0b67edff"),Wt[119]=s.BigNumber.from("0x00bad03e7d883f69ad5b0a186184e06bff"),Wt[120]=s.BigNumber.from("0x00b320d03b2c343d4829abd6075f0cc5ff"),Wt[121]=s.BigNumber.from("0x00abc25204e02828d73c6e80bcdb1a95bf"),Wt[122]=s.BigNumber.from("0x00a4b16f74ee4bb2040a1ec6c15fbbf2df"),Wt[123]=s.BigNumber.from("0x009deaf736ac1f569deb1b5ae3f36c130f"),Wt[124]=s.BigNumber.from("0x00976bd9952c7aa957f5937d790ef65037"),Wt[125]=s.BigNumber.from("0x009131271922eaa6064b73a22d0bd4f2bf"),Wt[126]=s.BigNumber.from("0x008b380f3558668c46c91c49a2f8e967b9"),Wt[127]=s.BigNumber.from("0x00857ddf0117efa215952912839f6473e6");var Zt,Jt,$t=function(){function e(e,t,n,i){this.tokenMultipliers=e,this.normalizedWeights=t,this.fee=n,this.adminFee=i}return e.mock=function(){return new e([he],[he],he,he)},e}(),en=function(){function e(e,t,n,i,a,r,u,o){this.lpAddress=o,this.tokenMultipliers=e,this.fee=t,this.adminFee=n,this.initialA=i,this.futureA=a,this.initialATime=r,this.futureATime=u}return e.mock=function(){var t=i.BigNumber.from(0);return new e([t],t,t,t,t,t,t,"")},e}(),tn=function(){function e(){}var t=e.prototype;return t.involvesToken=function(e){for(var t=0;t<Object.keys(this.tokens).length;t++)e.equals(this.tokens[t]);return!1},t.tokenFromIndex=function(e){return this.tokens[e]},t.indexFromToken=function(e){for(var t=0;t<Object.keys(this.tokens).length;t++)if(e.equals(this.tokens[t]))return t;throw new Error("token not in pool")},t.getBalances=function(){var e=this;return Object.keys(this.tokens).map((function(t,n){return e.tokenBalances[n]}))},t.token=function(e){return this.tokens[e]},t.reserveOf=function(e){this.involvesToken(e)||a(!1);for(var t=0;t<Object.keys(this.tokens).length;t++)if(e.equals(this.tokens[t]))return this.tokenBalances[t];return i.BigNumber.from(0)},t.setBalanceValueByIndex=function(e,t){this.tokenBalances[e]=t},t.setTokenBalances=function(e){this.tokenBalances=e},t.subtractBalanceValue=function(e){for(var t=[],n=0;n<this.tokenBalances.length;n++)t.push(this.indexFromToken(e.token)===n?this.tokenBalances[n].sub(e.toBigNumber()):this.tokenBalances[n]);this.setTokenBalances(t)},A(e,[{key:"chainId",get:function(){return this.tokens[0].chainId}}]),e}();(Zt=exports.PoolType||(exports.PoolType={})).Pair="Pair",Zt.StablePairWrapper="StablePairWrapper",Zt.AmplifiedWeightedPair="AmplifiedWeightedPair",Zt.PoolPairWrapper="PoolPairWrapper";var nn=s.BigNumber.from(100),an={},rn=((Jt={})[exports.ChainId.AVAX_TESTNET]="0x623d9ad8b6787321d0dff55d4f864a7cfdedfb1802a561c75cd01c62a079bc84",Jt[exports.ChainId.BSC_MAINNET]="0x623d9ad8b6787321d0dff55d4f864a7cfdedfb1802a561c75cd01c62a079bc84",Jt[exports.ChainId.AVAX_MAINNET]="0x623d9ad8b6787321d0dff55d4f864a7cfdedfb1802a561c75cd01c62a079bc84",Jt[exports.ChainId.OASIS_MAINNET]="0x623d9ad8b6787321d0dff55d4f864a7cfdedfb1802a561c75cd01c62a079bc84",Jt[exports.ChainId.OASIS_TESTNET]="0x623d9ad8b6787321d0dff55d4f864a7cfdedfb1802a561c75cd01c62a079bc84",Jt[exports.ChainId.BSC_TESTNET]="0x623d9ad8b6787321d0dff55d4f864a7cfdedfb1802a561c75cd01c62a079bc84",Jt[exports.ChainId.MATIC_MAINNET]="0x623d9ad8b6787321d0dff55d4f864a7cfdedfb1802a561c75cd01c62a079bc84",Jt[exports.ChainId.MATIC_TESTNET]="0x623d9ad8b6787321d0dff55d4f864a7cfdedfb1802a561c75cd01c62a079bc84",Jt[exports.ChainId.QUARKCHAIN_DEV_S0]="0x623d9ad8b6787321d0dff55d4f864a7cfdedfb1802a561c75cd01c62a079bc84",Jt[exports.ChainId.ARBITRUM_TETSNET_RINKEBY]="0x623d9ad8b6787321d0dff55d4f864a7cfdedfb1802a561c75cd01c62a079bc84",Jt[exports.ChainId.ARBITRUM_MAINNET]="0x623d9ad8b6787321d0dff55d4f864a7cfdedfb1802a561c75cd01c62a079bc84",Jt),un=function(e){function t(n,a,r,u,o,f,s){var d;return(d=e.call(this)||this).tokenBalances=n[0].sortsBefore(n[1])?a:[a[1],a[0]],d.tokens=n[0].sortsBefore(n[1])?n:[n[1],n[0]],d.ampBPS=f,d.weights=n[0].sortsBefore(n[1])?[u,nn.sub(u)]:[nn.sub(u),u],d.virtualReserves=n[0].sortsBefore(n[1])?r:[r[1],r[0]],d.fee=o,d.liquidityToken=new Q(n[0].chainId,s?i.ethers.utils.getAddress(s):t.getAddress(d.tokens[0],d.tokens[1],d.weights[0]),18,"Requiem-LP","Requiem LPs"),d.type=exports.PoolType.AmplifiedWeightedPair,d.address=s||t.getAddress(d.token0,d.token1,d.weight0),d}S(t,e),t.getAddress=function(e,t,n){var i,a,u,o,f,s,p,m,c,y=e.sortsBefore(t)?[e,t]:[t,e],b=e.sortsBefore(t)?[n.toString(),nn.sub(n).toString()]:[nn.sub(n).toString(),n.toString()];return void 0===(null===(i=an)||void 0===i||null===(a=i[y[0].address])||void 0===a||null===(u=a[y[1].address])||void 0===u?void 0:u[""+b[0]])&&(an=I({},an,((c={})[y[0].address]=I({},null===(o=an)||void 0===o?void 0:o[y[0].address],((m={})[y[1].address]=I({},null===(f=an)||void 0===f||null===(s=f[y[0].address])||void 0===s?void 0:s[y[1].address],((p={})[""+b[0]]=r.getCreate2Address(l[y[0].chainId],d.keccak256(["bytes"],[d.pack(["address","address","uint32"],[y[0].address,y[1].address,b[0]])]),rn[y[0].chainId]),p)),m)),c))),an[y[0].address][y[1].address][""+b[0]]},t.fromBigIntish=function(e,n,i,a,r,u,o){return new t(e,n.map((function(e){return s.BigNumber.from(e)})),i.map((function(e){return s.BigNumber.from(e)})),s.BigNumber.from(a),s.BigNumber.from(r),s.BigNumber.from(u),o)};var n=t.prototype;return n.getAddressForRouter=function(){return this.liquidityToken.address},n.involvesToken=function(e){return e.equals(this.token0)||e.equals(this.token1)},n.poolPrice=function(e,t){return e.equals(this.token0)?this.token0Price:this.token1Price},n.poolPriceBases=function(e,t){return e.equals(this.token0)?{priceBaseIn:this.tokenBalances[0].mul(this.weights[1]),priceBaseOut:this.tokenBalances[1].mul(this.weights[0])}:{priceBaseIn:this.tokenBalances[1].mul(this.weights[0]),priceBaseOut:this.tokenBalances[0].mul(this.weights[1])}},n.priceOf=function(e){return this.involvesToken(e)||a(!1),e.equals(this.token0)?this.token0Price:this.token1Price},n.reserveOf=function(e){return this.involvesToken(e)||a(!1),e.equals(this.token0)?this.reserve0.raw:this.reserve1.raw},n.virtualReserveOf=function(e){return this.involvesToken(e)||a(!1),e.equals(this.token0)?this.virtualReserve0.raw:this.virtualReserve1.raw},n.weightOf=function(e){return this.involvesToken(e)||a(!1),e.equals(this.token0)?this.weight0:this.weight1},n.getLiquidityMinted=function(e,t,n){e.token.equals(this.liquidityToken)||a(!1);var i,r=t.token.sortsBefore(n.token)?[t,n]:[n,t];if(r[0].token.equals(this.token0)&&r[1].token.equals(this.token1)||a(!1),e.raw.eq(h))i=G(r[0].raw.mul(r[1].raw)).sub(b);else{var u=r[0].raw.mul(e.raw).div(this.reserve0.raw),o=r[1].raw.mul(e.raw).div(this.reserve1.raw);i=u.lte(o)?u:o}if(!i.gt(h))throw new W;return new ye(this.liquidityToken,i)},n.getLiquidityValue=function(e,t,n,i,r){var u;if(void 0===i&&(i=!1),this.involvesToken(e)||a(!1),t.token.equals(this.liquidityToken)||a(!1),n.token.equals(this.liquidityToken)||a(!1),n.raw.lte(t.raw)||a(!1),i){r||a(!1);var o=X(r);if(o.eq(h))u=t;else{var f=G(this.reserve0.raw.mul(this.reserve1.raw)),s=G(o);if(f.gt(s)){var d=t.raw.mul(f.sub(s)),p=f.mul(x).add(s),m=d.div(p);u=t.add(new ye(this.liquidityToken,m))}else u=t}}else u=t;return new ye(e,n.raw.mul(this.reserveOf(e)).div(u.raw))},n.clone=function(){return new t(this.tokens,this.tokenBalances,this.virtualReserves,this.weight0,this.fee,this.ampBPS)},n.priceRatioOf=function(e){return this.involvesToken(e)||a(!1),e.equals(this.token0)?this.token0PriceRaw:this.token1PriceRaw},n.calculateSwapGivenIn=function(e,t,n){return zt(n,this.virtualReserveOf(e),this.virtualReserveOf(t),this.weightOf(e),this.weightOf(t),this.fee)},n.calculateSwapGivenOut=function(e,t,n){if(this.reserve0.raw.eq(h)||this.reserve1.raw.eq(h)||n.gte(this.reserveOf(t)))throw new Error("insufficcient reserves");var i=this.virtualReserveOf(t),a=this.virtualReserveOf(e),r=this.weightOf(t);return Qt(n,a,i,this.weightOf(e),r,this.fee)},n.getOutputAmount=function(e){if(this.involvesToken(e.token)||a(!1),this.reserve0.raw.eq(h)||this.reserve1.raw.eq(h))throw new Error("insufficcient reserves");var n=this.virtualReserveOf(e.token),i=this.virtualReserveOf(e.token.equals(this.token0)?this.token1:this.token0),r=this.weightOf(e.token),u=this.weightOf(e.token.equals(this.token0)?this.token1:this.token0),o=new ye(e.token.equals(this.token0)?this.token1:this.token0,zt(e.toBigNumber(),n,i,r,u,this.fee));if(o.raw.eq(h))throw new W;return[o,new t([e.token,e.token.equals(this.token0)?this.token1:this.token0],[this.reserveOf(e.token).add(e.raw),this.reserveOf(o.token).sub(o.raw)],[n.add(e.raw),i.sub(o.raw)],r,this.ampBPS,this.fee)]},n.getInputAmount=function(e){if(this.involvesToken(e.token)||a(!1),console.log("-- this 0",this.reserve0.raw,"1",this.reserve1.raw,"out",e.raw),this.reserve0.raw.eq(h)||this.reserve1.raw.eq(h)||e.raw.gte(this.reserveOf(e.token)))throw new Error("insufficcient reserves");var n=this.virtualReserveOf(e.token),i=this.virtualReserveOf(e.token.equals(this.token0)?this.token1:this.token0),r=this.weightOf(e.token),u=this.weightOf(e.token.equals(this.token0)?this.token1:this.token0),o=new ye(e.token.equals(this.token0)?this.token1:this.token0,Qt(e.toBigNumber(),i,n,u,r,this.fee));return[o,new t([o.token,e.token],[this.reserveOf(o.token).add(o.raw),this.reserveOf(e.token).sub(e.raw)],[i.add(o.raw),n.sub(e.raw)],u,this.ampBPS,this.fee)]},A(t,[{key:"amp",get:function(){return this.ampBPS}},{key:"token0Price",get:function(){return new be(this.token0,this.token1,this.tokenBalances[0].mul(this.weights[1]),this.tokenBalances[1].mul(this.weights[0]))}},{key:"token1Price",get:function(){return new be(this.token1,this.token0,this.tokenBalances[1].mul(this.weights[0]),this.tokenBalances[0].mul(this.weights[1]))}},{key:"fee0",get:function(){return this.fee}},{key:"chainId",get:function(){return this.token0.chainId}},{key:"token0",get:function(){return this.tokens[0]}},{key:"token1",get:function(){return this.tokens[1]}},{key:"reserve0",get:function(){return new ye(this.tokens[0],this.tokenBalances[0])}},{key:"reserve1",get:function(){return new ye(this.tokens[1],this.tokenBalances[1])}},{key:"virtualReserve0",get:function(){return new ye(this.tokens[0],this.virtualReserves[0])}},{key:"virtualReserve1",get:function(){return new ye(this.tokens[1],this.virtualReserves[1])}},{key:"weight0",get:function(){return this.weights[0]}},{key:"weight1",get:function(){return this.weights[1]}},{key:"token0PriceRaw",get:function(){return new be(this.token0,this.token1,this.tokenBalances[0],this.tokenBalances[1])}},{key:"token1PriceRaw",get:function(){return new be(this.token1,this.token0,this.tokenBalances[1],this.tokenBalances[0])}}]),t}(tn),on=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"provider",type:"address"},{indexed:!1,internalType:"uint256[]",name:"tokenAmounts",type:"uint256[]"},{indexed:!1,internalType:"uint256",name:"invariant",type:"uint256"},{indexed:!1,internalType:"uint256",name:"tokenSupply",type:"uint256"}],name:"AddLiquidity",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newController",type:"address"}],name:"FeeControllerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newController",type:"address"}],name:"FeeDistributorChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256[]",name:"amounts",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"feeAmounts",type:"uint256[]"}],name:"FlashLoan",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"fee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"adminFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"withdrawFee",type:"uint256"}],name:"NewFee",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"provider",type:"address"},{indexed:!1,internalType:"uint256[]",name:"tokenAmounts",type:"uint256[]"},{indexed:!1,internalType:"uint256",name:"tokenSupply",type:"uint256"}],name:"RemoveLiquidity",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"provider",type:"address"},{indexed:!1,internalType:"uint256[]",name:"tokenAmounts",type:"uint256[]"},{indexed:!1,internalType:"uint256",name:"invariant",type:"uint256"},{indexed:!1,internalType:"uint256",name:"tokenSupply",type:"uint256"}],name:"RemoveLiquidityImbalance",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"provider",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenIndex",type:"uint256"},{indexed:!1,internalType:"uint256",name:"tokenAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"coinAmount",type:"uint256"}],name:"RemoveLiquidityOne",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"buyer",type:"address"},{indexed:!1,internalType:"address",name:"soldId",type:"address"},{indexed:!1,internalType:"uint256",name:"tokensSold",type:"uint256"},{indexed:!1,internalType:"address",name:"boughtId",type:"address"},{indexed:!1,internalType:"uint256",name:"tokensBought",type:"uint256"}],name:"TokenExchange",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"POOL_TOKEN_COMMON_DECIMALS",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"uint256",name:"minMintAmount",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"addLiquidityExactIn",outputs:[{internalType:"uint256",name:"mintAmount",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"calculateRemoveLiquidityExactIn",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"index",type:"uint256"}],name:"calculateRemoveLiquidityOneToken",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"fee",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"}],name:"calculateSwapGivenIn",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountOut",type:"uint256"}],name:"calculateSwapGivenOut",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bool",name:"deposit",type:"bool"}],name:"calculateTokenAmount",outputs:[{internalType:"uint256",name:"burnAmount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeController",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeDistributor",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IFlashLoanRecipient",name:"recipient",type:"address"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"flashLoan",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getCollectedFees",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTokenBalances",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTokenMultipliers",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTokenWeights",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"_coins",type:"address[]"},{internalType:"uint8[]",name:"_decimals",type:"uint8[]"},{internalType:"uint256[]",name:"_normalizedWeights",type:"uint256[]"},{internalType:"uint256[]",name:"_amounts",type:"uint256[]"},{internalType:"string",name:"lpTokenName",type:"string"},{internalType:"string",name:"lpTokenSymbol",type:"string"},{internalType:"uint256",name:"_fee",type:"uint256"},{internalType:"uint256",name:"_flashFee",type:"uint256"},{internalType:"uint256",name:"_adminFee",type:"uint256"},{internalType:"address",name:"_feeDistributor",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"onSwapGivenIn",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"onSwapGivenOut",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"lpAmount",type:"uint256"},{internalType:"uint256[]",name:"minAmounts",type:"uint256[]"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"removeLiquidityExactIn",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"uint256",name:"maxLpBurn",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"removeLiquidityExactOut",outputs:[{internalType:"uint256",name:"burnAmount",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"lpAmount",type:"uint256"},{internalType:"uint8",name:"index",type:"uint8"},{internalType:"uint256",name:"minAmount",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"removeLiquidityOneToken",outputs:[{internalType:"uint256",name:"amountReceived",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newSwapFee",type:"uint256"},{internalType:"uint256",name:"newAdminFee",type:"uint256"},{internalType:"uint256",name:"newFlashFee",type:"uint256"}],name:"setFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_feeController",type:"address"},{internalType:"address",name:"_feeDistributor",type:"address"}],name:"setFeeControllerAndDistributor",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"swapStorage",outputs:[{internalType:"contract WeightedLPToken",name:"lpToken",type:"address"},{internalType:"uint256",name:"nTokens",type:"uint256"},{internalType:"uint256",name:"lastInvariant",type:"uint256"},{internalType:"uint256",name:"fee",type:"uint256"},{internalType:"uint256",name:"flashFee",type:"uint256"},{internalType:"uint256",name:"adminFee",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"tokenIndexes",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawAdminFee",outputs:[],stateMutability:"nonpayable",type:"function"}],fn=function(e){function t(t,n,r,u,o){var f,s;(s=e.call(this)||this).tokens=n,s.tokenBalances=r,s.address=i.ethers.utils.getAddress(t),s.lpTotalSupply=o,s.swapStorage=u,s.tokens=n,s.tokenBalances=r,s.liquidityToken=new Q(n[0].chainId,null!==(f=y[n[0].chainId])&&void 0!==f?f:"0x0000000000000000000000000000000000000001",18,"Requiem-LP","Requiem Swap LPs");for(var d=0;d<Object.values(s.tokens).length;d++)n[d].address==i.ethers.constants.AddressZero&&a(!1),n[d].decimals<=18||a(!1),n[d].chainId!==n[0].chainId&&a(!1);return s}S(t,e),t.getRouterAddress=function(e){return c[e]},t.getLpAddress=function(e){return y[e]},t.mock=function(){return new t("",[new Q(1,"0x0000000000000000000000000000000000000001",6,"Mock USDC","MUSDC")],[he],$t.mock(),he)};var n=t.prototype;return n.getAddressForRouter=function(){return c[this.tokens[0].chainId]},n.involvesToken=function(e){for(var t=0;t<Object.keys(this.tokens).length;t++)e.equals(this.tokens[t]);return!1},n.tokenFromIndex=function(e){return this.tokens[e]},n.indexFromToken=function(e){for(var t=0;t<Object.keys(this.tokens).length;t++)if(e.equals(this.tokens[t]))return t;throw new Error("token not in pool")},n.calculateSwapViaPing=function(e,t,n,a){try{return Promise.resolve(new p.Contract("0xCc62754F15f7F35E4c58Ce6aD5608fA575C5583E",new i.ethers.utils.Interface(on),a).calculateSwapGivenIn(e.address,t.address,n))}catch(e){return Promise.reject(e)}},n.calculateSwapGivenIn=function(e,t,n){return kt(this.swapStorage,this.indexFromToken(e),this.indexFromToken(t),n,this.tokenBalances)},n.calculateSwapGivenOut=function(e,t,n){return Nt(this.swapStorage,this.indexFromToken(e),this.indexFromToken(t),n,this.tokenBalances)},n.getOutputAmount=function(e,t){var n=this.calculateSwapGivenIn(e.token,t,e.raw);return new ye(t,n)},n.getInputAmount=function(e,t){var n=this.calculateSwapGivenOut(t,e.token,e.raw);return new ye(t,n.toBigInt())},n.token=function(e){return this.tokens[e]},n.reserveOf=function(e){this.involvesToken(e)||a(!1);for(var t=0;t<Object.keys(this.tokens).length;t++)if(e.equals(this.tokens[t]))return this.tokenBalances[t];return i.BigNumber.from(0)},n.calculateRemoveLiquidity=function(e){return wt(this.swapStorage,e,this.lpTotalSupply,this.tokenBalances)},n.calculateRemoveLiquidityOneToken=function(e,t){return xt(this.swapStorage,t,e,this.lpTotalSupply,this.tokenBalances)},n.getLiquidityAmount=function(e,t){return Bt(this.swapStorage,e,this.lpTotalSupply,t,this.tokenBalances)},n.getLiquidityValue=function(e,t){for(var n=i.BigNumber.from(0),a=0;a<t.length;a++)a!==e&&(n=n.add(this.calculateSwapGivenIn(this.tokens[a],this.tokens[e],t[a])));return n=n.add(t[e]),new ye(this.tokens[e],n.toBigInt())},n.setSwapStorage=function(e){this.swapStorage=e},n.setTokenBalances=function(e){this.tokenBalances=e},n.setLpTotalSupply=function(e){this.lpTotalSupply=e},n.setBalanceValueByIndex=function(e,t){this.tokenBalances[e]=t},n.setBalanceValue=function(e){for(var t=[],n=0;n<this.tokenBalances.length;n++)t.push(this.indexFromToken(e.token)===n?e.toBigNumber():this.tokenBalances[n]);this.setTokenBalances(t)},n.addBalanceValue=function(e){for(var t=[],n=0;n<this.tokenBalances.length;n++)t.push(this.indexFromToken(e.token)===n?this.tokenBalances[n].add(e.toBigNumber()):this.tokenBalances[n]);this.setTokenBalances(t)},n.subtractBalanceValue=function(e){for(var t=[],n=0;n<this.tokenBalances.length;n++)t.push(this.indexFromToken(e.token)===n?this.tokenBalances[n].sub(e.toBigNumber()):this.tokenBalances[n]);this.setTokenBalances(t)},n.clone=function(){return new t(this.address,this.tokens,this.tokenBalances,this.swapStorage,this.lpTotalSupply)},n.poolPrice=function(e,t){var n=this.indexFromToken(e),i=this.indexFromToken(t);return new be(e,t,this.swapStorage.normalizedWeights[i].mul(this.tokenBalances[n]),this.swapStorage.normalizedWeights[n].mul(this.tokenBalances[i]))},n.poolPriceBases=function(e,t){var n=this.indexFromToken(e),i=this.indexFromToken(t);return{priceBaseIn:this.swapStorage.normalizedWeights[i].mul(this.tokenBalances[n]),priceBaseOut:this.swapStorage.normalizedWeights[n].mul(this.tokenBalances[i])}},A(t,[{key:"chainId",get:function(){return this.tokens[0].chainId}}]),t}(tn),sn=i.BigNumber.from(100),dn=i.BigNumber.from(1e10),pn=i.BigNumber.from(1);function mn(e,t){for(var n=[],i=0;i<e.length;i++)n.push(t[i].mul(e[i]));return n}function ln(e,t){return e.gte(t.futureATime)?t.futureA:t.futureA.gt(t.initialA)?t.initialA.add(t.futureA.sub(t.initialA).mul(e.sub(t.initialATime)).div(t.futureATime.sub(t.initialATime))):t.initialA.sub(t.initialA.sub(t.futureA).mul(e.sub(t.initialATime))).div(t.futureATime.sub(t.initialATime))}function cn(e,t){return e.gt(t)?e.sub(t):t.sub(e)}function yn(e,t){var n=e.length,a=function(e){for(var t=i.BigNumber.from(0),n=0;n<e.length;n++)t=t.add(e[n]);return t}(e);if(a.eq(0))return i.BigNumber.from(0);for(var r=i.BigNumber.from(0),u=a,o=t.mul(n),f=0;f<256;f++){for(var s=u,d=0;d<e.length;d++)s=s.mul(u).div(e[d].mul(n));if(r=u,cn(u=o.mul(a).div(sn).add(s.mul(n)).mul(u).div(o.sub(sn).mul(u).div(sn).add(s.mul(n+1))),r).lte(1))return u}return u}function bn(e,t,n,r,u,o){e==t&&a(!1);var f=o.length;e<f&&t<f||a(!1);for(var s=ln(r,u),d=s.mul(f),p=yn(o,s),m=i.BigNumber.from(0),l=p,c=0;c<f;c++)if(c!=t){var y=c==e?n:o[c];m=m.add(y),l=l.mul(p).div(y.mul(f))}l=l.mul(p.mul(sn)).div(d.mul(f));for(var b=m.add(p.mul(sn).div(d)),h=(i.BigNumber.from(0),p),T=0;T<256;T++)if(cn(h,h=h.mul(h).add(l).div(h.mul(2).add(b).sub(p))).lte(1))return h;return i.BigNumber.from(0)}function hn(e,t,n,r){var u=n.length;t<u||a(!1);for(var o=e.mul(u),f=r,s=i.BigNumber.from(0),d=i.BigNumber.from(0),p=(i.BigNumber.from(0),0);p<u;p++)p!=t&&(s=s.add(d=n[p]),f=f.mul(r).div(d.mul(u)));f=f.mul(r).mul(sn).div(o.mul(u));for(var m=s.add(r.mul(sn).div(o)),l=r,c=0;c<256;c++)if(cn(l,l=l.mul(l).add(f).div(l.mul(2).add(m).sub(r))).lt(1))return l;return i.BigNumber.from(0)}var Tn=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"provider",type:"address"},{indexed:!1,internalType:"uint256[]",name:"tokenAmounts",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"fees",type:"uint256[]"},{indexed:!1,internalType:"uint256",name:"invariant",type:"uint256"},{indexed:!1,internalType:"uint256",name:"tokenSupply",type:"uint256"}],name:"AddLiquidity",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"CollectProtocolFee",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newController",type:"address"}],name:"FeeControllerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newController",type:"address"}],name:"FeeDistributorChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"fee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"adminFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"withdrawFee",type:"uint256"}],name:"NewFee",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"oldA",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newA",type:"uint256"},{indexed:!1,internalType:"uint256",name:"initialTime",type:"uint256"},{indexed:!1,internalType:"uint256",name:"futureTime",type:"uint256"}],name:"RampA",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"provider",type:"address"},{indexed:!1,internalType:"uint256[]",name:"tokenAmounts",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"fees",type:"uint256[]"},{indexed:!1,internalType:"uint256",name:"tokenSupply",type:"uint256"}],name:"RemoveLiquidity",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"provider",type:"address"},{indexed:!1,internalType:"uint256[]",name:"tokenAmounts",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"fees",type:"uint256[]"},{indexed:!1,internalType:"uint256",name:"invariant",type:"uint256"},{indexed:!1,internalType:"uint256",name:"tokenSupply",type:"uint256"}],name:"RemoveLiquidityImbalance",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"provider",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenIndex",type:"uint256"},{indexed:!1,internalType:"uint256",name:"tokenAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"coinAmount",type:"uint256"}],name:"RemoveLiquidityOne",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"A",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"StopRampA",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"buyer",type:"address"},{indexed:!1,internalType:"uint256",name:"soldId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"tokensSold",type:"uint256"},{indexed:!1,internalType:"uint256",name:"boughtId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"tokensBought",type:"uint256"}],name:"TokenExchange",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"MAX_A",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_ADMIN_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_A_CHANGE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_SWAP_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_WITHDRAW_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MIN_RAMP_TIME",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"uint256",name:"minMintAmount",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"addLiquidity",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"calculateCurrentWithdrawFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"calculateRemoveLiquidity",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint8",name:"index",type:"uint8"}],name:"calculateRemoveLiquidityOneToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint8",name:"inIndex",type:"uint8"},{internalType:"uint8",name:"outIndex",type:"uint8"},{internalType:"uint256",name:"inAmount",type:"uint256"}],name:"calculateSwap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"}],name:"calculateSwapGivenIn",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountOut",type:"uint256"}],name:"calculateSwapGivenOut",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bool",name:"deposit",type:"bool"}],name:"calculateTokenAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeController",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeDistributor",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getA",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAPrecise",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint8",name:"index",type:"uint8"}],name:"getAdminBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAdminBalances",outputs:[{internalType:"uint256[]",name:"adminBalances",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLpToken",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getNumberOfTokens",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint8",name:"index",type:"uint8"}],name:"getToken",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint8",name:"index",type:"uint8"}],name:"getTokenBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTokenBalances",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"getTokenIndex",outputs:[{internalType:"uint8",name:"index",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTokenPrecisionMultipliers",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTokens",outputs:[{internalType:"contract IERC20[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVirtualPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"_coins",type:"address[]"},{internalType:"uint8[]",name:"_decimals",type:"uint8[]"},{internalType:"string",name:"lpTokenName",type:"string"},{internalType:"string",name:"lpTokenSymbol",type:"string"},{internalType:"uint256",name:"_A",type:"uint256"},{internalType:"uint256",name:"_fee",type:"uint256"},{internalType:"uint256",name:"_adminFee",type:"uint256"},{internalType:"uint256",name:"_withdrawFee",type:"uint256"},{internalType:"address",name:"_feeDistributor",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"onSwap",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMin",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"onSwapGivenIn",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMax",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"onSwapGivenOut",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"futureA",type:"uint256"},{internalType:"uint256",name:"futureATime",type:"uint256"}],name:"rampA",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"lpAmount",type:"uint256"},{internalType:"uint256[]",name:"minAmounts",type:"uint256[]"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"removeLiquidity",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"uint256",name:"maxBurnAmount",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"removeLiquidityImbalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"lpAmount",type:"uint256"},{internalType:"uint8",name:"index",type:"uint8"},{internalType:"uint256",name:"minAmount",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"removeLiquidityOneToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newSwapFee",type:"uint256"},{internalType:"uint256",name:"newAdminFee",type:"uint256"},{internalType:"uint256",name:"newWithdrawFee",type:"uint256"}],name:"setFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_feeController",type:"address"}],name:"setFeeController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_feeDistributor",type:"address"}],name:"setFeeDistributor",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"stopRampA",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint8",name:"fromIndex",type:"uint8"},{internalType:"uint8",name:"toIndex",type:"uint8"},{internalType:"uint256",name:"inAmount",type:"uint256"},{internalType:"uint256",name:"minOutAmount",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"swapStorage",outputs:[{internalType:"contract LPToken",name:"lpToken",type:"address"},{internalType:"uint256",name:"fee",type:"uint256"},{internalType:"uint256",name:"adminFee",type:"uint256"},{internalType:"uint256",name:"initialA",type:"uint256"},{internalType:"uint256",name:"futureA",type:"uint256"},{internalType:"uint256",name:"initialATime",type:"uint256"},{internalType:"uint256",name:"futureATime",type:"uint256"},{internalType:"uint256",name:"defaultWithdrawFee",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"tokenIndexes",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"transferAmount",type:"uint256"}],name:"updateUserWithdrawFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawAdminFee",outputs:[],stateMutability:"nonpayable",type:"function"}],vn=function(e){function t(t,n,r,u,o,f,s,d){var p,m;(m=e.call(this)||this).tokens=t,m.currentWithdrawFee=s,m.lpTotalSupply=f,m.swapStorage=u,m.blockTimestamp=i.BigNumber.from(o),m.tokenBalances=n,m._A=r,m.liquidityToken=new Q(t[0].chainId,null!==(p=y[t[0].chainId])&&void 0!==p?p:"0x0000000000000000000000000000000000000001",18,"RequiemStable-LP","Requiem StableSwap LPs"),m.address=i.ethers.utils.getAddress(d);for(var l=0;l<Object.values(m.tokens).length;l++)t[l].address==i.ethers.constants.AddressZero&&a(!1),t[l].decimals<=18||a(!1),t[l].chainId!==t[0].chainId&&a(!1);return m}S(t,e),t.getRouterAddress=function(e){return c[e]},t.getLpAddress=function(e){return y[e]},t.mock=function(){var e=i.BigNumber.from(0);return new t([new Q(1,"0x0000000000000000000000000000000000000001",6,"Mock USDC","MUSDC")],[e],e,en.mock(),0,e,e,"0x0000000000000000000000000000000000000001")};var n=t.prototype;return n.getAddressForRouter=function(){return c[this.tokens[0].chainId]},n.involvesToken=function(e){for(var t=0;t<Object.keys(this.tokens).length;t++)e.equals(this.tokens[t]);return!1},n.tokenFromIndex=function(e){return this.tokens[e]},n.indexFromToken=function(e){for(var t=0;t<Object.keys(this.tokens).length;t++)if(e.equals(this.tokens[t]))return t;throw new Error("token not in pool")},n.getBalances=function(){var e=this;return Object.keys(this.tokens).map((function(t,n){return e.tokenBalances[n]}))},n.calculateSwapViaPing=function(e,n,a,r,u){try{return Promise.resolve(new p.Contract(t.getRouterAddress(r),new i.ethers.utils.Interface(Tn),u).calculateSwap(e.address,n.address,a))}catch(e){return Promise.reject(e)}},n.calculateSwapGivenIn=function(e,t,n){return function(e,t,n,i,a,r){var u=mn(i,r.tokenMultipliers),o=bn(e,t,u[e].add(n.mul(r.tokenMultipliers[e])),a,r,u),f=u[t].sub(o).sub(pn).div(r.tokenMultipliers[t]),s=r.fee.mul(f).div(dn);return f.sub(s)}(this.indexFromToken(e),this.indexFromToken(t),n,this.tokenBalances,this.blockTimestamp,this.swapStorage)},n.calculateSwapGivenOut=function(e,t,n){return function(e,t,n,i,a,r){var u=mn(i,r.tokenMultipliers),o=n.mul(dn).div(dn.sub(r.fee));return bn(t,e,u[t].sub(o.mul(r.tokenMultipliers[t])),a,r,u).sub(u[e]).sub(pn).div(r.tokenMultipliers[e]).add(pn)}(this.indexFromToken(e),this.indexFromToken(t),n,this.tokenBalances,this.blockTimestamp,this.swapStorage)},n.getOutputAmount=function(e,t){var n=this.calculateSwapGivenIn(e.token,t,e.toBigNumber());return new ye(t,n.toBigInt())},n.getInputAmount=function(e,t){var n=this.calculateSwapGivenOut(t,e.token,e.toBigNumber());return new ye(t,n)},n.token=function(e){return this.tokens[e]},n.reserveOf=function(e){this.involvesToken(e)||a(!1);for(var t=0;t<Object.keys(this.tokens).length;t++)if(e.equals(this.tokens[t]))return this.tokenBalances[t];return i.BigNumber.from(0)},n.calculateRemoveLiquidity=function(e){return function(e,t,n,i,r){e.lte(n)||a(!1);for(var u=e.mul(dn.sub(i)).div(dn),o=[],f=0;f<t.tokenMultipliers.length;f++)o.push(r[f].mul(u).div(n));return o}(e,this.swapStorage,this.lpTotalSupply,this.currentWithdrawFee,this.getBalances())},n.calculateRemoveLiquidityOneToken=function(e,t){return function(e,t,n,r,u,o,f){n<e.tokenMultipliers.length||a(!1);for(var s=ln(r,e),d=mn(u,e.tokenMultipliers),p=yn(d,s),m=p.sub(t.mul(p).div(o)),l=hn(s,n,d,m),c=d,y=function(e){var t=e.tokenMultipliers.length;return e.fee.mul(t).div(4*(t-1))}(e),b=0;b<e.tokenMultipliers.length;b++){var h=i.BigNumber.from(0);h=b==n?d[b].mul(m).div(p).sub(l):d[b].sub(d[b].mul(m).div(p)),c[b]=c[b].sub(y.mul(h).div(dn))}var T=c[n].sub(hn(s,n,c,m));T=T.sub(1).div(e.tokenMultipliers[n]);var v=d[n].sub(l).div(e.tokenMultipliers[n]).sub(T);return{dy:T=T.mul(dn.sub(f)).div(dn),fee:v}}(this.swapStorage,e,t,this.blockTimestamp,this.getBalances(),this.lpTotalSupply,this.currentWithdrawFee)},n.getLiquidityAmount=function(e,t){return function(e,t,n,i,r,u){var o=e.tokenMultipliers.length;t.length!=o&&a(!1);for(var f=ln(r,e),s=yn(mn(i,e.tokenMultipliers),f),d=i,p=0;p<o;p++)d[p]=n?d[p].add(t[p]):d[p].sub(t[p]);var m=yn(mn(d,e.tokenMultipliers),f);return u.eq(0)?m:(n?m.sub(s):s.sub(m)).mul(u).div(s)}(this.swapStorage,e,t,this.getBalances(),this.blockTimestamp,this.lpTotalSupply)},n.getLiquidityValue=function(e,t){for(var n=i.BigNumber.from(0),a=0;a<t.length;a++)a!==e&&(n=n.add(this.calculateSwapGivenIn(this.tokens[a],this.tokens[e],t[a])));return n=n.add(t[e]),new ye(this.tokens[e],n.toBigInt())},n.setSwapStorage=function(e){this.swapStorage=e},n.setTokenBalances=function(e){this.tokenBalances=e},n.setBlockTimestamp=function(e){this.blockTimestamp=e},n.setLpTotalSupply=function(e){this.lpTotalSupply=e},n.setBalanceValueByIndex=function(e,t){this.tokenBalances[e]=t},n.setBalanceValue=function(e){for(var t=[],n=0;n<this.tokenBalances.length;n++)t.push(this.indexFromToken(e.token)===n?e.toBigNumber():this.tokenBalances[n]);this.setTokenBalances(t)},n.addBalanceValue=function(e){for(var t=[],n=0;n<this.tokenBalances.length;n++)t.push(this.indexFromToken(e.token)===n?this.tokenBalances[n].add(e.toBigNumber()):this.tokenBalances[n]);this.setTokenBalances(t)},n.subtractBalanceValue=function(e){for(var t=[],n=0;n<this.tokenBalances.length;n++)t.push(this.indexFromToken(e.token)===n?this.tokenBalances[n].sub(e.toBigNumber()):this.tokenBalances[n]);this.setTokenBalances(t)},n.clone=function(){return new t(this.tokens,this.tokenBalances,this._A,this.swapStorage,this.blockTimestamp.toNumber(),this.lpTotalSupply,this.currentWithdrawFee,this.address)},n.poolPrice=function(e,t){var n=i.BigNumber.from(this.tokenBalances[this.indexFromToken(e)]).div(1e4);return new be(e,t,n,this.calculateSwapGivenIn(e,t,n))},n.poolPriceBases=function(e,t){var n=this.tokenBalances[this.indexFromToken(e)].div(1e4);return{priceBaseIn:n,priceBaseOut:this.calculateSwapGivenIn(e,t,n)}},A(t,[{key:"setCurrentWithdrawFee",set:function(e){this.currentWithdrawFee=e}},{key:"chainId",get:function(){return this.tokens[0].chainId}}]),t}(tn),gn=function(){function e(e,t,n){this.tokenIn=e,this.tokenOut=t,this.poolRef=n}var t=e.prototype;return t.calculateSwapGivenOut=function(e,t){return new ye(this.tokenIn,t[this.poolRef].calculateSwapGivenOut(this.tokenIn,e.token,e.raw))},t.calculateSwapGivenIn=function(e,t){return new ye(this.tokenOut,t[this.poolRef].calculateSwapGivenIn(e.token,this.tokenOut,e.raw))},t.involvesToken=function(e){return this.tokenIn.address===e.address||this.tokenOut.address===e.address},t.poolPrice=function(e,t,n){return n[this.poolRef].poolPrice(e,t)},e.singleDataFromPool=function(t,n,i){return i.tokens.includes(t)&&i.tokens.includes(n)||a(!1),new e(t,n,i.address)},t.fetchPoolPrice=function(e){var t=e[this.poolRef].poolPriceBases(this.tokenIn,this.tokenOut),n=t.priceBaseOut;this.priceBaseIn=t.priceBaseIn,this.priceBaseOut=n},A(e,[{key:"chainId",get:function(){return this.tokenIn.chainId}}]),e}(),xn=function(){function e(e,t,n){this.token0=e,this.token1=t,this.poolRef=n}var t=e.prototype;return t.calculateSwapGivenOut=function(e,t){var n=e.token.equals(this.token0)?this.token1:this.token0;return new ye(n,t[this.poolRef].calculateSwapGivenOut(n,e.token,e.raw))},t.calculateSwapGivenIn=function(e,t){var n=e.token.equals(this.token0)?this.token1:this.token0;return new ye(n,t[this.poolRef].calculateSwapGivenIn(e.token,n,e.raw))},t.involvesToken=function(e){return this.token0.address===e.address||this.token1.address===e.address},t.poolPrice=function(e,t,n){return n[this.poolRef].poolPrice(e,t)},e.dataFromPool=function(t){for(var n=[],i=0;i<t.tokenBalances.length;i++)for(var a=0;a<i;a++)n.push(new e(t.tokens[i],t.tokens[a],t.address));return n},e.singleDataFromPool=function(t,n,i){return new e(i.tokens[t],i.tokens[n],i.address)},e.dataFromPools=function(t){for(var n=[],i=0;i<t.length;i++)for(var a=t[i],r=0;r<a.tokenBalances.length;r++)for(var u=0;u<r;u++)n.push(new e(a.tokens[r],a.tokens[u],a.address));return n},t.toSwapDataFrom=function(e){return new gn(e,this.token0.equals(e)?this.token1:this.token0,this.poolRef)},t.toSwapDataTo=function(e){return new gn(this.token0.equals(e)?this.token1:this.token0,e,this.poolRef)},e.toSwapArrayFrom=function(e,t){for(var n=[],i=t,a=0;a<e.length;a++){var r=e[a].toSwapDataFrom(i);n.push(r),i=r.tokenOut}return n},e.toSwapArrayTo=function(e,t){for(var n=new Array(e.length),i=t,a=e.length-1;a>=0;a--){var r=e[a].toSwapDataTo(i);n[a]=r,i=r.tokenIn}return n},A(e,[{key:"chainId",get:function(){return this.token0.chainId}}]),e}(),wn=i.BigNumber.from(1),Bn=i.BigNumber.from(10),kn=i.BigNumber.from(2),Nn=i.BigNumber.from("141421356237309504880"),An=i.BigNumber.from("1000000000000000000");function In(e){var t=wn;if(e.gt(3)){t=e;for(var n=e.div(kn).add(wn);n<t;)t=n,n=e.div(n).add(n).div(kn)}else e.eq(0)||(t=wn);return t}function Sn(e,t){var n=e.reserve0,i=e.reserve1,a=t.equals(e.token0)?[i,e.weight0,e.weight1]:[n,e.weight1,e.weight0],r=a[1],u=a[2];return Nn.mul(a[0].toBigNumber()).div(In(u.mul(u).add(r.add(r)))).div(An)}function En(e,t,n,i){return Sn(e,i).mul(n).div(t)}var Cn=i.BigNumber.from(112),_n=i.BigNumber.from(2).pow(Cn),On=i.BigNumber.from(0);function Mn(e){return e.div(i.BigNumber.from("5192296858534827"))}function Rn(e,t){return t.gt(On)||a(!1),e.isZero()?On:e.mul(_n).div(t)}var Fn=i.BigNumber.from("10000000000000000"),Dn=i.BigNumber.from("10000000000000000"),qn=i.BigNumber.from("1000000000");function Pn(e,t){return e.mul(Dn.mul(Dn)).div(t).div(Dn)}function Un(e,t){return Mn(Rn(t.mul(qn),e)).div(Dn)}function Wn(e,t,n){return e.mul(Un(t,n)).add(Dn).div(Fn)}function Ln(e,t){return e.mul(t).div(Dn)}var Vn,Xn=function(){function e(e,t,n,i){t.length>0||a(!1),n instanceof Q&&t[0].involvesToken(n)||n===z[t[0].chainId]&&t[0].involvesToken(ne[t[0].chainId])||a(!1),void 0===i||i instanceof Q&&t[t.length-1].involvesToken(i)||i===z[t[0].chainId]&&t[t.length-1].involvesToken(ne[t[0].chainId])||a(!1);for(var r,u=[n instanceof Q?n:ne[t[0].chainId]],o=D(t.entries());!(r=o()).done;){var f=r.value,s=f[1],d=u[f[0]];d.equals(s.token0)||d.equals(s.token1)||a(!1);var p=d.equals(s.token0)?s.token1:s.token0;u.push(p)}this.pairData=t,this.path=u,this.midPrice=be.fromRoute(this,e),this.input=n,this.output=null!=i?i:u[u.length-1]}return A(e,[{key:"chainId",get:function(){return this.pairData[0].chainId}}]),e}();function Gn(e,t){return Z(e.inputAmount.currency,t.inputAmount.currency)||a(!1),Z(e.outputAmount.currency,t.outputAmount.currency)||a(!1),e.outputAmount.equalTo(t.outputAmount)?e.inputAmount.equalTo(t.inputAmount)?0:e.inputAmount.lessThan(t.inputAmount)?-1:1:e.outputAmount.lessThan(t.outputAmount)?1:-1}function Hn(e,t){return e instanceof ye?e:e.currency===z[t]?new ye(ne[t],e.raw):void a(!1)}(Vn=exports.SwapType||(exports.SwapType={}))[Vn.EXACT_INPUT=0]="EXACT_INPUT",Vn[Vn.EXACT_OUTPUT=1]="EXACT_OUTPUT";var jn=function(){function e(e,t,n,i){var r=new Array(e.path.length);if(n===exports.SwapType.EXACT_INPUT){Z(t.currency,e.input)||a(!1),r[0]=Hn(t,e.chainId);for(var u=0;u<e.path.length-1;u++){var o=e.swapData[u].calculateSwapGivenIn(r[u],i);r[u+1]=o}}else{Z(t.currency,e.output)||a(!1),r[r.length-1]=Hn(t,e.chainId);for(var f=e.path.length-1;f>0;f--){var s=e.swapData[f-1].calculateSwapGivenOut(r[f],i);r[f-1]=s}}this.route=e,this.tradeType=n,this.swapAmounts=r,this.inputAmount=n===exports.SwapType.EXACT_INPUT?t:e.input===z[e.chainId]?ce.networkCCYAmount(e.chainId,r[0].raw):r[0],this.outputAmount=n===exports.SwapType.EXACT_OUTPUT?t:e.output===z[e.chainId]?ce.networkCCYAmount(e.chainId,r[r.length-1].raw):r[r.length-1],this.executionPrice=new be(this.inputAmount.currency,this.outputAmount.currency,this.inputAmount.raw,this.outputAmount.raw)}e.exactIn=function(t,n,i){return new e(t,n,exports.SwapType.EXACT_INPUT,i)},e.exactOut=function(t,n,i){return new e(t,n,exports.SwapType.EXACT_OUTPUT,i)};var t=e.prototype;return t.minimumAmountOut=function(e){if(e.lessThan(h)&&a(!1),this.tradeType===exports.SwapType.EXACT_OUTPUT)return this.outputAmount;var t=new de(T).add(e).invert().multiply(this.outputAmount.raw).quotient;return this.outputAmount instanceof ye?new ye(this.outputAmount.token,t):ce.networkCCYAmount(this.route.chainId,t)},t.maximumAmountIn=function(e){if(e.lessThan(h)&&a(!1),this.tradeType===exports.SwapType.EXACT_INPUT)return this.inputAmount;var t=new de(T).add(e).multiply(this.inputAmount.raw).quotient;return this.inputAmount instanceof ye?new ye(this.inputAmount.token,t):ce.networkCCYAmount(this.route.chainId,t)},e.PriceRoutes=function(t,n,i,a){for(var r=[],u=0;u<t.length;u++)r.push(new e(t[u],n,i,a));return i===exports.SwapType.EXACT_INPUT?r.sort((function(e,t){return e.outputAmount.raw.lt(t.outputAmount.raw)?1:-1})):r.sort((function(e,t){return e.outputAmount.raw.gt(t.outputAmount.raw)?1:-1}))},e}(),Kn=function(){function e(e){for(var t=[e[0].tokenIn],n=[],i=0;i<e.length;i++){for(var a=e[i],r=a.tokenIn,u=a.tokenOut,o=i+1;o<e.length&&e[o].poolRef===a.poolRef;o++)u=(a=e[o]).tokenOut,i++;var f=new gn(r,u,a.poolRef);n.push(f),t.push(a.tokenOut)}this.swapData=n,this.identifier=n.map((function(e){return e.poolRef})).join("-")+t.map((function(e){return e.address.charAt(5)})).join("-"),this.path=t,this.input=t[0],this.output=t[t.length-1]}return e.prototype.equals=function(e){for(var t=0;t<this.swapData.length;t++)if(!this.swapData[t].tokenIn.equals(e.swapData[t].tokenIn)&&!this.swapData[t].tokenOut.equals(e.swapData[t].tokenOut)&&this.swapData[t].poolRef!==e.swapData[t].poolRef)return!1;return!0},e.cleanRoutes=function(e){for(var t=[],n=[],i=0;i<e.length;i++)t.includes(e[i].identifier)||(t.push(e[i].identifier),n.push(e[i]));return n},A(e,[{key:"chainId",get:function(){return this.swapData[0].chainId}}]),e}(),Yn=function(){function e(){}return e.getRouteIteration=function(t,n,i,r,u,o,f,s){void 0===r&&(r=3),void 0===u&&(u=""),void 0===o&&(o=[]),void 0===f&&(f=n),void 0===s&&(s=[]),t.length>0||a(!1),r>0||a(!1),f===n||o.length>0||a(!1);for(var d=t.filter((function(e){return e.poolRef!==u})),p=0;p<d.length;p++){var m=d[p],l=m.token0.equals(n);if(l||m.token1.equals(n)){var c,y=l?m.token1:m.token0;c=new gn(n,y,m.poolRef),y.equals(i)?s.push(new Kn([].concat(o,[c]))):r>1&&d.length>1&&e.getRouteIteration(t,y,i,r-1,m.poolRef,[].concat(o,[c]),f,s)}}return s},e.getRoutes=function(e,t,n,i){return void 0===i&&(i=3),this.getRouteIteration(e,t,n,i,"",[],t,[])},e}();function zn(e){return e.raw.toHexString()}var Qn=function(){function e(){}return e.swapCallParameters=function(e,t){var n=e.inputAmount.currency===z[e.route.chainId],i=e.outputAmount.currency===z[e.route.chainId];n&&i&&a(!1),!("ttl"in t)||t.ttl>0||a(!1);var r,u,o=V(t.recipient),f=zn(e.maximumAmountIn(t.allowedSlippage)),s=zn(e.minimumAmountOut(t.allowedSlippage)),d=[],p="ttl"in t?"0x"+(Math.floor((new Date).getTime()/1e3)+t.ttl).toString(16):"0x"+t.deadline.toString(16);if(t.multiSwap){var m=e.route.path.map((function(e){return e.address})),l=e.route.swapData.map((function(e){return e.poolRef}));switch(e.tradeType){case exports.SwapType.EXACT_INPUT:n?(r="onSwapExactETHForTokens",d=[l,m,s,o,p],u=f):i?(r="onSwapExactTokensForETH",d=[l,m,f,s,o,p],u="0x0"):(r="onSwapExactTokensForTokens",d=[l,m,f,s,o,p],u="0x0");break;case exports.SwapType.EXACT_OUTPUT:n?(r="onSwapETHForExactTokens",d=[l,m,s,o,p],u=f):i?(r="onSwapTokensForExactETH",d=[l,m,s,f,o,p],u="0x0"):(r="onSwapTokensForExactTokens",d=[l,m,s,f,o,p],u="0x0")}}else{var c=e.route.path.map((function(e){return e.address})),y=Boolean(t.feeOnTransfer);switch(e.tradeType){case exports.SwapType.EXACT_INPUT:n?(r=y?"swapExactETHForTokensSupportingFeeOnTransferTokens":"swapExactETHForTokens",d=[s,c,o,p],u=f):i?(r=y?"swapExactTokensForETHSupportingFeeOnTransferTokens":"swapExactTokensForETH",d=[f,s,c,o,p],u="0x0"):(r=y?"swapExactTokensForTokensSupportingFeeOnTransferTokens":"swapExactTokensForTokens",d=[f,s,c,o,p],u="0x0");break;case exports.SwapType.EXACT_OUTPUT:y&&a(!1),n?(r="swapETHForExactTokens",d=[s,c,o,p],u=f):i?(r="swapTokensForExactETH",d=[s,f,c,o,p],u="0x0"):(r="swapTokensForExactTokens",d=[s,f,c,o,p],u="0x0")}}return{methodName:r,args:d,value:u}},e}();exports.AmplifiedWeightedPair=un,exports.Currency=j,exports.CurrencyAmount=ce,exports.FACTORY_ADDRESS=l,exports.Fraction=de,exports.INIT_CODE_HASH={56:"0x00fb7f630766e6a796048ea87d01acd3068e8ff67d078148a3fa3f4a84f69bd5",97:"0x00fb7f630766e6a796048ea87d01acd3068e8ff67d078148a3fa3f4a84f69bd5",80001:"0xc2b3644608b464a0df0eb711ce9c6ce7535d1bd4d0154b8389738a3e7fbb1a61",43113:"0x0865ff20af2c8d0b18c74020d2df989c6840f40dbdc7f75f501820a7122786e4"},exports.INIT_CODE_HASH_WEIGHTED={43113:"0xbeec252b6527ff023d9f20fa336f9f131a002be662ce64ef7f9ed17b5ea8b591",42261:"0x0865ff20af2c8d0b18c74020d2df989c6840f40dbdc7f75f501820a7122786e4",110001:"0x0865ff20af2c8d0b18c74020d2df989c6840f40dbdc7f75f501820a7122786e4"},exports.InsufficientInputAmountError=W,exports.InsufficientReservesError=U,exports.MINIMUM_LIQUIDITY=b,exports.MIN_POW_BASE_FREE_EXPONENT=$e,exports.NETWORK_CCY=z,exports.ONE=Ze,exports.ONE_18=Te,exports.PairData=xn,exports.Percent=me,exports.Pool=tn,exports.Price=be,exports.Route=Xn,exports.RouteProvider=Yn,exports.STABLECOINS=ie,exports.STABLES_INDEX_MAP=ae,exports.STABLES_LP_TOKEN=re,exports.STABLE_POOL_ADDRESS=c,exports.STABLE_POOL_LP_ADDRESS=y,exports.StablePool=vn,exports.StableSwapStorage=en,exports.Swap=jn,exports.SwapRoute=Kn,exports.SwapRouter=Qn,exports.Token=Q,exports.TokenAmount=ye,exports.WEIGHTED_FACTORY_ADDRESS={43113:"0xacd3602152763C3AAFA705D8a90C36661ecD7d46",42261:"0x0459e858F17ef5D927625f34602432f4fac6941e",110001:"0xe092CB3124aF36a0B851839D8EC51CaaD9a3DCD0"},exports.WETH=te,exports.WRAPPED_NETWORK_TOKENS=ne,exports.WeightedPool=fn,exports.WeightedSwapStorage=$t,exports.ZERO=he,exports._calcAllTokensInGivenExactLpOut=bt,exports._calcDueTokenProtocolSwapFeeAmount=function(e,t,n,i,a){if(i.lte(n))return he;var r=it(n,i),u=nt(Ze,t),o=et(e,ut(rt(r=ot(r,$e),u)));return et(o,a)},exports._calcInGivenOut=lt,exports._calcLpInGivenExactTokensOut=ht,exports._calcLpOutGivenExactTokensIn=ct,exports._calcOutGivenIn=mt,exports._calcTokenInGivenExactLpOut=function(e,t,n,i,r){var u=it(i.add(n),i);u.lte(dt)||a(!1);var o=tt(e,rt(u,it(Ze,t)).sub(Ze)),f=tt(o,ut(t)),s=o.sub(f),d=it(f,Ze.sub(r));return{swapFee:d.sub(f),amountIn:s.add(d)}},exports._calcTokenOutGivenExactLpIn=vt,exports._calcTokensOutGivenExactLpIn=function(e,t,n){for(var i=nt(t,n),a=[],r=0;r<e.length;r++)a.push(et(e[r],i));return a},exports._calculateInvariant=function(e,t){for(var n=Ze,i=0;i<e.length;i++)n=et(n,rt(t[i],e[i]));return n.gt(0)||a(!1),n},exports._computeExitExactTokensOutInvariantRatio=Tt,exports._computeJoinExactTokensInInvariantRatio=yt,exports._ln=ze,exports._ln_36=Qe,exports._xp=At,exports.bondPrice=Wn,exports.bondPriceUsingDebtRatio=Ln,exports.calculateRemoveLiquidityExactIn=wt,exports.calculateRemoveLiquidityOneTokenExactIn=xt,exports.calculateSwapGivenIn=kt,exports.calculateSwapGivenOut=Nt,exports.calculateTokenAmount=Bt,exports.complement=ut,exports.currencyEquals=Z,exports.debtRatio=Un,exports.decode=function(e){return e.div(Cn)},exports.decode112with18=Mn,exports.divDown=nt,exports.divUp=it,exports.exp=Ye,exports.findPositionInMaxExpArray=Yt,exports.fraction=Rn,exports.fullPayoutFor=function(e,t,n,i,a,r){return Pn(En(e,n,i,a),Wn(r.controlVariable,n,t))},exports.fullPayoutForUsingDebtRatio=function(e,t,n,i,a,r){return Pn(En(e,n,i,a),Ln(r.controlVariable,t))},exports.generalExp=Kt,exports.generalLog=Gt,exports.getAmountIn=Qt,exports.getAmountOut=zt,exports.getTotalValue=Sn,exports.inputOutputComparator=Gn,exports.ln=function(e){return xe.lt(e)&&e.lt(we)?Qe(e).div(Te):ze(e)},exports.log=function(e,t){var n;return n=xe.lt(t)&&t.lt(we)?Qe(t):ze(t).mul(Te),(xe.lt(e)&&e.lt(we)?Qe(e):ze(e).mul(Te)).mul(Te).div(n)},exports.markdown=function(e,t){var n=t.equals(e.token0)?[e.reserve1.toBigNumber(),i.BigNumber.from(e.weight1.toString()),i.BigNumber.from(e.weight0.toString())]:[e.reserve0.toBigNumber(),i.BigNumber.from(e.weight0.toString()),i.BigNumber.from(e.weight1.toString())],a=n[0],r=n[2];return a.add(n[1].mul(a).div(r)).mul(Bn.pow(i.BigNumber.from(t.decimals)).div(Sn(e,t)))},exports.max=ot,exports.min=function(e,t){return e.lt(t)?e:t},exports.mulDown=et,exports.mulUp=tt,exports.optimalExp=jt,exports.optimalLog=Ht,exports.pairDataFromPools=function(e){for(var t=xn.dataFromPool(e[0]),n=1;n<e.length;n++)t=t.concat(xn.dataFromPool(e[n]));return t},exports.payoutFor=Pn,exports.pow=Ke,exports.powDown=at,exports.powUp=rt,exports.power=Xt,exports.sqrrt=In,exports.tradeComparator=function(e,t){var n=Gn(e,t);return 0!==n?n:e.route.path.length-t.route.path.length},exports.valuation=En,exports.wrappedCurrency=function(e,t){return e instanceof Q?e:e===z[t]?ne[t]:void a(!1)};
//# sourceMappingURL=sdk.cjs.production.min.js.map
