"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var t,n,i=require("ethers"),a=e(require("tiny-invariant")),r=(e(require("tiny-warning")),require("@ethersproject/address")),u=e(require("decimal.js-light")),o=e(require("big.js")),f=e(require("toformat")),s=require("@ethersproject/bignumber"),d=require("@ethersproject/solidity"),p=require("@ethersproject/contracts"),m=require("lodash");(n=exports.TradeType||(exports.TradeType={}))[n.EXACT_INPUT=0]="EXACT_INPUT",n[n.EXACT_OUTPUT=1]="EXACT_OUTPUT";var l,c={56:"0xcA143Ce32Fe78f1f7019d7d551a6402fC5350c73",97:"0xcA143Ce32Fe78f1f7019d7d551a6402fC5350c73",80001:"0xf10Bd0dA1f0e69c3334D7F8116C9082746EBC1B4",43113:"0xFb94c4CeA93f8369Fe18C3078060605eE2B14eC3"},y={43113:"0x0Be60C571BdA7841D8F6eE68afDBa648EC710fD7",42261:"0x2a90276992ddC21C3585FE50f5B43D0Cf62aDe03",110001:"0x211F00f4071A4af8f0cC289d9853d778047DB8Ba"},b=i.BigNumber.from(1e3),h=i.BigNumber.from(0),T=i.BigNumber.from(1),v=i.BigNumber.from(2),g=i.BigNumber.from(3),x=i.BigNumber.from(5),w=i.BigNumber.from(10),k=i.BigNumber.from(1e4),B=i.BigNumber.from(100);!function(e){e.uint8="uint8",e.uint256="uint256"}(l||(l={}));var N=((t={})[l.uint8]=i.BigNumber.from("0xff"),t[l.uint256]=i.BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),t);function A(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function I(e,t,n){return t&&A(e.prototype,t),n&&A(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function S(){return(S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function E(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,O(e,t)}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){return(O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function M(e,t,n){return(M=_()?Reflect.construct.bind():function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&O(a,n.prototype),a}).apply(null,arguments)}function R(e){var t="function"==typeof Map?new Map:void 0;return(R=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return M(e,arguments,C(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),O(n,e)})(e)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function P(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return D(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var q,U="setPrototypeOf"in Object,W=function(e){function t(){var n;return(n=e.call(this)||this).isInsufficientReservesError=!0,n.name=n.constructor.name,U&&Object.setPrototypeOf(F(n),(this instanceof t?this.constructor:void 0).prototype),n}return E(t,e),t}(R(Error)),L=function(e){function t(){var n;return(n=e.call(this)||this).isInsufficientInputAmountError=!0,n.name=n.constructor.name,U&&Object.setPrototypeOf(F(n),(this instanceof t?this.constructor:void 0).prototype),n}return E(t,e),t}(R(Error));function V(e,t){e.gte(h)||a(!1),e.lte(N[t])||a(!1)}function X(e){try{return r.getAddress(e)}catch(e){a(!1)}}function j(e){return e instanceof i.BigNumber?e:i.BigNumber.from("bigint"==typeof e?e.toString():e)}function G(e){V(e,l.uint256);var t,n=h;if(e.gt(g))for(n=e,t=e.div(v).add(T);t.lt(n);)n=t,t=e.div(t).add(t).div(v);else e.eq(h)||(n=T);return n}var H,K=function(e,t,n,i){this.decimals=t,this.symbol=n,this.name=i,this.chainId=e};(H=exports.ChainId||(exports.ChainId={}))[H.BSC_MAINNET=56]="BSC_MAINNET",H[H.BSC_TESTNET=97]="BSC_TESTNET",H[H.AVAX_MAINNET=43114]="AVAX_MAINNET",H[H.AVAX_TESTNET=43113]="AVAX_TESTNET",H[H.ARBITRUM_MAINNET=42161]="ARBITRUM_MAINNET",H[H.ARBITRUM_TETSNET_RINKEBY=421611]="ARBITRUM_TETSNET_RINKEBY",H[H.MATIC_MAINNET=137]="MATIC_MAINNET",H[H.MATIC_TESTNET=80001]="MATIC_TESTNET",H[H.OASIS_TESTNET=42261]="OASIS_TESTNET",H[H.OASIS_MAINNET=42262]="OASIS_MAINNET",H[H.QUARKCHAIN_DEV_S0=110001]="QUARKCHAIN_DEV_S0";var z,Q,Y=((q={})[exports.ChainId.BSC_MAINNET]=new K(exports.ChainId.BSC_MAINNET,18,"BNB","BNB"),q[exports.ChainId.BSC_TESTNET]=new K(exports.ChainId.BSC_TESTNET,18,"BNB","BNB"),q[exports.ChainId.ARBITRUM_MAINNET]=new K(exports.ChainId.ARBITRUM_MAINNET,18,"ETH","ETH"),q[exports.ChainId.ARBITRUM_TETSNET_RINKEBY]=new K(exports.ChainId.ARBITRUM_TETSNET_RINKEBY,18,"ETH","ETH"),q[exports.ChainId.AVAX_MAINNET]=new K(exports.ChainId.AVAX_MAINNET,18,"AVAX","AVAX"),q[exports.ChainId.AVAX_TESTNET]=new K(exports.ChainId.AVAX_TESTNET,18,"AVAX","AVAX"),q[exports.ChainId.MATIC_MAINNET]=new K(exports.ChainId.MATIC_MAINNET,18,"MATIC","MATIC"),q[exports.ChainId.MATIC_TESTNET]=new K(exports.ChainId.MATIC_TESTNET,18,"MATIC","MATIC"),q[exports.ChainId.OASIS_MAINNET]=new K(exports.ChainId.OASIS_MAINNET,18,"ROSE","ROSE"),q[exports.ChainId.OASIS_TESTNET]=new K(exports.ChainId.OASIS_TESTNET,18,"ROSE","ROSE"),q[exports.ChainId.QUARKCHAIN_DEV_S0]=new K(exports.ChainId.QUARKCHAIN_DEV_S0,18,"QKC","QKC"),q),Z=function(e){function t(t,n,i,a,r,u){var o;return(o=e.call(this,t,i,a,r)||this).address=X(n),o.projectLink=u,o}E(t,e);var n=t.prototype;return n.equals=function(e){return this===e||this.chainId===e.chainId&&this.address===e.address},n.sortsBefore=function(e){return this.chainId!==e.chainId&&a(!1),this.address===e.address&&a(!1),this.address.toLowerCase()<e.address.toLowerCase()},t}(K);function J(e,t){return e instanceof Z&&t instanceof Z?e.equals(t):!(e instanceof Z||t instanceof Z||e!==t)}var $,ee,te,ne=((z={})[exports.ChainId.BSC_MAINNET]=new Z(exports.ChainId.BSC_MAINNET,"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",18,"WBNB","Wrapped BNB","https://www.binance.org"),z[exports.ChainId.BSC_TESTNET]=new Z(exports.ChainId.BSC_TESTNET,"0xaE8E19eFB41e7b96815649A6a60785e1fbA84C1e",18,"WBNB","Wrapped BNB","https://www.binance.org"),z[exports.ChainId.ARBITRUM_MAINNET]=new Z(exports.ChainId.ARBITRUM_MAINNET,"0xc778417E063141139Fce010982780140Aa0cD5Ab",18,"WETH","Wrapped ETH","https://www.binance.org"),z[exports.ChainId.ARBITRUM_TETSNET_RINKEBY]=new Z(exports.ChainId.ARBITRUM_TETSNET_RINKEBY,"0xaE8E19eFB41e7b96815649A6a60785e1fbA84C1e",18,"WBNB","Wrapped BNB","https://www.binance.org"),z[exports.ChainId.AVAX_MAINNET]=new Z(exports.ChainId.AVAX_MAINNET,"0xB31f66AA3C1e785363F0875A1B74E27b85FD66c7",18,"WAVAX","Wrapped AVAX","https://www.binance.org"),z[exports.ChainId.AVAX_TESTNET]=new Z(exports.ChainId.AVAX_TESTNET,"0xd00ae08403B9bbb9124bB305C09058E32C39A48c",18,"WAVAX","Wrapped AVAX","https://www.binance.org"),z[exports.ChainId.MATIC_MAINNET]=new Z(exports.ChainId.MATIC_MAINNET,"0x0d500b1d8e8ef31e21c99d1db9a6444d3adf1270",18,"WMATIC","Wrapped MATIC","https://www.binance.org"),z[exports.ChainId.MATIC_TESTNET]=new Z(exports.ChainId.MATIC_TESTNET,"0x9c3C9283D3e44854697Cd22D3Faa240Cfb032889",18,"WMATIC","Wrapped MATIC","https://www.binance.org"),z),ie=((Q={})[exports.ChainId.BSC_MAINNET]=new Z(exports.ChainId.BSC_MAINNET,"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",18,"WBNB","Wrapped BNB","https://www.binance.org"),Q[exports.ChainId.BSC_TESTNET]=new Z(exports.ChainId.BSC_TESTNET,"0xaE8E19eFB41e7b96815649A6a60785e1fbA84C1e",18,"WBNB","Wrapped BNB","https://www.binance.org"),Q[exports.ChainId.ARBITRUM_MAINNET]=new Z(exports.ChainId.ARBITRUM_MAINNET,"0xc778417E063141139Fce010982780140Aa0cD5Ab",18,"WETH","Wrapped ETH","https://www.binance.org"),Q[exports.ChainId.ARBITRUM_TETSNET_RINKEBY]=new Z(exports.ChainId.ARBITRUM_TETSNET_RINKEBY,"0xaE8E19eFB41e7b96815649A6a60785e1fbA84C1e",18,"WBNB","Wrapped BNB","https://www.binance.org"),Q[exports.ChainId.AVAX_MAINNET]=new Z(exports.ChainId.AVAX_MAINNET,"0xB31f66AA3C1e785363F0875A1B74E27b85FD66c7",18,"WAVAX","Wrapped AVAX","https://www.binance.org"),Q[exports.ChainId.AVAX_TESTNET]=new Z(exports.ChainId.AVAX_TESTNET,"0xd00ae08403B9bbb9124bB305C09058E32C39A48c",18,"WAVAX","Wrapped AVAX","https://www.binance.org"),Q[exports.ChainId.MATIC_MAINNET]=new Z(exports.ChainId.MATIC_MAINNET,"0x0d500b1d8e8ef31e21c99d1db9a6444d3adf1270",18,"WMATIC","Wrapped MATIC","https://www.binance.org"),Q[exports.ChainId.MATIC_TESTNET]=new Z(exports.ChainId.MATIC_TESTNET,"0x9c3C9283D3e44854697Cd22D3Faa240Cfb032889",18,"WMATIC","Wrapped MATIC","https://www.binance.org"),Q[exports.ChainId.OASIS_TESTNET]=new Z(exports.ChainId.OASIS_TESTNET,"0x792296e2a15e6Ceb5f5039DecaE7A1f25b00B0B0",18,"wROSE","Wrapped ROSE","https://docs.oasis.dev/"),Q[exports.ChainId.OASIS_MAINNET]=new Z(exports.ChainId.OASIS_MAINNET,"0xfb40cd35C0cF322fA3cfB8D67b533Bd9ad7df056",18,"wROSE","Wrapped ROSE","https://docs.oasis.dev/"),Q[exports.ChainId.QUARKCHAIN_DEV_S0]=new Z(exports.ChainId.OASIS_MAINNET,"0x56fB4da0E246003DEc7dD108e47f5d8e8F4cC493",18,"wQKC","Wrapped QKC","https://docs.oasis.dev/"),Q),ae={43113:[new Z(exports.ChainId.AVAX_TESTNET,"0xca9ec7085ed564154a9233e1e7d8fef460438eea",6,"USDC","USD Coin"),new Z(exports.ChainId.AVAX_TESTNET,"0xffb3ed4960cac85372e6838fbc9ce47bcf2d073e",6,"USDT","Tether USD"),new Z(exports.ChainId.AVAX_TESTNET,"0xaea51e4fee50a980928b4353e852797b54deacd8",18,"DAI","Dai Stablecoin"),new Z(exports.ChainId.AVAX_TESTNET,"0xccf7ed44c5a0f3cb5c9a9b9f765f8d836fb93ba1",18,"TUSD","True USD")],42261:[new Z(exports.ChainId.OASIS_TESTNET,"0x9aEeeD65aE87e3b28793aefAeED59c3f10ef956b",6,"USDC","USD Coin"),new Z(exports.ChainId.OASIS_TESTNET,"0xfA0D8065755Fb3b6520149e86Ac5A3Dc3ee5Dc92",6,"USDT","Tether USD"),new Z(exports.ChainId.OASIS_TESTNET,"0xf10Bd0dA1f0e69c3334D7F8116C9082746EBC1B4",18,"DAI","Dai Stablecoin"),new Z(exports.ChainId.OASIS_TESTNET,"0x4e8848da06E40E866b82f6b52417494936c9509b",18,"TUSD","True USD")],110001:[new Z(exports.ChainId.QUARKCHAIN_DEV_S0,"0xE59c1Ddf4fAAC4Fa7C8c93d9392d4bBa55383268",6,"USDC","USD Coin"),new Z(exports.ChainId.QUARKCHAIN_DEV_S0,"0x1a69a6e206c680A8559c59b951527437CBCe6Ed7",6,"USDT","Tether USD"),new Z(exports.ChainId.QUARKCHAIN_DEV_S0,"0x51b90a5Bc99B7c76EDf3863E1d61ca6197a6e542",18,"DAI","Dai Stablecoin"),new Z(exports.ChainId.QUARKCHAIN_DEV_S0,"0xD71C821a373E16D607277DB6C1356c1209C7d866",18,"TUSD","True USD")],0:[new Z(-1,"0xCa9eC7085Ed564154a9233e1e7D8fEF460438EEA",6,"USDC","USD Coin")]},re={43113:{0:ae[43113][0],1:ae[43113][1],2:ae[43113][2],3:ae[43113][3]},42261:{0:ae[42261][0],1:ae[42261][1],2:ae[42261][2],3:ae[42261][3]},110001:{0:ae[110001][0],1:ae[110001][1],2:ae[110001][2],3:ae[110001][3]}},ue={43113:{0:ae[43113][0],1:ae[43113][1],2:ae[43113][2],3:ae[43113][3]}};(te=exports.Rounding||(exports.Rounding={}))[te.ROUND_DOWN=0]="ROUND_DOWN",te[te.ROUND_HALF_UP=1]="ROUND_HALF_UP",te[te.ROUND_UP=2]="ROUND_UP";var oe=f(u),fe=f(o),se=(($={})[exports.Rounding.ROUND_DOWN]=oe.ROUND_DOWN,$[exports.Rounding.ROUND_HALF_UP]=oe.ROUND_HALF_UP,$[exports.Rounding.ROUND_UP]=oe.ROUND_UP,$),de=((ee={})[exports.Rounding.ROUND_DOWN]=0,ee[exports.Rounding.ROUND_HALF_UP]=1,ee[exports.Rounding.ROUND_UP]=3,ee),pe=function(){function e(e,t){void 0===t&&(t=T),this.numerator=j(e),this.denominator=j(t)}var t=e.prototype;return t.invert=function(){return new e(this.denominator,this.numerator)},t.add=function(t){var n=t instanceof e?t:new e(j(t));return this.denominator.eq(n.denominator)?new e(this.numerator.add(n.numerator),this.denominator):new e(this.numerator.mul(n.denominator).add(n.numerator.mul(this.denominator)),this.denominator.mul(n.denominator))},t.subtract=function(t){var n=t instanceof e?t:new e(j(t));return this.denominator.eq(n.denominator)?new e(this.numerator.sub(n.numerator),this.denominator):new e(this.numerator.mul(n.denominator).sub(n.numerator.mul(this.denominator)),this.denominator.mul(n.denominator))},t.lessThan=function(t){var n=t instanceof e?t:new e(j(t));return this.numerator.mul(n.denominator).lt(n.numerator.mul(this.denominator))},t.equalTo=function(t){var n=t instanceof e?t:new e(j(t));return this.numerator.mul(n.denominator).eq(n.numerator.mul(this.denominator))},t.greaterThan=function(t){var n=t instanceof e?t:new e(j(t));return this.numerator.mul(n.denominator).gt(n.numerator.mul(this.denominator))},t.multiply=function(t){var n=t instanceof e?t:new e(j(t));return new e(this.numerator.mul(n.numerator),this.denominator.mul(n.denominator))},t.divide=function(t){var n=t instanceof e?t:new e(j(t));return new e(this.numerator.mul(n.denominator),this.denominator.mul(n.numerator))},t.toSignificant=function(e,t,n){void 0===t&&(t={groupSeparator:""}),void 0===n&&(n=exports.Rounding.ROUND_HALF_UP),Number.isInteger(e)||a(!1),e>0||a(!1),oe.set({precision:e+1,rounding:se[n]});var i=new oe(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return i.toFormat(i.decimalPlaces(),t)},t.toFixed=function(e,t,n){return void 0===t&&(t={groupSeparator:""}),void 0===n&&(n=exports.Rounding.ROUND_HALF_UP),Number.isInteger(e)||a(!1),e>=0||a(!1),fe.DP=e,fe.RM=de[n],new fe(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,t)},I(e,[{key:"quotient",get:function(){return this.numerator.div(this.denominator)}},{key:"remainder",get:function(){return new e(this.numerator.mod(this.denominator),this.denominator)}}]),e}(),me=new pe(B),le=function(e){function t(){return e.apply(this,arguments)||this}E(t,e);var n=t.prototype;return n.toSignificant=function(e,t,n){return void 0===e&&(e=5),this.multiply(me).toSignificant(e,t,n)},n.toFixed=function(e,t,n){return void 0===e&&(e=2),this.multiply(me).toFixed(e,t,n)},t}(pe),ce=f(o),ye=function(e){function t(t,n){var i,a=j(n);return V(a,l.uint256),(i=e.call(this,a,w.pow(t.decimals))||this).currency=t,i}E(t,e),t.networkCCYAmount=function(e,n){return new t(Y[e],n)};var n=t.prototype;return n.add=function(e){return J(this.currency,e.currency)||a(!1),new t(this.currency,this.raw.add(e.raw))},n.subtract=function(e){return J(this.currency,e.currency)||a(!1),new t(this.currency,this.raw.sub(e.raw))},n.toSignificant=function(t,n,i){return void 0===t&&(t=6),void 0===i&&(i=exports.Rounding.ROUND_DOWN),e.prototype.toSignificant.call(this,t,n,i)},n.toFixed=function(t,n,i){return void 0===t&&(t=this.currency.decimals),void 0===i&&(i=exports.Rounding.ROUND_DOWN),t<=this.currency.decimals||a(!1),e.prototype.toFixed.call(this,t,n,i)},n.toExact=function(e){return void 0===e&&(e={groupSeparator:""}),ce.DP=this.currency.decimals,new ce(this.numerator.toString()).div(this.denominator.toString()).toFormat(e)},n.toBigNumber=function(){return s.BigNumber.from(this.numerator.toString())},I(t,[{key:"raw",get:function(){return this.numerator}}]),t}(pe),be=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).token=t,i}E(t,e);var n=t.prototype;return n.add=function(e){return this.token.equals(e.token)||a(!1),new t(this.token,this.raw.add(e.raw))},n.subtract=function(e){return this.token.equals(e.token)||a(!1),new t(this.token,this.raw.sub(e.raw))},t}(ye),he=function(e){function t(t,n,i,a){var r;return(r=e.call(this,a,i)||this).baseCurrency=t,r.quoteCurrency=n,r.scalar=new pe(w.pow(t.decimals),w.pow(n.decimals)),r}E(t,e),t.fromRoute=function(e,t){for(var n,i=[],a=P(e.pairData.entries());!(n=a()).done;){var r=n.value,u=r[0],o=r[1].poolPrice(e.path[u],e.path[u+1],t);i.push(o)}return i.slice(1).reduce((function(e,t){return e.multiply(t)}),i[0])};var n=t.prototype;return n.invert=function(){return new t(this.quoteCurrency,this.baseCurrency,this.numerator,this.denominator)},n.multiply=function(n){J(this.quoteCurrency,n.baseCurrency)||a(!1);var i=e.prototype.multiply.call(this,n);return new t(this.baseCurrency,n.quoteCurrency,i.denominator,i.numerator)},n.quote=function(t,n){return J(n.currency,this.baseCurrency)||a(!1),this.quoteCurrency instanceof Z?new be(this.quoteCurrency,e.prototype.multiply.call(this,n.raw).quotient):ye.networkCCYAmount(t,e.prototype.multiply.call(this,n.raw).quotient)},n.toSignificant=function(e,t,n){return void 0===e&&(e=6),this.adjusted.toSignificant(e,t,n)},n.toFixed=function(e,t,n){return void 0===e&&(e=4),this.adjusted.toFixed(e,t,n)},I(t,[{key:"raw",get:function(){return new pe(this.numerator,this.denominator)}},{key:"adjusted",get:function(){return e.prototype.multiply.call(this,this.scalar)}}]),t}(pe),Te=s.BigNumber.from(0),ve=s.BigNumber.from("1000000000000000000"),ge=s.BigNumber.from("100000000000000000000"),xe=s.BigNumber.from("1000000000000000000000000000000000000"),we=ve.sub(s.BigNumber.from("100000000000000000")),ke=ve.add(s.BigNumber.from("100000000000000000")),Be=s.BigNumber.from("128000000000000000000"),Ne=s.BigNumber.from("38877084059945950922200000000000000000000000000000000000"),Ae=s.BigNumber.from("64000000000000000000"),Ie=s.BigNumber.from("6235149080811616882910000000"),Se=s.BigNumber.from("3200000000000000000000"),Ee=s.BigNumber.from("7896296018268069516100000000000000"),Ce=s.BigNumber.from("1600000000000000000000"),Oe=s.BigNumber.from("888611052050787263676000000"),_e=s.BigNumber.from("800000000000000000000"),Me=s.BigNumber.from("298095798704172827474000"),Re=s.BigNumber.from("400000000000000000000"),Fe=s.BigNumber.from("5459815003314423907810"),De=s.BigNumber.from("200000000000000000000"),Pe=s.BigNumber.from("738905609893065022723"),qe=s.BigNumber.from("100000000000000000000"),Ue=s.BigNumber.from("271828182845904523536"),We=s.BigNumber.from("50000000000000000000"),Le=s.BigNumber.from("164872127070012814685"),Ve=s.BigNumber.from("25000000000000000000"),Xe=s.BigNumber.from("128402541668774148407"),je=s.BigNumber.from("12500000000000000000"),Ge=s.BigNumber.from("113314845306682631683"),He=s.BigNumber.from("6250000000000000000"),Ke=s.BigNumber.from("106449445891785942956");function ze(e,t){if(t.eq(0))return ve;if(e.eq(0))return Te;var n,i=e,a=t;if(we.lt(i)&&i.lt(ke)){var r=Ze(i);n=r.div(ve).mul(a).add(r.mod(ve).mul(a).div(ve))}else n=Ye(i).mul(a);return Qe(n=n.div(ve))}function Qe(e){if(e.lt(Te))return ve.mul(ve).div(Qe(e.mul(-1)));var t;e.gte(Be)?(e=e.sub(Be),t=Ne):e.gte(Ae)?(e=e.sub(Ae),t=Ie):t=s.BigNumber.from(1),e=e.mul(100);var n=ge;e.gte(Se)&&(e=e.sub(Se),n=n.mul(Ee).div(ge)),e.gte(Ce)&&(e=e.sub(Ce),n=n.mul(Oe).div(ge)),e.gte(_e)&&(e=e.sub(_e),n=n.mul(Me).div(ge)),e.gte(Re)&&(e=e.sub(Re),n=n.mul(Fe).div(ge)),e.gte(De)&&(e=e.sub(De),n=n.mul(Pe).div(ge)),e.gte(qe)&&(e=e.sub(qe),n=n.mul(Ue).div(ge)),e.gte(We)&&(e=e.sub(We),n=n.mul(Le).div(ge)),e.gte(Ve)&&(e=e.sub(Ve),n=n.mul(Xe).div(ge));var i,a=ge;return a=a.add(i=e),i=i.mul(e).div(ge).div(2),a=a.add(i),i=i.mul(e).div(ge).div(3),a=a.add(i),i=i.mul(e).div(ge).div(4),a=a.add(i),i=i.mul(e).div(ge).div(5),a=a.add(i),i=i.mul(e).div(ge).div(6),a=a.add(i),i=i.mul(e).div(ge).div(7),a=a.add(i),i=i.mul(e).div(ge).div(8),a=a.add(i),i=i.mul(e).div(ge).div(9),a=a.add(i),i=i.mul(e).div(ge).div(10),a=a.add(i),i=i.mul(e).div(ge).div(11),a=a.add(i),i=i.mul(e).div(ge).div(12),a=a.add(i),n.mul(a).div(ge).mul(t).div(100)}function Ye(e){if(e.lt(ve))return Ye(ve.mul(ve).div(e)).mul(-1);var t=Te;e.gte(Ne.mul(ve))&&(e=e.div(Ne),t=t.add(Be)),e.gte(Ie.mul(ve))&&(e=e.div(Ie),t=t.add(Ae)),t=t.mul(100),(e=e.mul(100)).gte(Ee)&&(e=e.mul(ge).div(Ee),t=t.add(Se)),e.gte(Oe)&&(e=e.mul(ge).div(Oe),t=t.add(Ce)),e.gte(Me)&&(e=e.mul(ge).div(Me),t=t.add(_e)),e.gte(Fe)&&(e=e.mul(ge).div(Fe),t=t.add(Re)),e.gte(Pe)&&(e=e.mul(ge).div(Pe),t=t.add(De)),e.gte(Ue)&&(e=e.mul(ge).div(Ue),t=t.add(qe)),e.gte(Le)&&(e=e.mul(ge).div(Le),t=t.add(We)),e.gte(Xe)&&(e=e.mul(ge).div(Xe),t=t.add(Ve)),e.gte(Ge)&&(e=e.mul(ge).div(Ge),t=t.add(je)),e.gte(Ke)&&(e=e.mul(ge).div(Ke),t=t.add(He));var n=e.sub(ge).mul(ge).div(e.add(ge)),i=n.mul(n).div(ge),a=n,r=a;return a=a.mul(i).div(ge),r=r.add(a.div(3)),a=a.mul(i).div(ge),r=r.add(a.div(5)),a=a.mul(i).div(ge),r=r.add(a.div(7)),a=a.mul(i).div(ge),r=r.add(a.div(9)),a=a.mul(i).div(ge),r=(r=r.add(a.div(11))).mul(2),t.add(r).div(100)}function Ze(e){var t=(e=e.mul(ve)).sub(xe).mul(xe).div(e.add(xe)),n=t.mul(t).div(xe),i=t,a=i;return i=i.mul(n).div(xe),a=a.add(i.div(3)),i=i.mul(n).div(xe),a=a.add(i.div(5)),i=i.mul(n).div(xe),a=a.add(i.div(7)),i=i.mul(n).div(xe),a=a.add(i.div(9)),i=i.mul(n).div(xe),a=a.add(i.div(11)),i=i.mul(n).div(xe),a=a.add(i.div(13)),i=i.mul(n).div(xe),(a=a.add(i.div(15))).mul(2)}var Je=ve,$e=s.BigNumber.from(1e4),et=s.BigNumber.from("700000000000000000");function tt(e,t){return e.mul(t).div(Je)}function nt(e,t){var n=e.mul(t);return n.eq(0)?s.BigNumber.from(0):n.sub(1).div(Je).add(1)}function it(e,t){return e.eq(Te)?Te:e.mul(Je).div(t)}function at(e,t){return e.eq(Te)?Te:e.mul(Je).sub(1).div(t).add(1)}function rt(e,t){var n=ze(e,t),i=nt(n,$e).add(1);return n.lt(i)?Te:n.sub(i)}function ut(e,t){var n=ze(e,t),i=nt(n,$e).add(1);return n.add(i)}function ot(e){return e.lt(Je)?Je.sub(e):Te}function ft(e,t){return e.gte(t)?e:t}var st=s.BigNumber.from("300000000000000000"),dt=s.BigNumber.from("300000000000000000"),pt=s.BigNumber.from("3000000000000000000"),mt=s.BigNumber.from("700000000000000000");function lt(e,t,n,i,r){r.lte(tt(e,st))||a(!1);var u=e.add(r);return tt(n,ot(ut(at(e,u),it(t,i))))}function ct(e,t,n,i,r){return r.lte(tt(n,dt))||a(!1),nt(e,ut(at(n,n.sub(r)),at(i,t)).sub(Je))}function yt(e,t,n,i,a){for(var r=[],u=Te,o=0;o<e.length;o++)r.push(it(e[o].add(n[o]),e[o])),u=u.add(tt(r[o],t[o]));var f=bt(e,t,n,r,u,a),s=f.invariantRatio,d=f.swapFees;return{lpOut:s.gt(Je)?tt(i,s.sub(Je)):Te,swapFees:d}}function bt(e,t,n,i,a,r){for(var u=[],o=Je,f=0;f<e.length;f++){var s=void 0;if(i[f].gt(a)){var d=tt(e[f],a.sub(Je)),p=n[f].sub(d),m=nt(p,r);s=d.add(p.sub(m)),u[f]=m}else s=n[f];o=tt(o,rt(it(e[f].add(s),e[f]),t[f]))}return{invariantRatio:o,swapFees:u}}function ht(e,t,n){for(var i=at(t,n),a=[],r=0;r<e.length;r++)a.push(nt(e[r],i));return a}function Tt(e,t,n,i,a){for(var r=Array(e.length),u=Te,o=0;o<e.length;o++)r[o]=at(e[o].sub(n[o]),e[o]),u=u.add(nt(r[o],t[o]));var f=vt(e,t,n,r,u,a),s=f.swapFees;return{lpIn:nt(i,ot(f.invariantRatio)),swapFees:s}}function vt(e,t,n,i,a,r){for(var u=Array(e.length),o=Je,f=0;f<e.length;f++){var s=void 0;if(a.gt(i[f])){var d=tt(e[f],ot(a)),p=n[f].sub(d),m=at(p,Je.sub(r));u[f]=m.sub(p),s=d.add(m)}else s=n[f];o=tt(o,rt(it(e[f].sub(s),e[f]),t[f]))}return{invariantRatio:o,swapFees:u}}function gt(e,t,n,i,r){var u=at(i.sub(n),i);u>=mt||a(!1);var o=tt(e,ot(ut(u,it(Je,t)))),f=nt(o,ot(t)),s=o.sub(f),d=nt(f,r);return{swapFee:d,amountOut:s.add(f.sub(d))}}var xt=ve;function wt(e,t,n,i,a){return gt(a[t].mul(e.tokenMultipliers[t]),e.normalizedWeights[t],n,i,e.fee)}function kt(e,t,n,i){return ht(It(i,e.tokenMultipliers),t,n)}function Bt(e,t,n,i,a){return i?yt(It(a,e.tokenMultipliers),e.normalizedWeights,It(t,e.tokenMultipliers),n,e.fee).lpOut:Tt(It(a,e.tokenMultipliers),e.normalizedWeights,It(t,e.tokenMultipliers),n,e.fee).lpIn}function Nt(e,t,n,i,a){var r=i.mul(e.tokenMultipliers[t]).mul(xt.sub(e.fee));return lt(a[t].mul(e.tokenMultipliers[t]).mul(xt),e.normalizedWeights[t],a[n].mul(e.tokenMultipliers[n]).mul(xt),e.normalizedWeights[n],r).div(xt).div(e.tokenMultipliers[n])}function At(e,t,n,i,a){return ct(a[t].mul(e.tokenMultipliers[t]).mul(xt),e.normalizedWeights[t],a[n].mul(e.tokenMultipliers[n]).mul(xt),e.normalizedWeights[n],i.mul(e.tokenMultipliers[n]).mul(xt)).div(xt.sub(e.fee)).div(e.tokenMultipliers[t]).add(1)}function It(e,t){for(var n=[],i=0;i<e.length;i++)n.push(t[i].mul(e[i]));return n}var St=s.BigNumber.from(0),Et=s.BigNumber.from(1),Ct=s.BigNumber.from(2),Ot=s.BigNumber.from(1e4),_t=s.BigNumber.from("256"),Mt=s.BigNumber.from("128"),Rt=s.BigNumber.from("0x080000000000000000000000000000000"),Ft=s.BigNumber.from("0x100000000000000000000000000000000"),Dt=s.BigNumber.from("0x200000000000000000000000000000000"),Pt=s.BigNumber.from("0x3f80fe03f80fe03f80fe03f80fe03f8"),qt=s.BigNumber.from("0x5b9de1d10bf4103d647b0955897ba80"),Ut=s.BigNumber.from("0x15bf0a8b1457695355fb8ac404e7a79e3"),Wt=s.BigNumber.from("0x800000000000000000000000000000000"),Lt=new Array(128);function Vt(e,t){return e.mul(Ct.pow(t))}function Xt(e,t){return e.div(Ct.pow(t))}function jt(e,t,n,i){e.gt(t)||a(!1),e.lt(Dt)||a(!1);var r=e.mul(Rt).div(t),u=(r.lt(Ut)?Ht(r):Gt(r)).mul(n).div(i);if(u.lt(Wt))return[Kt(u),127];var o=Qt(u);return[zt(Xt(u,s.BigNumber.from(127-o)),s.BigNumber.from(o)),o]}function Gt(e){var t=St;if(e.gte(Ft)){var n=function(e){var t=St;if(e.lt(_t))for(;e.gt(Et);)e=Xt(e,Et),t=t.add(Et);else for(var n=Mt;n.gt(St);n=Xt(n,Et))e.gt(Vt(Et,n))&&(e=Xt(e,n),t=t.or(n));return t}(e.div(Rt));e=Xt(e,n),t=n.mul(Rt)}if(e.gt(Rt))for(var i=127;i>0;--i)(e=e.mul(e).div(Rt)).gte(Ft)&&(e=Xt(e,Et),t=t.add(Vt(Et,s.BigNumber.from(i-1))));return t.mul(Pt).div(qt)}function Ht(e){var t,n,i,a=St;return e.gte("0xd3094c70f034de4b96ff7d5b6f99fcd8")&&(a=a.add(s.BigNumber.from("0x40000000000000000000000000000000")),e=e.mul(Rt).div(s.BigNumber.from("0xd3094c70f034de4b96ff7d5b6f99fcd8"))),e.gte("0xa45af1e1f40c333b3de1db4dd55f29a7")&&(a=a.add(s.BigNumber.from("0x20000000000000000000000000000000")),e=e.mul(Rt).div(s.BigNumber.from("0xa45af1e1f40c333b3de1db4dd55f29a7"))),e.gte("0x910b022db7ae67ce76b441c27035c6a1")&&(a=a.add(s.BigNumber.from("0x10000000000000000000000000000000")),e=e.mul(Rt).div(s.BigNumber.from("0x910b022db7ae67ce76b441c27035c6a1"))),e.gte("0x88415abbe9a76bead8d00cf112e4d4a8")&&(a=a.add(s.BigNumber.from("0x08000000000000000000000000000000")),e=e.mul(Rt).div(s.BigNumber.from("0x88415abbe9a76bead8d00cf112e4d4a8"))),e.gte("0x84102b00893f64c705e841d5d4064bd3")&&(a=a.add(s.BigNumber.from("0x04000000000000000000000000000000")),e=e.mul(Rt).div(s.BigNumber.from("0x84102b00893f64c705e841d5d4064bd3"))),e.gte("0x8204055aaef1c8bd5c3259f4822735a2")&&(a=a.add(s.BigNumber.from("0x02000000000000000000000000000000")),e=e.mul(Rt).div(s.BigNumber.from("0x8204055aaef1c8bd5c3259f4822735a2"))),e.gte("0x810100ab00222d861931c15e39b44e99")&&(a=a.add(s.BigNumber.from("0x01000000000000000000000000000000")),e=e.mul(Rt).div(s.BigNumber.from("0x810100ab00222d861931c15e39b44e99"))),e.gte("0x808040155aabbbe9451521693554f733")&&(a=a.add(s.BigNumber.from("0x00800000000000000000000000000000")),e=e.mul(Rt).div(s.BigNumber.from("0x808040155aabbbe9451521693554f733"))),n=t=e.sub(Rt),i=t.mul(t).div(Rt),a=a.add(n.mul(s.BigNumber.from("0x100000000000000000000000000000000").sub(t)).div(s.BigNumber.from("0x100000000000000000000000000000000"))),n=n.mul(i).div(Rt),a=a.add(n.mul(s.BigNumber.from("0x0aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa").sub(t)).div(s.BigNumber.from("0x200000000000000000000000000000000"))),n=n.mul(i).div(Rt),a=a.add(n.mul(s.BigNumber.from("0x099999999999999999999999999999999").sub(t)).div(s.BigNumber.from("0x300000000000000000000000000000000"))),n=n.mul(i).div(Rt),a=a.add(n.mul(s.BigNumber.from("0x092492492492492492492492492492492").sub(t)).div(s.BigNumber.from("0x400000000000000000000000000000000"))),n=n.mul(i).div(Rt),a=a.add(n.mul(s.BigNumber.from("0x08e38e38e38e38e38e38e38e38e38e38e").sub(t)).div(s.BigNumber.from("0x500000000000000000000000000000000"))),n=n.mul(i).div(Rt),a=a.add(n.mul(s.BigNumber.from("0x08ba2e8ba2e8ba2e8ba2e8ba2e8ba2e8b").sub(t)).div(s.BigNumber.from("0x600000000000000000000000000000000"))),n=n.mul(i).div(Rt),a=a.add(n.mul(s.BigNumber.from("0x089d89d89d89d89d89d89d89d89d89d89").sub(t)).div(s.BigNumber.from("0x700000000000000000000000000000000"))),n=n.mul(i).div(Rt),a.add(n.mul(s.BigNumber.from("0x088888888888888888888888888888888").sub(t)).div(s.BigNumber.from("0x800000000000000000000000000000000")))}function Kt(e){var t,n,i=St;return n=(n=t=e.mod(s.BigNumber.from("0x10000000000000000000000000000000"))).mul(t).div(Rt),i=i.add(n.mul(s.BigNumber.from("0x10e1b3be415a0000"))),n=n.mul(t).div(Rt),i=i.add(n.mul(s.BigNumber.from("0x05a0913f6b1e0000"))),n=n.mul(t).div(Rt),i=i.add(n.mul(s.BigNumber.from("0x0168244fdac78000"))),n=n.mul(t).div(Rt),i=i.add(n.mul(s.BigNumber.from("0x004807432bc18000"))),n=n.mul(t).div(Rt),i=i.add(n.mul(s.BigNumber.from("0x000c0135dca04000"))),n=n.mul(t).div(Rt),i=i.add(n.mul(s.BigNumber.from("0x0001b707b1cdc000"))),n=n.mul(t).div(Rt),i=i.add(n.mul(s.BigNumber.from("0x000036e0f639b800"))),n=n.mul(t).div(Rt),i=i.add(n.mul(s.BigNumber.from("0x00000618fee9f800"))),n=n.mul(t).div(Rt),i=i.add(n.mul(s.BigNumber.from("0x0000009c197dcc00"))),n=n.mul(t).div(Rt),i=i.add(n.mul(s.BigNumber.from("0x0000000e30dce400"))),n=n.mul(t).div(Rt),i=i.add(n.mul(s.BigNumber.from("0x000000012ebd1300"))),n=n.mul(t).div(Rt),i=i.add(n.mul(s.BigNumber.from("0x0000000017499f00"))),n=n.mul(t).div(Rt),i=i.add(n.mul(s.BigNumber.from("0x0000000001a9d480"))),n=n.mul(t).div(Rt),i=i.add(n.mul(s.BigNumber.from("0x00000000001c6380"))),n=n.mul(t).div(Rt),i=i.add(n.mul(s.BigNumber.from("0x000000000001c638"))),n=n.mul(t).div(Rt),i=i.add(n.mul(s.BigNumber.from("0x0000000000001ab8"))),n=n.mul(t).div(Rt),i=i.add(n.mul(s.BigNumber.from("0x000000000000017c"))),n=n.mul(t).div(Rt),i=i.add(n.mul(s.BigNumber.from("0x0000000000000014"))),n=n.mul(t).div(Rt),i=(i=i.add(n.mul(s.BigNumber.from("0x0000000000000001")))).div(s.BigNumber.from("0x21c3677c82b40000")).add(t).add(Rt),e.and(s.BigNumber.from("0x010000000000000000000000000000000")).isZero()||(i=i.mul(s.BigNumber.from("0x1c3d6a24ed82218787d624d3e5eba95f9")).div(s.BigNumber.from("0x18ebef9eac820ae8682b9793ac6d1e776"))),e.and(s.BigNumber.from("0x020000000000000000000000000000000")).isZero()||(i=i.mul(s.BigNumber.from("0x18ebef9eac820ae8682b9793ac6d1e778")).div(s.BigNumber.from("0x1368b2fc6f9609fe7aceb46aa619baed4"))),e.and(s.BigNumber.from("0x040000000000000000000000000000000")).isZero()||(i=i.mul(s.BigNumber.from("0x1368b2fc6f9609fe7aceb46aa619baed5")).div(s.BigNumber.from("0x0bc5ab1b16779be3575bd8f0520a9f21f"))),e.and(s.BigNumber.from("0x080000000000000000000000000000000")).isZero()||(i=i.mul(s.BigNumber.from("0x0bc5ab1b16779be3575bd8f0520a9f21e")).div(s.BigNumber.from("0x0454aaa8efe072e7f6ddbab84b40a55c9"))),e.and(s.BigNumber.from("0x100000000000000000000000000000000")).isZero()||(i=i.mul(s.BigNumber.from("0x0454aaa8efe072e7f6ddbab84b40a55c5")).div(s.BigNumber.from("0x00960aadc109e7a3bf4578099615711ea"))),e.and(s.BigNumber.from("0x200000000000000000000000000000000")).isZero()||(i=i.mul(s.BigNumber.from("0x00960aadc109e7a3bf4578099615711d7")).div(s.BigNumber.from("0x0002bf84208204f5977f9a8cf01fdce3d"))),e.and(s.BigNumber.from("0x400000000000000000000000000000000")).isZero()||(i=i.mul(s.BigNumber.from("0x0002bf84208204f5977f9a8cf01fdc307")).div(s.BigNumber.from("0x0000003c6ab775dd0b95b4cbee7e65d11"))),i}function zt(e,t){var n=e,i=St;return n=Xt(n.mul(e),t),i=i.add(n.mul("0x3442c4e6074a82f1797f72ac0000000")),n=Xt(n.mul(e),t),i=i.add(n.mul("0x116b96f757c380fb287fd0e40000000")),n=Xt(n.mul(e),t),i=i.add(n.mul("0x045ae5bdd5f0e03eca1ff4390000000")),n=Xt(n.mul(e),t),i=i.add(n.mul("0x00defabf91302cd95b9ffda50000000")),n=Xt(n.mul(e),t),i=i.add(n.mul("0x002529ca9832b22439efff9b8000000")),n=Xt(n.mul(e),t),i=i.add(n.mul("0x00054f1cf12bd04e516b6da88000000")),n=Xt(n.mul(e),t),i=i.add(n.mul("0x0000a9e39e257a09ca2d6db51000000")),n=Xt(n.mul(e),t),i=i.add(n.mul("0x000012e066e7b839fa050c309000000")),n=Xt(n.mul(e),t),i=i.add(n.mul("0x000001e33d7d926c329a1ad1a800000")),n=Xt(n.mul(e),t),i=i.add(n.mul("0x0000002bee513bdb4a6b19b5f800000")),n=Xt(n.mul(e),t),i=i.add(n.mul("0x00000003a9316fa79b88eccf2a00000")),n=Xt(n.mul(e),t),i=i.add(n.mul("0x0000000048177ebe1fa812375200000")),n=Xt(n.mul(e),t),i=i.add(n.mul("0x0000000005263fe90242dcbacf00000")),n=Xt(n.mul(e),t),i=i.add(n.mul("0x000000000057e22099c030d94100000")),n=Xt(n.mul(e),t),i=i.add(n.mul("0x0000000000057e22099c030d9410000")),n=Xt(n.mul(e),t),i=i.add(n.mul("0x00000000000052b6b54569976310000")),n=Xt(n.mul(e),t),i=i.add(n.mul("0x00000000000004985f67696bf748000")),n=Xt(n.mul(e),t),i=i.add(n.mul("0x000000000000003dea12ea99e498000")),n=Xt(n.mul(e),t),i=i.add(n.mul("0x00000000000000031880f2214b6e000")),n=Xt(n.mul(e),t),i=i.add(n.mul("0x000000000000000025bcff56eb36000")),n=Xt(n.mul(e),t),i=i.add(n.mul("0x000000000000000001b722e10ab1000")),n=Xt(n.mul(e),t),i=i.add(n.mul("0x0000000000000000001317c70077000")),n=Xt(n.mul(e),t),i=i.add(n.mul("0x00000000000000000000cba84aafa00")),n=Xt(n.mul(e),t),i=i.add(n.mul("0x00000000000000000000082573a0a00")),n=Xt(n.mul(e),t),i=i.add(n.mul("0x00000000000000000000005035ad900")),n=Xt(n.mul(e),t),i=i.add(n.mul("0x000000000000000000000002f881b00")),n=Xt(n.mul(e),t),i=i.add(n.mul("0x0000000000000000000000001b29340")),n=Xt(n.mul(e),t),i=i.add(n.mul("0x00000000000000000000000000efc40")),n=Xt(n.mul(e),t),i=i.add(n.mul("0x0000000000000000000000000007fe0")),n=Xt(n.mul(e),t),i=i.add(n.mul("0x0000000000000000000000000000420")),n=Xt(n.mul(e),t),i=i.add(n.mul("0x0000000000000000000000000000021")),n=Xt(n.mul(e),t),(i=i.add(n.mul("0x0000000000000000000000000000001"))).div(s.BigNumber.from("0x688589cc0e9505e2f2fee5580000000")).add(e).add(Vt(Et,t))}function Qt(e){for(var t=32,n=127;t+1<n;){var i=(t+n)/2;Lt[i].gte(e)?t=i:n=i}return Lt[n].gte(e)?n:Lt[t].gte(e)?t:void a(!1)}function Yt(e,t,n,i,r,u){e.gt(St)||a(!1),t.gt(St)&&n.gt(St)||a(!1);var o=e.mul(Ot.sub(u));if(i.eq(r))return n.mul(o).div(t.mul(Ot).add(o));var f=jt(t.mul(Ot).add(o),t.mul(Ot),i,r),d=f[0],p=f[1],m=n.mul(d),l=Vt(n,s.BigNumber.from(p));return m.sub(l).div(d)}function Zt(e,t,n,i,r,u){if(e.gt(St)||a(!1),t.gt(St)&&n.gt(St)||a(!1),i.eq(r)){var o=t.mul(e).mul(Ot),f=n.sub(e).mul(Ot.sub(u));return o.div(f).add(1)}var d=n.sub(e),p=jt(n,d,r,i),m=p[0],l=p[1],c=t.mul(Ot),y=c.mul(m),b=Vt(c,s.BigNumber.from(l));return Xt(y.sub(b),s.BigNumber.from(l)).div(Ot.sub(u)).add(1)}Lt[32]=s.BigNumber.from("0x1c35fedd14ffffffffffffffffffffffff"),Lt[33]=s.BigNumber.from("0x1b0ce43b323fffffffffffffffffffffff"),Lt[34]=s.BigNumber.from("0x19f0028ec1ffffffffffffffffffffffff"),Lt[35]=s.BigNumber.from("0x18ded91f0e7fffffffffffffffffffffff"),Lt[36]=s.BigNumber.from("0x17d8ec7f0417ffffffffffffffffffffff"),Lt[37]=s.BigNumber.from("0x16ddc6556cdbffffffffffffffffffffff"),Lt[38]=s.BigNumber.from("0x15ecf52776a1ffffffffffffffffffffff"),Lt[39]=s.BigNumber.from("0x15060c256cb2ffffffffffffffffffffff"),Lt[40]=s.BigNumber.from("0x1428a2f98d72ffffffffffffffffffffff"),Lt[41]=s.BigNumber.from("0x13545598e5c23fffffffffffffffffffff"),Lt[42]=s.BigNumber.from("0x1288c4161ce1dfffffffffffffffffffff"),Lt[43]=s.BigNumber.from("0x11c592761c666fffffffffffffffffffff"),Lt[44]=s.BigNumber.from("0x110a688680a757ffffffffffffffffffff"),Lt[45]=s.BigNumber.from("0x1056f1b5bedf77ffffffffffffffffffff"),Lt[46]=s.BigNumber.from("0x0faadceceeff8bffffffffffffffffffff"),Lt[47]=s.BigNumber.from("0x0f05dc6b27edadffffffffffffffffffff"),Lt[48]=s.BigNumber.from("0x0e67a5a25da4107fffffffffffffffffff"),Lt[49]=s.BigNumber.from("0x0dcff115b14eedffffffffffffffffffff"),Lt[50]=s.BigNumber.from("0x0d3e7a392431239fffffffffffffffffff"),Lt[51]=s.BigNumber.from("0x0cb2ff529eb71e4fffffffffffffffffff"),Lt[52]=s.BigNumber.from("0x0c2d415c3db974afffffffffffffffffff"),Lt[53]=s.BigNumber.from("0x0bad03e7d883f69bffffffffffffffffff"),Lt[54]=s.BigNumber.from("0x0b320d03b2c343d5ffffffffffffffffff"),Lt[55]=s.BigNumber.from("0x0abc25204e02828dffffffffffffffffff"),Lt[56]=s.BigNumber.from("0x0a4b16f74ee4bb207fffffffffffffffff"),Lt[57]=s.BigNumber.from("0x09deaf736ac1f569ffffffffffffffffff"),Lt[58]=s.BigNumber.from("0x0976bd9952c7aa957fffffffffffffffff"),Lt[59]=s.BigNumber.from("0x09131271922eaa606fffffffffffffffff"),Lt[60]=s.BigNumber.from("0x08b380f3558668c46fffffffffffffffff"),Lt[61]=s.BigNumber.from("0x0857ddf0117efa215bffffffffffffffff"),Lt[62]=s.BigNumber.from("0x07ffffffffffffffffffffffffffffffff"),Lt[63]=s.BigNumber.from("0x07abbf6f6abb9d087fffffffffffffffff"),Lt[64]=s.BigNumber.from("0x075af62cbac95f7dfa7fffffffffffffff"),Lt[65]=s.BigNumber.from("0x070d7fb7452e187ac13fffffffffffffff"),Lt[66]=s.BigNumber.from("0x06c3390ecc8af379295fffffffffffffff"),Lt[67]=s.BigNumber.from("0x067c00a3b07ffc01fd6fffffffffffffff"),Lt[68]=s.BigNumber.from("0x0637b647c39cbb9d3d27ffffffffffffff"),Lt[69]=s.BigNumber.from("0x05f63b1fc104dbd39587ffffffffffffff"),Lt[70]=s.BigNumber.from("0x05b771955b36e12f7235ffffffffffffff"),Lt[71]=s.BigNumber.from("0x057b3d49dda84556d6f6ffffffffffffff"),Lt[72]=s.BigNumber.from("0x054183095b2c8ececf30ffffffffffffff"),Lt[73]=s.BigNumber.from("0x050a28be635ca2b888f77fffffffffffff"),Lt[74]=s.BigNumber.from("0x04d5156639708c9db33c3fffffffffffff"),Lt[75]=s.BigNumber.from("0x04a23105873875bd52dfdfffffffffffff"),Lt[76]=s.BigNumber.from("0x0471649d87199aa990756fffffffffffff"),Lt[77]=s.BigNumber.from("0x04429a21a029d4c1457cfbffffffffffff"),Lt[78]=s.BigNumber.from("0x0415bc6d6fb7dd71af2cb3ffffffffffff"),Lt[79]=s.BigNumber.from("0x03eab73b3bbfe282243ce1ffffffffffff"),Lt[80]=s.BigNumber.from("0x03c1771ac9fb6b4c18e229ffffffffffff"),Lt[81]=s.BigNumber.from("0x0399e96897690418f785257fffffffffff"),Lt[82]=s.BigNumber.from("0x0373fc456c53bb779bf0ea9fffffffffff"),Lt[83]=s.BigNumber.from("0x034f9e8e490c48e67e6ab8bfffffffffff"),Lt[84]=s.BigNumber.from("0x032cbfd4a7adc790560b3337ffffffffff"),Lt[85]=s.BigNumber.from("0x030b50570f6e5d2acca94613ffffffffff"),Lt[86]=s.BigNumber.from("0x02eb40f9f620fda6b56c2861ffffffffff"),Lt[87]=s.BigNumber.from("0x02cc8340ecb0d0f520a6af58ffffffffff"),Lt[88]=s.BigNumber.from("0x02af09481380a0a35cf1ba02ffffffffff"),Lt[89]=s.BigNumber.from("0x0292c5bdd3b92ec810287b1b3fffffffff"),Lt[90]=s.BigNumber.from("0x0277abdcdab07d5a77ac6d6b9fffffffff"),Lt[91]=s.BigNumber.from("0x025daf6654b1eaa55fd64df5efffffffff"),Lt[92]=s.BigNumber.from("0x0244c49c648baa98192dce88b7ffffffff"),Lt[93]=s.BigNumber.from("0x022ce03cd5619a311b2471268bffffffff"),Lt[94]=s.BigNumber.from("0x0215f77c045fbe885654a44a0fffffffff"),Lt[95]=s.BigNumber.from("0x01ffffffffffffffffffffffffffffffff"),Lt[96]=s.BigNumber.from("0x01eaefdbdaaee7421fc4d3ede5ffffffff"),Lt[97]=s.BigNumber.from("0x01d6bd8b2eb257df7e8ca57b09bfffffff"),Lt[98]=s.BigNumber.from("0x01c35fedd14b861eb0443f7f133fffffff"),Lt[99]=s.BigNumber.from("0x01b0ce43b322bcde4a56e8ada5afffffff"),Lt[100]=s.BigNumber.from("0x019f0028ec1fff007f5a195a39dfffffff"),Lt[101]=s.BigNumber.from("0x018ded91f0e72ee74f49b15ba527ffffff"),Lt[102]=s.BigNumber.from("0x017d8ec7f04136f4e5615fd41a63ffffff"),Lt[103]=s.BigNumber.from("0x016ddc6556cdb84bdc8d12d22e6fffffff"),Lt[104]=s.BigNumber.from("0x015ecf52776a1155b5bd8395814f7fffff"),Lt[105]=s.BigNumber.from("0x015060c256cb23b3b3cc3754cf40ffffff"),Lt[106]=s.BigNumber.from("0x01428a2f98d728ae223ddab715be3fffff"),Lt[107]=s.BigNumber.from("0x013545598e5c23276ccf0ede68034fffff"),Lt[108]=s.BigNumber.from("0x01288c4161ce1d6f54b7f61081194fffff"),Lt[109]=s.BigNumber.from("0x011c592761c666aa641d5a01a40f17ffff"),Lt[110]=s.BigNumber.from("0x0110a688680a7530515f3e6e6cfdcdffff"),Lt[111]=s.BigNumber.from("0x01056f1b5bedf75c6bcb2ce8aed428ffff"),Lt[112]=s.BigNumber.from("0x00faadceceeff8a0890f3875f008277fff"),Lt[113]=s.BigNumber.from("0x00f05dc6b27edad306388a600f6ba0bfff"),Lt[114]=s.BigNumber.from("0x00e67a5a25da41063de1495d5b18cdbfff"),Lt[115]=s.BigNumber.from("0x00dcff115b14eedde6fc3aa5353f2e4fff"),Lt[116]=s.BigNumber.from("0x00d3e7a3924312399f9aae2e0f868f8fff"),Lt[117]=s.BigNumber.from("0x00cb2ff529eb71e41582cccd5a1ee26fff"),Lt[118]=s.BigNumber.from("0x00c2d415c3db974ab32a51840c0b67edff"),Lt[119]=s.BigNumber.from("0x00bad03e7d883f69ad5b0a186184e06bff"),Lt[120]=s.BigNumber.from("0x00b320d03b2c343d4829abd6075f0cc5ff"),Lt[121]=s.BigNumber.from("0x00abc25204e02828d73c6e80bcdb1a95bf"),Lt[122]=s.BigNumber.from("0x00a4b16f74ee4bb2040a1ec6c15fbbf2df"),Lt[123]=s.BigNumber.from("0x009deaf736ac1f569deb1b5ae3f36c130f"),Lt[124]=s.BigNumber.from("0x00976bd9952c7aa957f5937d790ef65037"),Lt[125]=s.BigNumber.from("0x009131271922eaa6064b73a22d0bd4f2bf"),Lt[126]=s.BigNumber.from("0x008b380f3558668c46c91c49a2f8e967b9"),Lt[127]=s.BigNumber.from("0x00857ddf0117efa215952912839f6473e6");var Jt,$t,en=function(){function e(e,t,n,i){this.tokenMultipliers=e,this.normalizedWeights=t,this.fee=n,this.adminFee=i}return e.mock=function(){return new e([Te],[Te],Te,Te)},e}(),tn=function(){function e(e,t,n,i,a,r,u,o){this.lpAddress=o,this.tokenMultipliers=e,this.fee=t,this.adminFee=n,this.initialA=i,this.futureA=a,this.initialATime=r,this.futureATime=u}return e.mock=function(){var t=i.BigNumber.from(0);return new e([t],t,t,t,t,t,t,"")},e}(),nn=function(){function e(){}var t=e.prototype;return t.involvesToken=function(e){for(var t=0;t<Object.keys(this.tokens).length;t++)e.equals(this.tokens[t]);return!1},t.tokenFromIndex=function(e){return this.tokens[e]},t.indexFromToken=function(e){for(var t=0;t<Object.keys(this.tokens).length;t++)if(e.equals(this.tokens[t]))return t;throw new Error("token not in pool")},t.getBalances=function(){var e=this;return Object.keys(this.tokens).map((function(t,n){return e.tokenBalances[n]}))},t.token=function(e){return this.tokens[e]},t.reserveOf=function(e){this.involvesToken(e)||a(!1);for(var t=0;t<Object.keys(this.tokens).length;t++)if(e.equals(this.tokens[t]))return this.tokenBalances[t];return i.BigNumber.from(0)},t.setBalanceValueByIndex=function(e,t){this.tokenBalances[e]=t},t.getTokenAmounts=function(){var e=this;return this.tokens.map((function(t,n){return new be(t,e.tokenBalances[n])}))},t.setTokenBalances=function(e){this.tokenBalances=e},t.subtractBalanceValue=function(e){for(var t=[],n=0;n<this.tokenBalances.length;n++)t.push(this.indexFromToken(e.token)===n?this.tokenBalances[n].sub(e.toBigNumber()):this.tokenBalances[n]);this.setTokenBalances(t)},I(e,[{key:"chainId",get:function(){return this.tokens[0].chainId}},{key:"name",get:function(){return this._name},set:function(e){this._name=e}}]),e}();(Jt=exports.PoolType||(exports.PoolType={})).Pair="Pair",Jt.StablePairWrapper="StablePairWrapper",Jt.AmplifiedWeightedPair="AmplifiedWeightedPair",Jt.PoolPairWrapper="PoolPairWrapper";var an=s.BigNumber.from(100),rn={},un=(($t={})[exports.ChainId.AVAX_TESTNET]="0x9054fb12bf026c7ef2c6d1f68fbbead8f68cdbfa477faca7f9d8ec63173f87ff",$t[exports.ChainId.BSC_MAINNET]="0x623d9ad8b6787321d0dff55d4f864a7cfdedfb1802a561c75cd01c62a079bc84",$t[exports.ChainId.AVAX_MAINNET]="0x623d9ad8b6787321d0dff55d4f864a7cfdedfb1802a561c75cd01c62a079bc84",$t[exports.ChainId.OASIS_MAINNET]="0x623d9ad8b6787321d0dff55d4f864a7cfdedfb1802a561c75cd01c62a079bc84",$t[exports.ChainId.OASIS_TESTNET]="0x623d9ad8b6787321d0dff55d4f864a7cfdedfb1802a561c75cd01c62a079bc84",$t[exports.ChainId.BSC_TESTNET]="0x623d9ad8b6787321d0dff55d4f864a7cfdedfb1802a561c75cd01c62a079bc84",$t[exports.ChainId.MATIC_MAINNET]="0x623d9ad8b6787321d0dff55d4f864a7cfdedfb1802a561c75cd01c62a079bc84",$t[exports.ChainId.MATIC_TESTNET]="0x623d9ad8b6787321d0dff55d4f864a7cfdedfb1802a561c75cd01c62a079bc84",$t[exports.ChainId.QUARKCHAIN_DEV_S0]="0x623d9ad8b6787321d0dff55d4f864a7cfdedfb1802a561c75cd01c62a079bc84",$t[exports.ChainId.ARBITRUM_TETSNET_RINKEBY]="0x623d9ad8b6787321d0dff55d4f864a7cfdedfb1802a561c75cd01c62a079bc84",$t[exports.ChainId.ARBITRUM_MAINNET]="0x623d9ad8b6787321d0dff55d4f864a7cfdedfb1802a561c75cd01c62a079bc84",$t),on=function(e){function t(n,a,r,u,o,f,s){var d;return(d=e.call(this)||this).tokenBalances=n[0].sortsBefore(n[1])?a:[a[1],a[0]],d.tokens=n[0].sortsBefore(n[1])?n:[n[1],n[0]],d.ampBPS=f,d.weights=n[0].sortsBefore(n[1])?[u,an.sub(u)]:[an.sub(u),u],d.virtualReserves=n[0].sortsBefore(n[1])?r:[r[1],r[0]],d.fee=o,d.liquidityToken=new Z(n[0].chainId,s?i.ethers.utils.getAddress(s):t.getAddress(d.tokens[0],d.tokens[1],d.weights[0]),18,"Requiem-LP","Requiem LPs"),d.type=exports.PoolType.AmplifiedWeightedPair,d.address=s||t.getAddress(d.token0,d.token1,d.weight0),d._name=n.map((function(e){return e.symbol})).join("-"),d}E(t,e),t.getAddress=function(e,t,n){var i,a,u,o,f,s,p,m,l,y=e.sortsBefore(t)?[e,t]:[t,e],b=e.sortsBefore(t)?[n.toString(),an.sub(n).toString()]:[an.sub(n).toString(),n.toString()];return void 0===(null===(i=rn)||void 0===i||null===(a=i[y[0].address])||void 0===a||null===(u=a[y[1].address])||void 0===u?void 0:u[""+b[0]])&&(rn=S({},rn,((l={})[y[0].address]=S({},null===(o=rn)||void 0===o?void 0:o[y[0].address],((m={})[y[1].address]=S({},null===(f=rn)||void 0===f||null===(s=f[y[0].address])||void 0===s?void 0:s[y[1].address],((p={})[""+b[0]]=r.getCreate2Address(c[y[0].chainId],d.keccak256(["bytes"],[d.pack(["address","address","uint32"],[y[0].address,y[1].address,b[0]])]),un[y[0].chainId]),p)),m)),l))),rn[y[0].address][y[1].address][""+b[0]]},t.fromBigIntish=function(e,n,i,a,r,u,o){return new t(e,n.map((function(e){return s.BigNumber.from(e)})),i.map((function(e){return s.BigNumber.from(e)})),s.BigNumber.from(a),s.BigNumber.from(r),s.BigNumber.from(u),o)};var n=t.prototype;return n.getAddressForRouter=function(){return this.liquidityToken.address},n.involvesToken=function(e){return e.equals(this.token0)||e.equals(this.token1)},n.poolPrice=function(e,t){return e.equals(this.token0)?this.token0Price:this.token1Price},n.poolPriceBases=function(e,t){return e.equals(this.token0)?{priceBaseIn:this.virtualReserves[0].mul(this.weights[1]),priceBaseOut:this.virtualReserves[1].mul(this.weights[0])}:{priceBaseIn:this.virtualReserves[1].mul(this.weights[0]),priceBaseOut:this.virtualReserves[0].mul(this.weights[1])}},n.priceOf=function(e){return this.involvesToken(e)||a(!1),e.equals(this.token0)?this.token0Price:this.token1Price},n.reserveOf=function(e){return this.involvesToken(e)||a(!1),e.equals(this.token0)?this.reserve0.raw:this.reserve1.raw},n.virtualReserveOf=function(e){return this.involvesToken(e)||a(!1),e.equals(this.token0)?this.virtualReserve0.raw:this.virtualReserve1.raw},n.weightOf=function(e){return this.involvesToken(e)||a(!1),e.equals(this.token0)?this.weight0:this.weight1},n.getLiquidityMinted=function(e,t,n){e.token.equals(this.liquidityToken)||a(!1);var i,r=t.token.sortsBefore(n.token)?[t,n]:[n,t];if(r[0].token.equals(this.token0)&&r[1].token.equals(this.token1)||a(!1),e.raw.eq(h))i=G(r[0].raw.mul(r[1].raw)).sub(b);else{var u=r[0].raw.mul(e.raw).div(this.reserve0.raw),o=r[1].raw.mul(e.raw).div(this.reserve1.raw);i=u.lte(o)?u:o}if(!i.gt(h))throw new L;return new be(this.liquidityToken,i)},n.getLiquidityValue=function(e,t,n,i,r){var u;if(void 0===i&&(i=!1),this.involvesToken(e)||a(!1),t.token.equals(this.liquidityToken)||a(!1),n.token.equals(this.liquidityToken)||a(!1),n.raw.lte(t.raw)||a(!1),i){r||a(!1);var o=j(r);if(o.eq(h))u=t;else{var f=G(this.reserve0.raw.mul(this.reserve1.raw)),s=G(o);if(f.gt(s)){var d=t.raw.mul(f.sub(s)),p=f.mul(x).add(s),m=d.div(p);u=t.add(new be(this.liquidityToken,m))}else u=t}}else u=t;return new be(e,n.raw.mul(this.reserveOf(e)).div(u.raw))},n.priceRatioOf=function(e){return this.involvesToken(e)||a(!1),e.equals(this.token0)?this.token0PriceRaw:this.token1PriceRaw},n.calculateSwapGivenIn=function(e,t,n){if(n.gte(this.reserveOf(e)))throw new W;return Yt(n,this.virtualReserveOf(e),this.virtualReserveOf(t),this.weightOf(e),this.weightOf(t),this.fee)},n.calculateSwapGivenOut=function(e,t,n){if(n.gte(this.reserveOf(t)))throw new W;var i=this.virtualReserveOf(t),a=this.virtualReserveOf(e),r=this.weightOf(t);return Zt(n,a,i,this.weightOf(e),r,this.fee)},n.getOutputAmount=function(e){if(this.involvesToken(e.token)||a(!1),this.reserve0.raw.eq(h)||this.reserve1.raw.eq(h))throw new W;var n=this.virtualReserveOf(e.token),i=this.virtualReserveOf(e.token.equals(this.token0)?this.token1:this.token0),r=this.weightOf(e.token),u=this.weightOf(e.token.equals(this.token0)?this.token1:this.token0),o=new be(e.token.equals(this.token0)?this.token1:this.token0,Yt(e.toBigNumber(),n,i,r,u,this.fee));if(o.raw.eq(h))throw new L;return[o,new t([e.token,e.token.equals(this.token0)?this.token1:this.token0],[this.reserveOf(e.token).add(e.raw),this.reserveOf(o.token).sub(o.raw)],[n.add(e.raw),i.sub(o.raw)],r,this.ampBPS,this.fee)]},n.getInputAmount=function(e){if(this.involvesToken(e.token)||a(!1),console.log("-- this 0",this.reserve0.raw,"1",this.reserve1.raw,"out",e.raw),this.reserve0.raw.eq(h)||this.reserve1.raw.eq(h)||e.raw.gte(this.reserveOf(e.token)))throw new Error("insufficcient reserves");var n=this.virtualReserveOf(e.token),i=this.virtualReserveOf(e.token.equals(this.token0)?this.token1:this.token0),r=this.weightOf(e.token),u=this.weightOf(e.token.equals(this.token0)?this.token1:this.token0),o=new be(e.token.equals(this.token0)?this.token1:this.token0,Zt(e.toBigNumber(),i,n,u,r,this.fee));return[o,new t([o.token,e.token],[this.reserveOf(o.token).add(o.raw),this.reserveOf(e.token).sub(e.raw)],[i.add(o.raw),n.sub(e.raw)],u,this.ampBPS,this.fee)]},n.adjustForSwap=function(e,t){this.virtualReserves[this.indexFromToken(e.token)]=this.virtualReserves[this.indexFromToken(e.token)].add(e.raw.mul(this.amp).div(k)),this.virtualReserves[this.indexFromToken(t.token)]=this.virtualReserves[this.indexFromToken(t.token)].sub(t.raw.mul(this.amp).div(k))},n.clone=function(){return new t(this.tokens,this.tokenBalances,this.virtualReserves,this.weight0,this.fee0,this.amp,this.address)},n.getName=function(){var e=this;return this.tokens.map((function(t,n){return String(e.weights[n])+"-"+t.symbol})).join("-")},I(t,[{key:"amp",get:function(){return this.ampBPS}},{key:"token0Price",get:function(){return new he(this.token0,this.token1,this.virtualReserves[0].mul(this.weights[1]),this.virtualReserves[1].mul(this.weights[0]))}},{key:"token1Price",get:function(){return new he(this.token1,this.token0,this.virtualReserves[1].mul(this.weights[0]),this.virtualReserves[0].mul(this.weights[1]))}},{key:"fee0",get:function(){return this.fee}},{key:"chainId",get:function(){return this.token0.chainId}},{key:"token0",get:function(){return this.tokens[0]}},{key:"token1",get:function(){return this.tokens[1]}},{key:"reserve0",get:function(){return new be(this.tokens[0],this.tokenBalances[0])}},{key:"reserve1",get:function(){return new be(this.tokens[1],this.tokenBalances[1])}},{key:"virtualReserve0",get:function(){return new be(this.tokens[0],this.virtualReserves[0])}},{key:"virtualReserve1",get:function(){return new be(this.tokens[1],this.virtualReserves[1])}},{key:"weight0",get:function(){return this.weights[0]}},{key:"weight1",get:function(){return this.weights[1]}},{key:"token0PriceRaw",get:function(){return new he(this.token0,this.token1,this.tokenBalances[0],this.tokenBalances[1])}},{key:"token1PriceRaw",get:function(){return new he(this.token1,this.token0,this.tokenBalances[1],this.tokenBalances[0])}}]),t}(nn),fn=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"provider",type:"address"},{indexed:!1,internalType:"uint256[]",name:"tokenAmounts",type:"uint256[]"},{indexed:!1,internalType:"uint256",name:"invariant",type:"uint256"},{indexed:!1,internalType:"uint256",name:"tokenSupply",type:"uint256"}],name:"AddLiquidity",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newController",type:"address"}],name:"FeeControllerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newController",type:"address"}],name:"FeeDistributorChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256[]",name:"amounts",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"feeAmounts",type:"uint256[]"}],name:"FlashLoan",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"fee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"adminFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"withdrawFee",type:"uint256"}],name:"NewFee",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"provider",type:"address"},{indexed:!1,internalType:"uint256[]",name:"tokenAmounts",type:"uint256[]"},{indexed:!1,internalType:"uint256",name:"tokenSupply",type:"uint256"}],name:"RemoveLiquidity",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"provider",type:"address"},{indexed:!1,internalType:"uint256[]",name:"tokenAmounts",type:"uint256[]"},{indexed:!1,internalType:"uint256",name:"invariant",type:"uint256"},{indexed:!1,internalType:"uint256",name:"tokenSupply",type:"uint256"}],name:"RemoveLiquidityImbalance",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"provider",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenIndex",type:"uint256"},{indexed:!1,internalType:"uint256",name:"tokenAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"coinAmount",type:"uint256"}],name:"RemoveLiquidityOne",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"buyer",type:"address"},{indexed:!1,internalType:"address",name:"soldId",type:"address"},{indexed:!1,internalType:"uint256",name:"tokensSold",type:"uint256"},{indexed:!1,internalType:"address",name:"boughtId",type:"address"},{indexed:!1,internalType:"uint256",name:"tokensBought",type:"uint256"}],name:"TokenExchange",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"POOL_TOKEN_COMMON_DECIMALS",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"uint256",name:"minMintAmount",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"addLiquidityExactIn",outputs:[{internalType:"uint256",name:"mintAmount",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"calculateRemoveLiquidityExactIn",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"index",type:"uint256"}],name:"calculateRemoveLiquidityOneToken",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"fee",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"}],name:"calculateSwapGivenIn",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountOut",type:"uint256"}],name:"calculateSwapGivenOut",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bool",name:"deposit",type:"bool"}],name:"calculateTokenAmount",outputs:[{internalType:"uint256",name:"burnAmount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeController",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeDistributor",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IFlashLoanRecipient",name:"recipient",type:"address"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"userData",type:"bytes"}],name:"flashLoan",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getCollectedFees",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTokenBalances",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTokenMultipliers",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTokenWeights",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"_coins",type:"address[]"},{internalType:"uint8[]",name:"_decimals",type:"uint8[]"},{internalType:"uint256[]",name:"_normalizedWeights",type:"uint256[]"},{internalType:"uint256[]",name:"_amounts",type:"uint256[]"},{internalType:"string",name:"lpTokenName",type:"string"},{internalType:"string",name:"lpTokenSymbol",type:"string"},{internalType:"uint256",name:"_fee",type:"uint256"},{internalType:"uint256",name:"_flashFee",type:"uint256"},{internalType:"uint256",name:"_adminFee",type:"uint256"},{internalType:"address",name:"_feeDistributor",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"onSwapGivenIn",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"onSwapGivenOut",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"lpAmount",type:"uint256"},{internalType:"uint256[]",name:"minAmounts",type:"uint256[]"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"removeLiquidityExactIn",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"uint256",name:"maxLpBurn",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"removeLiquidityExactOut",outputs:[{internalType:"uint256",name:"burnAmount",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"lpAmount",type:"uint256"},{internalType:"uint8",name:"index",type:"uint8"},{internalType:"uint256",name:"minAmount",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"removeLiquidityOneToken",outputs:[{internalType:"uint256",name:"amountReceived",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newSwapFee",type:"uint256"},{internalType:"uint256",name:"newAdminFee",type:"uint256"},{internalType:"uint256",name:"newFlashFee",type:"uint256"}],name:"setFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_feeController",type:"address"},{internalType:"address",name:"_feeDistributor",type:"address"}],name:"setFeeControllerAndDistributor",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"swapStorage",outputs:[{internalType:"contract WeightedLPToken",name:"lpToken",type:"address"},{internalType:"uint256",name:"nTokens",type:"uint256"},{internalType:"uint256",name:"lastInvariant",type:"uint256"},{internalType:"uint256",name:"fee",type:"uint256"},{internalType:"uint256",name:"flashFee",type:"uint256"},{internalType:"uint256",name:"adminFee",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"tokenIndexes",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawAdminFee",outputs:[],stateMutability:"nonpayable",type:"function"}],sn=function(e){function t(t,n,r,u,o,f){var s;(s=e.call(this)||this).tokens=n,s.tokenBalances=r,s.address=i.ethers.utils.getAddress(t),s.lpTotalSupply=o,s.swapStorage=u,s.tokens=n,s.tokenBalances=r,s.liquidityToken=new Z(n[0].chainId,null!=f?f:"0x0000000000000000000000000000000000000001",18,"Requiem-LP","Requiem Swap LPs");for(var d=0;d<Object.values(s.tokens).length;d++)n[d].address==i.ethers.constants.AddressZero&&a(!1),n[d].decimals<=18||a(!1),n[d].chainId!==n[0].chainId&&a(!1);return s._name="Weighted Pool",s}E(t,e),t.mock=function(){return new t("",[new Z(1,"0x0000000000000000000000000000000000000001",6,"Mock USDC","MUSDC")],[Te],en.mock(),Te)};var n=t.prototype;return n.involvesToken=function(e){for(var t=0;t<Object.keys(this.tokens).length;t++)e.equals(this.tokens[t]);return!1},n.tokenFromIndex=function(e){return this.tokens[e]},n.indexFromToken=function(e){for(var t=0;t<Object.keys(this.tokens).length;t++)if(e.equals(this.tokens[t]))return t;throw new Error("token not in pool")},n.calculateSwapViaPing=function(e,t,n,a){try{return Promise.resolve(new p.Contract("0xCc62754F15f7F35E4c58Ce6aD5608fA575C5583E",new i.ethers.utils.Interface(fn),a).calculateSwapGivenIn(e.address,t.address,n))}catch(e){return Promise.reject(e)}},n.calculateSwapGivenIn=function(e,t,n){return Nt(this.swapStorage,this.indexFromToken(e),this.indexFromToken(t),n,this.tokenBalances)},n.calculateSwapGivenOut=function(e,t,n){return At(this.swapStorage,this.indexFromToken(e),this.indexFromToken(t),n,this.tokenBalances)},n.getOutputAmount=function(e,t){var n=this.calculateSwapGivenIn(e.token,t,e.raw);return new be(t,n)},n.getInputAmount=function(e,t){var n=this.calculateSwapGivenOut(t,e.token,e.raw);return new be(t,n.toBigInt())},n.token=function(e){return this.tokens[e]},n.reserveOf=function(e){this.involvesToken(e)||a(!1);for(var t=0;t<Object.keys(this.tokens).length;t++)if(e.equals(this.tokens[t]))return this.tokenBalances[t];return i.BigNumber.from(0)},n.calculateRemoveLiquidity=function(e){var t=this;return kt(this.swapStorage,e,this.lpTotalSupply,this.tokenBalances).map((function(e,n){return e.div(t.swapStorage.tokenMultipliers[n])}))},n.calculateRemoveLiquidityOneToken=function(e,t){var n=wt(this.swapStorage,t,e,this.lpTotalSupply,this.tokenBalances),i=n.swapFee;return{amountOut:n.amountOut.div(this.swapStorage.tokenMultipliers[t]),swapFee:i}},n.getLiquidityAmount=function(e,t){return Bt(this.swapStorage,e,this.lpTotalSupply,t,this.tokenBalances)},n.getLiquidityValue=function(e,t){for(var n=i.BigNumber.from(0),a=0;a<t.length;a++)a!==e&&(n=n.add(this.calculateSwapGivenIn(this.tokens[a],this.tokens[e],t[a])));return n=n.add(t[e]),new be(this.tokens[e],n)},n.setSwapStorage=function(e){this.swapStorage=e},n.setTokenBalances=function(e){this.tokenBalances=e},n.setLpTotalSupply=function(e){this.lpTotalSupply=e},n.setBalanceValueByIndex=function(e,t){this.tokenBalances[e]=t},n.setBalanceValue=function(e){for(var t=[],n=0;n<this.tokenBalances.length;n++)t.push(this.indexFromToken(e.token)===n?e.toBigNumber():this.tokenBalances[n]);this.setTokenBalances(t)},n.addBalanceValue=function(e){for(var t=[],n=0;n<this.tokenBalances.length;n++)t.push(this.indexFromToken(e.token)===n?this.tokenBalances[n].add(e.toBigNumber()):this.tokenBalances[n]);this.setTokenBalances(t)},n.subtractBalanceValue=function(e){for(var t=[],n=0;n<this.tokenBalances.length;n++)t.push(this.indexFromToken(e.token)===n?this.tokenBalances[n].sub(e.toBigNumber()):this.tokenBalances[n]);this.setTokenBalances(t)},n.clone=function(){return new t(this.address,this.tokens,this.tokenBalances,this.swapStorage,this.lpTotalSupply)},n.poolPrice=function(e,t){var n=this.indexFromToken(e),i=this.indexFromToken(t);return new he(e,t,this.swapStorage.normalizedWeights[i].mul(this.tokenBalances[n]),this.swapStorage.normalizedWeights[n].mul(this.tokenBalances[i]))},n.poolPriceBases=function(e,t){var n=this.indexFromToken(e),i=this.indexFromToken(t);return{priceBaseIn:this.swapStorage.normalizedWeights[i].mul(this.tokenBalances[n]),priceBaseOut:this.swapStorage.normalizedWeights[n].mul(this.tokenBalances[i])}},n.adjustForSwap=function(e,t){this.tokenBalances[this.indexFromToken(e.token)]=this.tokenBalances[this.indexFromToken(e.token)].add(e.raw),this.tokenBalances[this.indexFromToken(t.token)]=this.tokenBalances[this.indexFromToken(t.token)].sub(t.raw)},n.getName=function(){return this._name},I(t,[{key:"chainId",get:function(){return this.tokens[0].chainId}}]),t}(nn),dn=i.BigNumber.from(1e3),pn=ve,mn=i.BigNumber.from(1);function ln(e,t){for(var n=[],i=0;i<e.length;i++)n.push(t[i].mul(e[i]));return n}function cn(e,t){return e.gte(t.futureATime)?t.futureA:t.futureA.gt(t.initialA)?t.initialA.add(t.futureA.sub(t.initialA).mul(e.sub(t.initialATime)).div(t.futureATime.sub(t.initialATime))):t.initialA.sub(t.initialA.sub(t.futureA).mul(e.sub(t.initialATime))).div(t.futureATime.sub(t.initialATime))}function yn(e,t){return e.gt(t)?e.sub(t):t.sub(e)}function bn(e,t){var n=e.length,a=function(e){for(var t=i.BigNumber.from(0),n=0;n<e.length;n++)t=t.add(e[n]);return t}(e);if(a.eq(0))return i.BigNumber.from(0);for(var r=i.BigNumber.from(0),u=a,o=t.mul(n),f=0;f<256;f++){for(var s=u,d=0;d<e.length;d++)s=s.mul(u).div(e[d].mul(n));if(r=u,yn(u=o.mul(a).div(dn).add(s.mul(n)).mul(u).div(o.sub(dn).mul(u).div(dn).add(s.mul(n+1))),r).lte(1))return u}return u}function hn(e,t,n,r,u,o){e==t&&a(!1);var f=o.length;e<f&&t<f||a(!1);for(var s=cn(r,u),d=s.mul(f),p=bn(o,s),m=i.BigNumber.from(0),l=p,c=0;c<f;c++)if(c!=t){var y=c==e?n:o[c];m=m.add(y),l=l.mul(p).div(y.mul(f))}l=l.mul(p.mul(dn)).div(d.mul(f));for(var b=m.add(p.mul(dn).div(d)),h=(i.BigNumber.from(0),p),T=0;T<256;T++)if(yn(h,h=h.mul(h).add(l).div(h.mul(2).add(b).sub(p))).lte(1))return h;return i.BigNumber.from(0)}function Tn(e,t,n,r){var u=n.length;t<u||a(!1);for(var o=e.mul(u),f=r,s=i.BigNumber.from(0),d=i.BigNumber.from(0),p=(i.BigNumber.from(0),0);p<u;p++)p!=t&&(s=s.add(d=n[p]),f=f.mul(r).div(d.mul(u)));f=f.mul(r).mul(dn).div(o.mul(u));for(var m=s.add(r.mul(dn).div(o)),l=r,c=0;c<256;c++)if(yn(l,l=l.mul(l).add(f).div(l.mul(2).add(m).sub(r))).lt(1))return l;return i.BigNumber.from(0)}var vn=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"provider",type:"address"},{indexed:!1,internalType:"uint256[]",name:"tokenAmounts",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"fees",type:"uint256[]"},{indexed:!1,internalType:"uint256",name:"invariant",type:"uint256"},{indexed:!1,internalType:"uint256",name:"tokenSupply",type:"uint256"}],name:"AddLiquidity",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"CollectProtocolFee",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newController",type:"address"}],name:"FeeControllerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newController",type:"address"}],name:"FeeDistributorChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"fee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"adminFee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"withdrawFee",type:"uint256"}],name:"NewFee",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"oldA",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newA",type:"uint256"},{indexed:!1,internalType:"uint256",name:"initialTime",type:"uint256"},{indexed:!1,internalType:"uint256",name:"futureTime",type:"uint256"}],name:"RampA",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"provider",type:"address"},{indexed:!1,internalType:"uint256[]",name:"tokenAmounts",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"fees",type:"uint256[]"},{indexed:!1,internalType:"uint256",name:"tokenSupply",type:"uint256"}],name:"RemoveLiquidity",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"provider",type:"address"},{indexed:!1,internalType:"uint256[]",name:"tokenAmounts",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"fees",type:"uint256[]"},{indexed:!1,internalType:"uint256",name:"invariant",type:"uint256"},{indexed:!1,internalType:"uint256",name:"tokenSupply",type:"uint256"}],name:"RemoveLiquidityImbalance",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"provider",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenIndex",type:"uint256"},{indexed:!1,internalType:"uint256",name:"tokenAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"coinAmount",type:"uint256"}],name:"RemoveLiquidityOne",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"A",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"StopRampA",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"buyer",type:"address"},{indexed:!1,internalType:"uint256",name:"soldId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"tokensSold",type:"uint256"},{indexed:!1,internalType:"uint256",name:"boughtId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"tokensBought",type:"uint256"}],name:"TokenExchange",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"MAX_A",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_ADMIN_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_A_CHANGE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_SWAP_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_WITHDRAW_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MIN_RAMP_TIME",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"uint256",name:"minMintAmount",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"addLiquidity",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"calculateCurrentWithdrawFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"calculateRemoveLiquidity",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint8",name:"index",type:"uint8"}],name:"calculateRemoveLiquidityOneToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint8",name:"inIndex",type:"uint8"},{internalType:"uint8",name:"outIndex",type:"uint8"},{internalType:"uint256",name:"inAmount",type:"uint256"}],name:"calculateSwap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"}],name:"calculateSwapGivenIn",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountOut",type:"uint256"}],name:"calculateSwapGivenOut",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bool",name:"deposit",type:"bool"}],name:"calculateTokenAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeController",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeDistributor",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getA",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAPrecise",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint8",name:"index",type:"uint8"}],name:"getAdminBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAdminBalances",outputs:[{internalType:"uint256[]",name:"adminBalances",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLpToken",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getNumberOfTokens",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint8",name:"index",type:"uint8"}],name:"getToken",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint8",name:"index",type:"uint8"}],name:"getTokenBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTokenBalances",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"getTokenIndex",outputs:[{internalType:"uint8",name:"index",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTokenPrecisionMultipliers",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTokens",outputs:[{internalType:"contract IERC20[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVirtualPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"_coins",type:"address[]"},{internalType:"uint8[]",name:"_decimals",type:"uint8[]"},{internalType:"string",name:"lpTokenName",type:"string"},{internalType:"string",name:"lpTokenSymbol",type:"string"},{internalType:"uint256",name:"_A",type:"uint256"},{internalType:"uint256",name:"_fee",type:"uint256"},{internalType:"uint256",name:"_adminFee",type:"uint256"},{internalType:"uint256",name:"_withdrawFee",type:"uint256"},{internalType:"address",name:"_feeDistributor",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"onSwap",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMin",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"onSwapGivenIn",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMax",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"onSwapGivenOut",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"futureA",type:"uint256"},{internalType:"uint256",name:"futureATime",type:"uint256"}],name:"rampA",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"lpAmount",type:"uint256"},{internalType:"uint256[]",name:"minAmounts",type:"uint256[]"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"removeLiquidity",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"uint256",name:"maxBurnAmount",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"removeLiquidityImbalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"lpAmount",type:"uint256"},{internalType:"uint8",name:"index",type:"uint8"},{internalType:"uint256",name:"minAmount",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"removeLiquidityOneToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newSwapFee",type:"uint256"},{internalType:"uint256",name:"newAdminFee",type:"uint256"},{internalType:"uint256",name:"newWithdrawFee",type:"uint256"}],name:"setFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_feeController",type:"address"}],name:"setFeeController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_feeDistributor",type:"address"}],name:"setFeeDistributor",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"stopRampA",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint8",name:"fromIndex",type:"uint8"},{internalType:"uint8",name:"toIndex",type:"uint8"},{internalType:"uint256",name:"inAmount",type:"uint256"},{internalType:"uint256",name:"minOutAmount",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"swapStorage",outputs:[{internalType:"contract LPToken",name:"lpToken",type:"address"},{internalType:"uint256",name:"fee",type:"uint256"},{internalType:"uint256",name:"adminFee",type:"uint256"},{internalType:"uint256",name:"initialA",type:"uint256"},{internalType:"uint256",name:"futureA",type:"uint256"},{internalType:"uint256",name:"initialATime",type:"uint256"},{internalType:"uint256",name:"futureATime",type:"uint256"},{internalType:"uint256",name:"defaultWithdrawFee",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"tokenIndexes",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"transferAmount",type:"uint256"}],name:"updateUserWithdrawFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawAdminFee",outputs:[],stateMutability:"nonpayable",type:"function"}],gn=function(e){function t(t,n,r,u,o,f,s,d,p){var m;(m=e.call(this)||this).tokens=t,m.currentWithdrawFee=s,m.lpTotalSupply=f,m.swapStorage=u,m.blockTimestamp=i.BigNumber.from(o),m.tokenBalances=n,m._A=r,m.liquidityToken=new Z(t[0].chainId,null!=p?p:"0x0000000000000000000000000000000000000001",18,"RequiemStable-LP","Requiem StableSwap LPs"),m.address=i.ethers.utils.getAddress(d);for(var l=0;l<Object.values(m.tokens).length;l++)t[l].address==i.ethers.constants.AddressZero&&a(!1),t[l].decimals<=18||a(!1),t[l].chainId!==t[0].chainId&&a(!1);return m._name="Stable Pool",m}E(t,e),t.mock=function(){var e=i.BigNumber.from(0);return new t([new Z(1,"0x0000000000000000000000000000000000000001",6,"Mock USDC","MUSDC")],[e],e,tn.mock(),0,e,e,"0x0000000000000000000000000000000000000001")};var n=t.prototype;return n.getAddressForRouter=function(){return y[this.tokens[0].chainId]},n.involvesToken=function(e){for(var t=0;t<Object.keys(this.tokens).length;t++)e.equals(this.tokens[t]);return!1},n.tokenFromIndex=function(e){return this.tokens[e]},n.indexFromToken=function(e){for(var t=0;t<Object.keys(this.tokens).length;t++)if(e.equals(this.tokens[t]))return t;throw new Error("token not in pool")},n.getBalances=function(){var e=this;return Object.keys(this.tokens).map((function(t,n){return e.tokenBalances[n]}))},n.calculateSwapViaPing=function(e,t,n,a){try{return Promise.resolve(new p.Contract(this.address,new i.ethers.utils.Interface(vn),a).calculateSwap(e.address,t.address,n))}catch(e){return Promise.reject(e)}},n.calculateSwapGivenIn=function(e,t,n){return function(e,t,n,i,a,r){var u=ln(i,r.tokenMultipliers),o=hn(e,t,u[e].add(n.mul(r.tokenMultipliers[e])),a,r,u),f=u[t].sub(o).sub(mn).div(r.tokenMultipliers[t]),s=r.fee.mul(f).div(pn);return f.sub(s)}(this.indexFromToken(e),this.indexFromToken(t),n,this.tokenBalances,this.blockTimestamp,this.swapStorage)},n.calculateSwapGivenOut=function(e,t,n){return function(e,t,n,i,a,r){var u=ln(i,r.tokenMultipliers),o=n.mul(pn).div(pn.sub(r.fee));return hn(t,e,u[t].sub(o.mul(r.tokenMultipliers[t])),a,r,u).sub(u[e]).sub(mn).div(r.tokenMultipliers[e]).add(mn)}(this.indexFromToken(e),this.indexFromToken(t),n,this.tokenBalances,this.blockTimestamp,this.swapStorage)},n.getOutputAmount=function(e,t){var n=this.calculateSwapGivenIn(e.token,t,e.toBigNumber());return new be(t,n.toBigInt())},n.getInputAmount=function(e,t){var n=this.calculateSwapGivenOut(t,e.token,e.toBigNumber());return new be(t,n)},n.token=function(e){return this.tokens[e]},n.reserveOf=function(e){this.involvesToken(e)||a(!1);for(var t=0;t<Object.keys(this.tokens).length;t++)if(e.equals(this.tokens[t]))return this.tokenBalances[t];return i.BigNumber.from(0)},n.calculateRemoveLiquidity=function(e){return function(e,t,n,i,r){e.lte(n)||a(!1);for(var u=e.mul(pn.sub(i)).div(pn),o=[],f=0;f<t.tokenMultipliers.length;f++)o.push(r[f].mul(u).div(n));return o}(e,this.swapStorage,this.lpTotalSupply,this.currentWithdrawFee,this.getBalances())},n.calculateRemoveLiquidityOneToken=function(e,t){return function(e,t,n,r,u,o,f){n<e.tokenMultipliers.length||a(!1);for(var s=cn(r,e),d=ln(u,e.tokenMultipliers),p=bn(d,s),m=p.sub(t.mul(p).div(o)),l=Tn(s,n,d,m),c=d,y=function(e){var t=e.tokenMultipliers.length;return e.fee.mul(t).div(4*(t-1))}(e),b=0;b<e.tokenMultipliers.length;b++){var h=i.BigNumber.from(0);h=b==n?d[b].mul(m).div(p).sub(l):d[b].sub(d[b].mul(m).div(p)),c[b]=c[b].sub(y.mul(h).div(pn))}var T=c[n].sub(Tn(s,n,c,m));T=T.sub(1).div(e.tokenMultipliers[n]);var v=d[n].sub(l).div(e.tokenMultipliers[n]).sub(T);return{dy:T=T.mul(pn.sub(f)).div(pn),fee:v}}(this.swapStorage,e,t,this.blockTimestamp,this.getBalances(),this.lpTotalSupply,this.currentWithdrawFee)},n.getLiquidityAmount=function(e,t){return function(e,t,n,i,r,u){var o=e.tokenMultipliers.length;t.length!=o&&a(!1);for(var f=cn(r,e),s=bn(ln(i,e.tokenMultipliers),f),d=i,p=0;p<o;p++)d[p]=n?d[p].add(t[p]):d[p].sub(t[p]);var m=bn(ln(d,e.tokenMultipliers),f);return u.eq(0)?m:(n?m.sub(s):s.sub(m)).mul(u).div(s)}(this.swapStorage,e,t,this.getBalances(),this.blockTimestamp,this.lpTotalSupply)},n.getLiquidityValue=function(e,t){for(var n=i.BigNumber.from(0),a=0;a<t.length;a++)a!==e&&(n=n.add(this.calculateSwapGivenIn(this.tokens[a],this.tokens[e],t[a])));return n=n.add(t[e]),new be(this.tokens[e],n.toBigInt())},n.setSwapStorage=function(e){this.swapStorage=e},n.setTokenBalances=function(e){this.tokenBalances=e},n.setBlockTimestamp=function(e){this.blockTimestamp=e},n.setLpTotalSupply=function(e){this.lpTotalSupply=e},n.setBalanceValueByIndex=function(e,t){this.tokenBalances[e]=t},n.setBalanceValue=function(e){for(var t=[],n=0;n<this.tokenBalances.length;n++)t.push(this.indexFromToken(e.token)===n?e.toBigNumber():this.tokenBalances[n]);this.setTokenBalances(t)},n.addBalanceValue=function(e){for(var t=[],n=0;n<this.tokenBalances.length;n++)t.push(this.indexFromToken(e.token)===n?this.tokenBalances[n].add(e.toBigNumber()):this.tokenBalances[n]);this.setTokenBalances(t)},n.subtractBalanceValue=function(e){for(var t=[],n=0;n<this.tokenBalances.length;n++)t.push(this.indexFromToken(e.token)===n?this.tokenBalances[n].sub(e.toBigNumber()):this.tokenBalances[n]);this.setTokenBalances(t)},n.clone=function(){return new t(this.tokens,this.tokenBalances,this._A,this.swapStorage,this.blockTimestamp.toNumber(),this.lpTotalSupply,this.currentWithdrawFee,this.address)},n.poolPrice=function(e,t){var n=i.BigNumber.from(this.tokenBalances[this.indexFromToken(e)]).div(1e4);return new he(e,t,n,this.calculateSwapGivenIn(e,t,n))},n.poolPriceBases=function(e,t){var n=this.tokenBalances[this.indexFromToken(e)].div(1e4);return{priceBaseIn:n,priceBaseOut:this.calculateSwapGivenIn(e,t,n)}},n.adjustForSwap=function(e,t){this.tokenBalances[this.indexFromToken(e.token)]=this.tokenBalances[this.indexFromToken(e.token)].add(e.raw),this.tokenBalances[this.indexFromToken(t.token)]=this.tokenBalances[this.indexFromToken(t.token)].sub(t.raw)},n.getName=function(){return this._name},I(t,[{key:"setCurrentWithdrawFee",set:function(e){this.currentWithdrawFee=e}},{key:"chainId",get:function(){return this.tokens[0].chainId}}]),t}(nn),xn=function(){function e(e,t,n){this.tokenIn=e,this.tokenOut=t,this.poolRef=n,this.pool=null}var t=e.prototype;return t.calculateSwapGivenOut=function(e,t){return new be(this.tokenIn,t[this.poolRef].calculateSwapGivenOut(this.tokenIn,e.token,e.raw))},t.calculateSwapGivenIn=function(e,t){return new be(this.tokenOut,t[this.poolRef].calculateSwapGivenIn(e.token,this.tokenOut,e.raw))},t.calculateSwapGivenOutAmendingPool=function(e,t){var n=Object.assign({},t[this.poolRef]),i=new be(this.tokenIn,n.calculateSwapGivenOut(this.tokenIn,e.token,e.raw));return t[this.poolRef]=n,i},t.calculateSwapGivenInAmendingPool=function(e,t){var n=Object.assign({},t[this.poolRef]),i=new be(this.tokenOut,n.calculateSwapGivenIn(e.token,this.tokenOut,e.raw));return n.adjustForSwap(e,i),t[this.poolRef]=n,i},t.involvesToken=function(e){return this.tokenIn.address===e.address||this.tokenOut.address===e.address},t.poolPrice=function(e){return e[this.poolRef].poolPrice(this.tokenIn,this.tokenOut)},e.singleDataFromPool=function(t,n,i){i.tokens.includes(t)&&i.tokens.includes(n)||a(!1);var r=new e(t,n,i.address);return r.pool=i,r},t.fetchPoolPrice=function(e){var t=e[this.poolRef].poolPriceBases(this.tokenIn,this.tokenOut),n=t.priceBaseOut;this.priceBaseIn=t.priceBaseIn,this.priceBaseOut=n},t.setPool=function(e){this.pool=e},I(e,[{key:"chainId",get:function(){return this.tokenIn.chainId}}]),e}(),wn=function(){function e(e,t,n){this.token0=e,this.token1=t,this.poolRef=n}var t=e.prototype;return t.calculateSwapGivenOut=function(e,t){var n=e.token.equals(this.token0)?this.token1:this.token0;return new be(n,t[this.poolRef].calculateSwapGivenOut(n,e.token,e.raw))},t.calculateSwapGivenIn=function(e,t){var n=e.token.equals(this.token0)?this.token1:this.token0;return new be(n,t[this.poolRef].calculateSwapGivenIn(e.token,n,e.raw))},t.involvesToken=function(e){return this.token0.address===e.address||this.token1.address===e.address},t.poolPrice=function(e,t,n){return n[this.poolRef].poolPrice(e,t)},e.dataFromPool=function(t){for(var n=[],i=0;i<t.tokenBalances.length;i++)for(var a=0;a<i;a++)n.push(new e(t.tokens[i],t.tokens[a],t.address));return n},e.singleDataFromPool=function(t,n,i){return new e(i.tokens[t],i.tokens[n],i.address)},e.dataFromPools=function(t){for(var n=[],i=0;i<t.length;i++)for(var a=t[i],r=0;r<a.tokenBalances.length;r++)for(var u=0;u<r;u++)n.push(new e(a.tokens[r],a.tokens[u],a.address));return n},t.toSwapDataFrom=function(e){return new xn(e,this.token0.equals(e)?this.token1:this.token0,this.poolRef)},t.toSwapDataTo=function(e){return new xn(this.token0.equals(e)?this.token1:this.token0,e,this.poolRef)},e.toSwapArrayFrom=function(e,t){for(var n=[],i=t,a=0;a<e.length;a++){var r=e[a].toSwapDataFrom(i);n.push(r),i=r.tokenOut}return n},e.toSwapArrayTo=function(e,t){for(var n=new Array(e.length),i=t,a=e.length-1;a>=0;a--){var r=e[a].toSwapDataTo(i);n[a]=r,i=r.tokenIn}return n},I(e,[{key:"chainId",get:function(){return this.token0.chainId}}]),e}(),kn=i.BigNumber.from(1),Bn=i.BigNumber.from(10),Nn=i.BigNumber.from(2),An=i.BigNumber.from("141421356237309504880"),In=i.BigNumber.from("1000000000000000000");function Sn(e){var t=kn;if(e.gt(3)){t=e;for(var n=e.div(Nn).add(kn);n<t;)t=n,n=e.div(n).add(n).div(Nn)}else e.eq(0)||(t=kn);return t}function En(e,t){var n=e.reserve0,i=e.reserve1,a=t.equals(e.token0)?[i,e.weight0,e.weight1]:[n,e.weight1,e.weight0],r=a[1],u=a[2];return An.mul(a[0].toBigNumber()).div(Sn(u.mul(u).add(r.add(r)))).div(In)}function Cn(e,t,n,i){return En(e,i).mul(n).div(t)}var On=i.BigNumber.from(112),_n=i.BigNumber.from(2).pow(On),Mn=i.BigNumber.from(0);function Rn(e){return e.div(i.BigNumber.from("5192296858534827"))}function Fn(e,t){return t.gt(Mn)||a(!1),e.isZero()?Mn:e.mul(_n).div(t)}var Dn=i.BigNumber.from("10000000000000000"),Pn=i.BigNumber.from("10000000000000000"),qn=i.BigNumber.from("1000000000");function Un(e,t){return e.mul(Pn.mul(Pn)).div(t).div(Pn)}function Wn(e,t){return Rn(Fn(t.mul(qn),e)).div(Pn)}function Ln(e,t,n){return e.mul(Wn(t,n)).add(Pn).div(Dn)}function Vn(e,t){return e.mul(t).div(Pn)}var Xn,jn=function(){function e(e,t,n,i){t.length>0||a(!1),n instanceof Z&&t[0].involvesToken(n)||n===Y[t[0].chainId]&&t[0].involvesToken(ie[t[0].chainId])||a(!1),void 0===i||i instanceof Z&&t[t.length-1].involvesToken(i)||i===Y[t[0].chainId]&&t[t.length-1].involvesToken(ie[t[0].chainId])||a(!1);for(var r,u=[n instanceof Z?n:ie[t[0].chainId]],o=P(t.entries());!(r=o()).done;){var f=r.value,s=f[1],d=u[f[0]];d.equals(s.token0)||d.equals(s.token1)||a(!1);var p=d.equals(s.token0)?s.token1:s.token0;u.push(p)}this.pairData=t,this.path=u,this.midPrice=he.fromRoute(this,e),this.input=n,this.output=null!=i?i:u[u.length-1]}return I(e,[{key:"chainId",get:function(){return this.pairData[0].chainId}}]),e}();function Gn(e,t){return J(e.inputAmount.currency,t.inputAmount.currency)||a(!1),J(e.outputAmount.currency,t.outputAmount.currency)||a(!1),e.outputAmount.equalTo(t.outputAmount)?e.inputAmount.equalTo(t.inputAmount)?0:e.inputAmount.lessThan(t.inputAmount)?-1:1:e.outputAmount.lessThan(t.outputAmount)?1:-1}function Hn(e,t){return e instanceof be?e:e.currency===Y[t]?new be(ie[t],e.raw):void a(!1)}(Xn=exports.SwapType||(exports.SwapType={}))[Xn.EXACT_INPUT=0]="EXACT_INPUT",Xn[Xn.EXACT_OUTPUT=1]="EXACT_OUTPUT";var Kn=function(){function e(e,t,n,i){var r=new Array(e.path.length),u=!0;if(n===exports.SwapType.EXACT_INPUT){J(t.currency,e.input)||a(!1),r[0]=Hn(t,e.chainId);for(var o=m.cloneDeep(i),f=0;f<e.path.length-1;f++){var s=e.swapData[f];try{var d=s.calculateSwapGivenIn(r[f],o),p=m.cloneDeep(o[s.poolRef]);p.adjustForSwap(r[f],d),o[s.poolRef]=p,r[f+1]=d}catch(e){u=!1;break}}}else{J(t.currency,e.output)||a(!1),r[r.length-1]=Hn(t,e.chainId);for(var l=m.cloneDeep(i),c=e.path.length-1;c>0;c--){var y=e.swapData[c-1];try{var b=y.calculateSwapGivenOut(r[c],l),h=m.cloneDeep(l[y.poolRef]);h.adjustForSwap(b,r[c]),l[y.poolRef]=h,r[c-1]=b}catch(e){u=!1;break}}}this.isValid=u,this.route=e,this.tradeType=n,this.swapAmounts=r,this.isValid?(this.inputAmount=n===exports.SwapType.EXACT_INPUT?t:r[0],this.outputAmount=n===exports.SwapType.EXACT_OUTPUT?t:r[r.length-1]):(this.inputAmount=n===exports.SwapType.EXACT_INPUT?t:new be(this.route.swapData[0].tokenIn,"0"),this.outputAmount=n===exports.SwapType.EXACT_OUTPUT?t:new be(this.route.swapData[this.route.swapData.length-1].tokenIn,"0")),this.executionPrice=new he(this.inputAmount.currency,this.outputAmount.currency,this.inputAmount.raw,this.outputAmount.raw)}e.exactIn=function(t,n,i){return new e(t,n,exports.SwapType.EXACT_INPUT,i)},e.exactOut=function(t,n,i){return new e(t,n,exports.SwapType.EXACT_OUTPUT,i)};var t=e.prototype;return t.minimumAmountOut=function(e){if(e.lessThan(h)&&a(!1),this.tradeType===exports.SwapType.EXACT_OUTPUT)return this.outputAmount;var t=new pe(T).add(e).invert().multiply(this.outputAmount.raw).quotient;return new be(this.outputAmount.token,t)},t.maximumAmountIn=function(e){if(e.lessThan(h)&&a(!1),this.tradeType===exports.SwapType.EXACT_INPUT)return this.inputAmount;var t=new pe(T).add(e).multiply(this.inputAmount.raw).quotient;return new be(this.inputAmount.token,t)},e.PriceRoutes=function(t,n,i,a){for(var r=[],u=0;u<t.length;u++){var o=new e(t[u],n,i,a);o.isValid&&r.push(o)}return i===exports.SwapType.EXACT_INPUT?r.sort((function(e,t){return e.outputAmount.raw.lt(t.outputAmount.raw)?1:-1})):r.filter((function(t){return e.validateRouteForExactOut(t.route)})).sort((function(e,t){return e.inputAmount.raw.gt(t.inputAmount.raw)?1:-1}))},e.validateRouteForExactOut=function(e){var t=e.swapData.map((function(e){return e.poolRef}));return new Set(t).size===t.length},e}(),zn=function(){function e(e){for(var t=[e[0].tokenIn],n=[],i=0;i<e.length;i++){for(var a=e[i],r=a.tokenIn,u=a.tokenOut,o=i+1;o<e.length&&e[o].poolRef===a.poolRef;o++)u=(a=e[o]).tokenOut,i++;var f=new xn(r,u,a.poolRef);n.push(f),t.push(a.tokenOut)}this.swapData=n,this.identifier=n.map((function(e){return e.poolRef})).join("")+t.map((function(e){return e.address})).join(""),this.path=t,this.input=t[0],this.output=t[t.length-1]}return e.prototype.equals=function(e){for(var t=0;t<this.swapData.length;t++)if(!this.swapData[t].tokenIn.equals(e.swapData[t].tokenIn)&&!this.swapData[t].tokenOut.equals(e.swapData[t].tokenOut)&&this.swapData[t].poolRef!==e.swapData[t].poolRef)return!1;return!0},e.cleanRoutes=function(e){for(var t=[],n=[],i=0;i<e.length;i++)t.includes(e[i].identifier)||(t.push(e[i].identifier),n.push(e[i]));return n},I(e,[{key:"chainId",get:function(){return this.swapData[0].chainId}}]),e}(),Qn=function(){function e(){}return e.getRouteIteration=function(t,n,i,r,u,o,f,s){void 0===r&&(r=3),void 0===u&&(u=""),void 0===o&&(o=[]),void 0===f&&(f=n),void 0===s&&(s=[]),t.length>0||a(!1),r>0||a(!1),f===n||o.length>0||a(!1);for(var d=t.filter((function(e){return e.poolRef!==u})),p=0;p<d.length;p++){var m=d[p],l=m.token0.equals(n);if(l||m.token1.equals(n)){var c,y=l?m.token1:m.token0;c=new xn(n,y,m.poolRef),y.equals(i)?s.push(new zn([].concat(o,[c]))):r>1&&d.length>1&&e.getRouteIteration(t,y,i,r-1,m.poolRef,[].concat(o,[c]),f,s)}}return s},e.getRoutes=function(e,t,n,i){return void 0===i&&(i=3),this.getRouteIteration(e,t,n,i,"",[],t,[])},e}();function Yn(e){return e.raw.toHexString()}var Zn=function(){function e(){}return e.swapCallParameters=function(e,t){var n=t.etherIn,i=t.etherOut;n&&i&&a(!1),!("ttl"in t)||t.ttl>0||a(!1);var r,u,o=X(t.recipient),f=Yn(e.maximumAmountIn(t.allowedSlippage)),s=Yn(e.minimumAmountOut(t.allowedSlippage)),d=[],p="ttl"in t?"0x"+(Math.floor((new Date).getTime()/1e3)+t.ttl).toString(16):"0x"+t.deadline.toString(16);if(t.multiSwap){var m=e.route.path.map((function(e){return e.address})),l=e.route.swapData.map((function(e){return e.poolRef}));switch(e.tradeType){case exports.SwapType.EXACT_INPUT:n?(r="onSwapExactETHForTokens",d=[l,m,s,o,p],u=f):i?(r="onSwapExactTokensForETH",d=[l,m,f,s,o,p],u="0x0"):(r="onSwapExactTokensForTokens",d=[l,m,f,s,o,p],u="0x0");break;case exports.SwapType.EXACT_OUTPUT:n?(r="onSwapETHForExactTokens",d=[l,m,s,o,p],u=f):i?(r="onSwapTokensForExactETH",d=[l,m,s,f,o,p],u="0x0"):(r="onSwapTokensForExactTokens",d=[l,m,s,f,o,p],u="0x0")}}else{var c=e.route.path.map((function(e){return e.address})),y=Boolean(t.feeOnTransfer);switch(e.tradeType){case exports.SwapType.EXACT_INPUT:n?(r=y?"swapExactETHForTokensSupportingFeeOnTransferTokens":"swapExactETHForTokens",d=[s,c,o,p],u=f):i?(r=y?"swapExactTokensForETHSupportingFeeOnTransferTokens":"swapExactTokensForETH",d=[f,s,c,o,p],u="0x0"):(r=y?"swapExactTokensForTokensSupportingFeeOnTransferTokens":"swapExactTokensForTokens",d=[f,s,c,o,p],u="0x0");break;case exports.SwapType.EXACT_OUTPUT:y&&a(!1),n?(r="swapETHForExactTokens",d=[s,c,o,p],u=f):i?(r="swapTokensForExactETH",d=[s,f,c,o,p],u="0x0"):(r="swapTokensForExactTokens",d=[s,f,c,o,p],u="0x0")}}return{methodName:r,args:d,value:u}},e}();exports.AmplifiedWeightedPair=on,exports.Currency=K,exports.CurrencyAmount=ye,exports.FACTORY_ADDRESS=c,exports.Fraction=pe,exports.INIT_CODE_HASH={56:"0x00fb7f630766e6a796048ea87d01acd3068e8ff67d078148a3fa3f4a84f69bd5",97:"0x00fb7f630766e6a796048ea87d01acd3068e8ff67d078148a3fa3f4a84f69bd5",80001:"0xc2b3644608b464a0df0eb711ce9c6ce7535d1bd4d0154b8389738a3e7fbb1a61",43113:"0x98fcd7ed545dc443aa0c7e57e5f54affba6cf755a7eadfd269143f9bf62024d8"},exports.INIT_CODE_HASH_WEIGHTED={43113:"0xbeec252b6527ff023d9f20fa336f9f131a002be662ce64ef7f9ed17b5ea8b591",42261:"0x98fcd7ed545dc443aa0c7e57e5f54affba6cf755a7eadfd269143f9bf62024d8",110001:"0x98fcd7ed545dc443aa0c7e57e5f54affba6cf755a7eadfd269143f9bf62024d8"},exports.InsufficientInputAmountError=L,exports.InsufficientReservesError=W,exports.MINIMUM_LIQUIDITY=b,exports.MIN_POW_BASE_FREE_EXPONENT=et,exports.NETWORK_CCY=Y,exports.ONE=Je,exports.ONE_18=ve,exports.PairData=wn,exports.Percent=le,exports.Pool=nn,exports.Price=he,exports.Route=jn,exports.RouteProvider=Qn,exports.STABLECOINS=ae,exports.STABLES_INDEX_MAP=re,exports.STABLES_LP_TOKEN=ue,exports.STABLE_POOL_ADDRESS=y,exports.STABLE_POOL_LP_ADDRESS={43113:"0x3372de341a07418765ae12f77aee9029eaa4442a",42261:"0x9364E91ca784ca51f88dE2a76a35Ba2665bdad04",110001:"0x029f9f8e2c27627341824120ee814F31a1551256"},exports.StablePool=gn,exports.StableSwapStorage=tn,exports.Swap=Kn,exports.SwapRoute=zn,exports.SwapRouter=Zn,exports.Token=Z,exports.TokenAmount=be,exports.WEIGHTED_FACTORY_ADDRESS={43113:"0xacd3602152763C3AAFA705D8a90C36661ecD7d46",42261:"0x0459e858F17ef5D927625f34602432f4fac6941e",110001:"0xe092CB3124aF36a0B851839D8EC51CaaD9a3DCD0"},exports.WETH=ne,exports.WRAPPED_NETWORK_TOKENS=ie,exports.WeightedPool=sn,exports.WeightedSwapStorage=en,exports.ZERO=Te,exports._calcAllTokensInGivenExactLpOut=ht,exports._calcDueTokenProtocolSwapFeeAmount=function(e,t,n,i,a){if(i.lte(n))return Te;var r=at(n,i),u=it(Je,t),o=tt(e,ot(ut(r=ft(r,et),u)));return tt(o,a)},exports._calcInGivenOut=ct,exports._calcLpInGivenExactTokensOut=Tt,exports._calcLpOutGivenExactTokensIn=yt,exports._calcOutGivenIn=lt,exports._calcTokenInGivenExactLpOut=function(e,t,n,i,r){var u=at(i.add(n),i);u.lte(pt)||a(!1);var o=nt(e,ut(u,at(Je,t)).sub(Je)),f=nt(o,ot(t)),s=o.sub(f),d=at(f,Je.sub(r));return{swapFee:d.sub(f),amountIn:s.add(d)}},exports._calcTokenOutGivenExactLpIn=gt,exports._calcTokensOutGivenExactLpIn=function(e,t,n){for(var i=it(t,n),a=[],r=0;r<e.length;r++)a.push(tt(e[r],i));return a},exports._calculateInvariant=function(e,t){for(var n=Je,i=0;i<e.length;i++)n=tt(n,ut(t[i],e[i]));return n.gt(0)||a(!1),n},exports._computeExitExactTokensOutInvariantRatio=vt,exports._computeJoinExactTokensInInvariantRatio=bt,exports._ln=Ye,exports._ln_36=Ze,exports._xp=It,exports.bondPrice=Ln,exports.bondPriceUsingDebtRatio=Vn,exports.calculateRemoveLiquidityExactIn=kt,exports.calculateRemoveLiquidityOneTokenExactIn=wt,exports.calculateSwapGivenIn=Nt,exports.calculateSwapGivenOut=At,exports.calculateTokenAmount=Bt,exports.complement=ot,exports.currencyEquals=J,exports.debtRatio=Wn,exports.decode=function(e){return e.div(On)},exports.decode112with18=Rn,exports.divDown=it,exports.divUp=at,exports.exp=Qe,exports.findPositionInMaxExpArray=Qt,exports.fraction=Fn,exports.fullPayoutFor=function(e,t,n,i,a,r){return Un(Cn(e,n,i,a),Ln(r.controlVariable,n,t))},exports.fullPayoutForUsingDebtRatio=function(e,t,n,i,a,r){return Un(Cn(e,n,i,a),Vn(r.controlVariable,t))},exports.generalExp=zt,exports.generalLog=Gt,exports.getAmountIn=Zt,exports.getAmountOut=Yt,exports.getTotalValue=En,exports.inputOutputComparator=Gn,exports.ln=function(e){return we.lt(e)&&e.lt(ke)?Ze(e).div(ve):Ye(e)},exports.log=function(e,t){var n;return n=we.lt(t)&&t.lt(ke)?Ze(t):Ye(t).mul(ve),(we.lt(e)&&e.lt(ke)?Ze(e):Ye(e).mul(ve)).mul(ve).div(n)},exports.markdown=function(e,t){var n=t.equals(e.token0)?[e.reserve1.toBigNumber(),i.BigNumber.from(e.weight1.toString()),i.BigNumber.from(e.weight0.toString())]:[e.reserve0.toBigNumber(),i.BigNumber.from(e.weight0.toString()),i.BigNumber.from(e.weight1.toString())],a=n[0],r=n[2];return a.add(n[1].mul(a).div(r)).mul(Bn.pow(i.BigNumber.from(t.decimals)).div(En(e,t)))},exports.max=ft,exports.min=function(e,t){return e.lt(t)?e:t},exports.mulDown=tt,exports.mulUp=nt,exports.optimalExp=Kt,exports.optimalLog=Ht,exports.pairDataFromPools=function(e){for(var t=wn.dataFromPool(e[0]),n=1;n<e.length;n++)t=t.concat(wn.dataFromPool(e[n]));return t},exports.payoutFor=Un,exports.pow=ze,exports.powDown=rt,exports.powUp=ut,exports.power=jt,exports.sqrrt=Sn,exports.tradeComparator=function(e,t){var n=Gn(e,t);return 0!==n?n:e.route.path.length-t.route.path.length},exports.valuation=Cn,exports.wrappedCurrency=function(e,t){return e instanceof Z?e:e===Y[t]?ie[t]:void a(!1)};
//# sourceMappingURL=sdk.cjs.production.min.js.map
